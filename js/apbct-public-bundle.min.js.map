{"version":3,"sources":["apbct-public-bundle.js"],"names":["ApbctCore","_createClass","selector","_classCallCheck","this","_defineProperty","select","key","value","Array","prototype","slice","call","_typeof","elements","document","querySelectorAll","deselect","elemToAdd","elem","push","addElement","style","getRaw","styleName","Object","hasOwn","replace","group","reduce","toUpperCase","i","length","DomStyleName","computedStyle","stringToCamelCase","Number","prop","css","display","classList","add","className","remove","toggle","ajaxParameters","ajax_parameters","ApbctAjax","restParameters","ApbctRest","eventCallback","arguments","undefined","eventSelector","addEventListener","event","onChecker","bind","target","querySelector","stopPropagation","callback","on","attrName","outputValue","getAttribute","propName","ready","name","filter","_step","_iterator","_createForOfIteratorHelper","s","n","done","isElem","err","e","f","elemToCheck","is","data","newlyCreatedElement","createElement","constructor","val","HTMLElement","HTMLUnknownElement","indexOf","tagName","toLowerCase","match","Boolean","isWithoutSelector","_iterator2","_step2","splice","parentElement","isRegisteredTagName","children","current","parent","_step3","_iterator3","content","_step4","_iterator4","after","_step5","_iterator5","append","time","_step6","_iterator6","tick","opacity","Date","last","window","requestAnimationFrame","setTimeout","_step7","_iterator7","siblings","ctProcessError","log","ctJsErrors","msg","message","file","lineNo","col","columnNumber","columnNo","stacktrace","stack","JSON","stringify","url","errorObj","error","location","navigator","userAgent","errArray","localStorage","parse","setItem","selectActualNonce","defaultNonce","ctPublicFunctions","data__ajax_type","hasOwnProperty","_ajax_nonce","_rest_nonce","apbct","params","Math","floor","_loop","exception","filterWords","ApbctXhr","XMLHttpRequest","parameters","keys","convertData","open","method","async","user","password","xhr","responseType","timeout","onreadystatechange","isWpNonceError","getFreshNonceAndRerunXHR","onLoad","onprogress","onerror","onError","ontimeout","onTimeout","body","button","spinner","http_code","status","status_text","statusText","removeAttribute","cursor","fadeOut","on_ready_state_change","on_progress","deleteDoubleJSONEncoding","console","setHeaders","onErrorCallback","onload","onProgress","complete","send","response","context","restErrror","ajaxErrror","readyState","initialRequestParams","noncePrev","progressbar","headers","spbc_remote_call_action","plugin_name","nonce_prev","initial_request_params","notJson","host_url","newRequestParams","args","freshNonceResult","_fresh_nonce","wpnonce","rest","ajax","httpCode","additionalMsg","errorString","errorOutput","errorMsg","headerName","setRequestHeader","methods_to_convert_data_to_URL","convertDataToURL","convertDataToBody","paramsAppendix","URLSearchParams","toString","paramsPrefix","dataKey","FormData","object","objectKey","parsedValue","_len2","_key2","_callSuper","_inherits","_len3","nonce","default_route","route","X-WP-Nonce","_this","_rest_url","defineProperty","property","enumerable","configurable","writable","ApbctCollectingUserActivity","setListeners","_this2","elementBody","getSelection","type","addSelected","checkElementInForms","resultCheck","outerHTML","collectionForms","innerHTML","addTarget","addClicks","trackMouseMovement","_ApbctXhr2","ctCollectingUserActivityData","clicks","selected","_ApbctXhr3","mouseMovementsInsideForm","cookies","expires","forcedAltCookiesSet","listOfCookieNamesToForceAlt","skipAlt","selectedType","data__cookies_type","forEach","item","apbctLocalStorage","set","ctSetAlternativeCookie","force_alt_cookies","forceAltCookies","ctNoCookieAttachHiddenFieldsToForms","ctPublic","_expires","ctSecure","protocol","cookie","cookiePrefix","encodeURIComponent","ninjaFormsSign","elementorUltimateAddonsRegister","smartFormsSign","jetpackCommentsForm","cwginstockForm","userRegistrationProForm","etPbDiviSubscriptionForm","fluentBookingApp","pafeFormsFormElementor","otterForm","smartQuizBuilder","bloomPopup","bookingPress","getJavascriptClientData","isArray","apbct_pixel_url","decodeURIComponent","apbct_public_sendAJAX","action","beforeSend","ctGetCookie","matches","ctDetectForcedAltCookiesForms","RegExp","obj","_params","callback_context","callback_params","silent","apbct_force_alt_cookies","_ajax_url","random","no_cache","apbctGenerateUniqueID","substr","get","storageValue","getItem","cookieName","ctDeleteCookie","json","objToSave","timestamp","getTime","maxLifetime","delete","removeItem","isSet","sessionStorage","getCleanTalkData","apbctSessionStorage","apbctOnAnimationStart","apbctAutocomplete","apbctCancelAutocomplete","apbctOnInput","inputType","element","setAttribute","CustomEvent","bubbles","cancelable","detail","dispatchEvent","ApbctForceProtection","findWrappers","wrappers","checkBot","_this3","event_javascript_data","href","referrer","apbct_public_sendREST","result","checkBotCallback","decodeForms","allow","Event","showMessageForBot","wrapper","form","dataset","encodedForm","atob","urlDecoded","apbctForceProtect","data__key_is_ok","ctMouseReadInterval","ctMouseWriteDataInterval","tokenCheckerIntervalId","CTTypoData","isAutoFill","isUseBuffer","speedDelta","firstKeyTimestamp","lastKeyTimestamp","lastDelta","countOfKey","_this4","fields","field","assign","fieldData","_this5","currentDelta","abs","settings__forms__force_protection","apbct_attach_event_handler","ctTimeMs","ctMouseEventTimerFlag","ctMouseData","ctMouseDataCounter","ctCheckedEmails","ctCheckedEmailsExist","botDetectorLogLastUpdate","botDetectorLogEventTypesCollected","attachEvent","apbct_remove_event_handler","removeEventListener","ctSetCookie","ctKeyStopStopListening","ctFunctionMouseMove","cronFormsHandler","data__bot_detector_enabled","gatheringFields","data__frontend_data_log_enabled","sendBotDetectorLogToAltSessions","setInterval","ctSetMouseMoved","restartFieldsListening","restartBotDetectorEventTokenAttach","cronStartTimeout","interval","needsSaveLogToAltSessions","currentLog","log_last_update","records","currentType","frontend_data","js_event","includes","token","doAttach","output","getElementsByClassName","setEventTokenField","ctMouseStopData","clearInterval","ctFunctionFirstKey","currentEmail","test","email","now","checkEmailExist","getResultCheckEmailExist","viewCheckEmailExist","envelope","getElementById","hint","text_result","state","textResult","inputEmail","top","getBoundingClientRect","ctEmailExistSetElementsPositions","onmouseover","textContent","height","onmouseout","color","right","offsetHeight","width","offsetWidth","left","settings__data__bot_detector_enabled","pixel__enabled","ctSetPixelImg","pixelUrl","pixel__setting","insertedImg","envelopeWidth","ctSetPixelImgFromLocalstorage","ctIsDrawPixel","isAlive","localStoragePixelUrl","String","ctSetHasScrolled","ctStartFieldsListening","forms","handledFormFields","ctFunctionHasInputFocused","ctFunctionHasKeyUp","ctStopFieldsListening","handled_fields","eventName","functionName","ctSetHasInputFocused","ctSetHasKeyUp","ctPrepareBlockMessage","apbctPrepareBlockForAjaxForms","responseText","jQuery","ajaxComplete","settings","startForcedAltEventTokenChecker","botDetectorLocalStorage","wc_ajax_add_to_cart","eventToken","sessionID","apbct_ready","apbctWriteReferrersToSessionStorage","cookiesType","apbctCheckAddToCartByGet","getTimezoneOffset","ctTypoData","initCookies","URL","host","cookiesArray","ctGetPixelUrl","data__email_check_before_post","ctDate","apbctGetScreenInfo","webdriver","tokenForForceAlt","split","trim","ctAddWCMiddlewares","ctCheckHiddenFieldsExclusions","pixel__url","checkEmail","data__email_check_exist_post","hiddenInput","onsubmit","apbct_visible_fields_set_cookie","isFormThatNeedCatchXhr","noCookieData","preventDefault","ctAjaxSetupAddCleanTalkDataBeforeSendAjax","encodedEmailNodes","visibleFieldsToInput","ctSetSearchFormSubmitMiddleWare","settings__sfw__anti_crawler","apbct_visible_fields","checkBotDetectorExist","visibleFields","apbct_collect_visible_fields","btoa","onsubmit_prev","_iterator8","ctFormIndex","apbctSearchPrevOnsubmit","_form","getNoCookieData","defaultSend","ctSearchFormOnSubmitHandler","_step8","Function","ctOnsubmitPrevCallExclude","contains","botDetectorIntervalSearch","ctFillDecodedEmailHandler","apbctCatchXmlHttpRequest","options","settings__forms__search_test","_unused","apiFetch","ctPinDataToRequest","addidionalCleantalkData","bot_detector_event_token","wp","use","next","sourceSign","requests","path","ct_no_cookie_hidden_field","event_token","originalSend","cleantalkStorageDataArray","getCleanTalkStorageDataArray","targetForm","honeyPotField","apply","ajaxSetup","hpValue","callBack","_unused2","ct_checked_emails","ct_pointer_data","ct_ps_timestamp","ct_timezone","ct_screen_info","ctHasScrolledLocalStorage","apbctSiteReferer","ctJsErrorsLocalStorage","ctMouseMovedCookie","resultDataJson","commonCookies","removeDoubleJsonEncoding","eventTokenLocalStorage","parentNode","removeChild","submit","apbct_search_form__honeypot_value","ct_bot_detector_event_token","parsedCookies","inputsVisibleCount","inputsInvisible","inputsInvisibleCount","inputsWithDuplicateNames","warn","ctMouseMovedLocalStorage","ct_checked_emails_exist","ct_checkjs","ct_fkp_timestamp","inputs","ctCookiesTypeLocalStorage","getComputedStyle","apbctPrevReferer","visibility","apbctHeadless","ctCookiesPixelUrl","apbctHeadlessNative","ct_mouse_moved","inputsVisible","ctHasScrolledCookie","ct_cookies_type","ctPixelUrl","visible_fields","apbct_headless","visible_fields_count","invisible_fields","ctBotDetectorFrontendDataLog","invisible_fields_count","apbctPageHits","apbct_prev_referer","collection","apbct_ct_js_errors","ctParseBlockMessage","blocked","comment","ajaxPixelUrl","isNaN","noCookieDataTypo","collectingUserActivityData","ctGetPageForms","visibleFieldsCollection","formId","ctGetHiddenFieldExclusionsType","data__visible_fields_required","apbct_js_keys__set_input_value","id","js_key","fullWidth","documentElement","scrollWidth","max","scrollHeight","clientHeight","visibleWidth","clientWidth","ncFieldExclusionsSign","no_cookie","formAction","cleantalkModal","loaded","stop","ctNoCookieConstructHiddenField","exclusions","noCookieDataLocal","noCookieDataSession","typo","noCookieDataFromUserActivity","collecting_user_activity_data","checkFormsExistForCatching","_objectSpread","isFormThatNeedCatch","defaultFetch","formClasses","classExists","_iterator9","_step9","_loop4","hiddenFieldType","sessionCurrentPage","el","loading","j","ct_checkjs_key","_len4","_key4","pathname","closeCss","styles","classForm","closeCssBefore","closeCssAfter","renderCss","cleantalkModalStyle","overlay","inner","close","opened","opening","load","ignoreURLConvert","apbct_admin_sendAJAX","ctTrpIsAdminCommentsList","cssStr","ctTrpAdminLocalize","ctTrpLocalize","overlayCss","position","background","themesCommentsSelector","woocommerceReviewsSelector","adminCommentsListSelector","trpComments","border","box-shadow","trpLayout","trpDescription","trpDescriptionHeading","trpDescriptionContent","trpDescriptionContentSpan","learnMoreLink","trpImage","badges","badge","hideTimeout","closeAllPopupTRP","border-radius","nextElementSibling","popup","transform","_this7","clearTimeout","bodyCss","innerCss","_this8","selection","onSelectionChange","allDisplayPopup","_this6","theRealPerson","index","pagenow","imgPersonUrl","phrases","trpHeading","trpContent1","trpContent2","trpContentLink","text","trpContentLearnMore"],"mappings":"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","file":"apbct-public-bundle.min.js","sourcesContent":["/**\n * Base class\n */\nclass ApbctCore {\n    ajax_parameters = {};\n    restParameters = {};\n\n    selector = null;\n    elements = [];\n\n    // Event properties\n    eventCallback;\n    eventSelector;\n    event;\n\n    /**\n     * Default constructor\n     * @param {string} selector\n     */\n    constructor(selector) {\n        this.select(selector);\n    }\n\n    /**\n     * Get elements by CSS selector\n     *\n     * @param {string} selector\n     * @return {*}\n     */\n    select(selector) {\n        if (selector instanceof HTMLCollection) {\n            this.selector = null;\n            this.elements = [];\n            this.elements = Array.prototype.slice.call(selector);\n        } else if ( typeof selector === 'object' ) {\n            this.selector = null;\n            this.elements = [];\n            this.elements[0] = selector;\n        } else if ( typeof selector === 'string' ) {\n            this.selector = selector;\n            this.elements = Array.prototype.slice.call(document.querySelectorAll(selector));\n            // this.elements = document.querySelectorAll(selector)[0];\n        } else {\n            this.deselect();\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {object|string} elemToAdd\n     */\n    addElement(elemToAdd) {\n        if ( typeof elemToAdd === 'object' ) {\n            this.elements.push(elemToAdd);\n        } else if ( typeof elemToAdd === 'string' ) {\n            this.selector = elemToAdd;\n            this.elements = Array.prototype.slice.call(document.querySelectorAll(elemToAdd));\n        } else {\n            this.deselect();\n        }\n    }\n\n    /**\n     * @param {object} elem\n     */\n    push(elem) {\n        this.elements.push(elem);\n    }\n\n    /**\n     * reduce\n     */\n    reduce() {\n        this.elements = this.elements.slice(0, -1);\n    }\n\n    /**\n     * deselect\n     */\n    deselect() {\n        this.elements = [];\n    }\n\n    /**\n     * Set or get CSS for/of currently selected element\n     *\n     * @param {object|string} style\n     * @param {boolean} getRaw\n     *\n     * @return {boolean|*}\n     */\n    css(style, getRaw) {\n        getRaw = getRaw || false;\n\n        // Set style\n        if (typeof style === 'object') {\n            const stringToCamelCase = (str) =>\n                str.replace(/([-_][a-z])/g, (group) =>\n                    group\n                        .toUpperCase()\n                        .replace('-', '')\n                        .replace('_', ''),\n                );\n\n            // Apply multiple styles\n            for (const styleName in style) {\n                if (Object.hasOwn(style, styleName)) {\n                    const DomStyleName = stringToCamelCase(styleName);\n\n                    // Apply to multiple elements (currently selected)\n                    for (let i=0; i<this.elements.length; i++) {\n                        this.elements[i].style[DomStyleName] = style[styleName];\n                    }\n                }\n            }\n\n            return this;\n        }\n\n        // Get style of first currently selected element\n        if (typeof style === 'string') {\n            let computedStyle = getComputedStyle(this.elements[0])[style];\n\n            // Process\n            if ( typeof computedStyle !== 'undefined' && ! getRaw) {\n                // Cut of units\n                computedStyle = computedStyle.replace(/(\\d)(em|pt|%|px){1,2}$/, '$1');\n                // Cast to INT\n                computedStyle = Number(computedStyle) == computedStyle ? Number(computedStyle) : computedStyle;\n                return computedStyle;\n            }\n\n            // Return unprocessed\n            return computedStyle;\n        }\n    }\n\n    /**\n     * hide\n     */\n    hide() {\n        this.prop('prev-display', this.css('display'));\n        this.css({'display': 'none'});\n    }\n\n    /**\n     * show\n     */\n    show() {\n        this.css({'display': this.prop('prev-display')});\n    }\n\n    /**\n     * addClass\n     */\n    addClass() {\n        for (let i=0; i<this.elements.length; i++) {\n            this.elements[i].classList.add(className);\n        }\n    }\n\n    /**\n     * removeClass\n     */\n    removeClass() {\n        for (let i=0; i<this.elements.length; i++) {\n            this.elements[i].classList.remove(className);\n        }\n    }\n\n    /**\n     * @param {string} className\n     */\n    toggleClass(className) {\n        for (let i=0; i<this.elements.length; i++) {\n            this.elements[i].classList.toggle(className);\n        }\n    }\n\n    /**\n     * Wrapper for apbctAJAX class\n     *\n     * @param {object|array} ajaxParameters\n     * @return {ApbctAjax}\n     */\n    ajax(ajaxParameters) {\n        this.ajax_parameters = ajaxParameters;\n        return new ApbctAjax(ajaxParameters);\n    }\n\n    /**\n     * Wrapper for apbctREST class\n     *\n     * @param {object|array} restParameters\n     * @return {ApbctRest}\n     */\n    rest(restParameters) {\n        this.restParameters = restParameters;\n        return new ApbctRest(restParameters);\n    }\n\n    /**\n     * ************ EVENTS *************\n     */\n\n    /**\n     *\n     * Why the mess with arguments?\n     *\n     * Because we need to support the following function signatures:\n     *      on('click',                   function(){ alert('some'); });\n     *      on('click', 'inner_selector', function(){ alert('some'); });\n     *\n     * @param {object|array} args\n     */\n    on(...args) {\n        this.event = args[0];\n        this.eventCallback = args[2] || args[1];\n        this.eventSelector = typeof args[1] === 'string' ? args[1] : null;\n\n        for (let i=0; i<this.elements.length; i++) {\n            this.elements[i].addEventListener(\n                this.event,\n                this.eventSelector !== null ?\n                    this.onChecker.bind(this) :\n                    this.eventCallback,\n            );\n        }\n    }\n\n    /**\n     * Check if a selector of an event matches current target\n     *\n     * @param {object} event\n     * @return {*}\n     */\n    onChecker(event) {\n        if (event.target === document.querySelector(this.eventSelector)) {\n            event.stopPropagation();\n            return this.eventCallback(event);\n        }\n    }\n\n    /**\n     * @param {object|function|string} callback\n     */\n    ready(callback) {\n        document.addEventListener('DOMContentLoaded', callback);\n    }\n\n    /**\n     * @param {object|function|string} callback\n     */\n    change(callback) {\n        this.on('change', callback);\n    }\n\n    /**\n     * ATTRIBUTES\n     */\n\n    /**\n     * Get an attribute or property of an element\n     *\n     * @param {string} attrName\n     * @return {*|*[]}\n     */\n    attr(attrName) {\n        let outputValue = [];\n\n        for (let i=0; i<this.elements.length; i++) {\n            // Use property instead of attribute if possible\n            if (typeof this.elements[i][attrName] !== 'undefined') {\n                outputValue.push(this.elements[i][attrName]);\n            } else {\n                outputValue.push(this.elements[i].getAttribute(attrName));\n            }\n        }\n\n        // Return a single value instead of array if only one value is present\n        return outputValue.length === 1 ? outputValue[0] : outputValue;\n    }\n\n    /**\n     * @param {string} propName\n     * @param {mixed} value\n     * @return {*|*[]|ApbctCore}\n     */\n    prop(propName, value) {\n        // Setting values\n        if (typeof value !== 'undefined') {\n            for (let i=0; i<this.elements.length; i++) {\n                this.elements[i][propName] = value;\n            }\n\n            return this;\n\n            // Getting values\n        } else {\n            const outputValue = [];\n\n            for (let i=0; i<this.elements.length; i++) {\n                outputValue.push(this.elements[i][propName]);\n            }\n\n            // Return a single value instead of array if only one value is present\n            return outputValue.length === 1 ? outputValue[0] : outputValue;\n        }\n    }\n\n    /**\n     * Set or get inner HTML\n     *\n     * @param {string} value\n     * @return {*|*[]}\n     */\n    html(value) {\n        return typeof value !== 'undefined' ?\n            this.prop('innerHTML', value) :\n            this.prop('innerHTML');\n    }\n\n    /**\n     * Set or get value of input tags\n     *\n     * @param {mixed} value\n     * @return {*|*[]|undefined}\n     */\n    val(value) {\n        return typeof value !== 'undefined' ?\n            this.prop('value', value) :\n            this.prop('value');\n    }\n\n    /**\n     * @param {string} name\n     * @param {mixed} value\n     * @return {*|*[]|ApbctCore}\n     */\n    data(name, value) {\n        return typeof value !== 'undefined' ?\n            this.prop('apbct-data', name, value) :\n            this.prop('apbct-data');\n    }\n\n    /**\n     * END OF ATTRIBUTES\n     */\n\n    /**\n     * FILTERS\n     */\n\n    /**\n     * Check if the current elements are corresponding to filter\n     *\n     * @param {mixed} filter\n     * @return {boolean}\n     */\n    is(filter) {\n        let outputValue = false;\n\n        for (let elem of this.elements) {\n            outputValue ||= this.isElem(elem, filter);\n        }\n\n        return outputValue;\n    }\n\n    /**\n     * @param {string|object} elemToCheck\n     * @param {mixed} filter\n     * @return {boolean}\n     */\n    isElem(elemToCheck, filter) {\n        let is = false;\n        let isRegisteredTagName = function(name) {\n            let newlyCreatedElement = document.createElement(name).constructor;\n            return ! Boolean( ~[HTMLElement, HTMLUnknownElement].indexOf(newlyCreatedElement) );\n        };\n\n        // Check for filter function\n        if (typeof filter === 'function') {\n            is ||= filter.call(this, elemToCheck);\n        }\n\n        // Check for filter function\n        if (typeof filter === 'string') {\n            // Filter is tag name\n            if ( filter.match(/^[a-z]/) && isRegisteredTagName(filter) ) {\n                is ||= elemToCheck.tagName.toLowerCase() === filter.toLowerCase();\n\n                // Filter is property\n            } else if ( filter.match(/^[a-z]/) ) {\n                is ||= Boolean(elemToCheck[filter]);\n\n                // Filter is CSS selector\n            } else {\n                is ||= this.selector !== null ?\n                    document.querySelector(this.selector + filter) !== null : // If possible\n                    this.isWithoutSelector(elemToCheck, filter); // Search through all elems with such selector\n            }\n        }\n\n        return is;\n    }\n\n    /**\n     * @param {object|string} elemToCheck\n     * @param {mixed} filter\n     * @return {boolean}\n     */\n    isWithoutSelector(elemToCheck, filter) {\n        const elems = document.querySelectorAll(filter);\n        let outputValue = false;\n\n        for (let elem of elems) {\n            outputValue ||= elemToCheck === elem;\n        }\n\n        return outputValue;\n    }\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    filter(filter) {\n        this.selector = null;\n\n        for ( let i = this.elements.length - 1; i >= 0; i-- ) {\n            if ( ! this.isElem(this.elements[i], filter) ) {\n                this.elements.splice(Number(i), 1);\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * NODES\n     */\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    parent(filter) {\n        this.select(this.elements[0].parentElement);\n\n        if ( typeof filter !== 'undefined' && ! this.is(filter) ) {\n            this.deselect();\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    parents(filter) {\n        this.select(this.elements[0]);\n\n        for ( ; this.elements[this.elements.length - 1].parentElement !== null; ) {\n            this.push(this.elements[this.elements.length - 1].parentElement);\n        }\n\n        this.elements.splice(0, 1); // Deleting initial element from the set\n\n        if ( typeof filter !== 'undefined' ) {\n            this.filter(filter);\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    children(filter) {\n        this.select(this.elements[0].children);\n\n        if ( typeof filter !== 'undefined' ) {\n            this.filter(filter);\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    siblings(filter) {\n        let current = this.elements[0]; // Remember current to delete it later\n\n        this.parent();\n        this.children(filter);\n        this.elements.splice(this.elements.indexOf(current), 1); // Remove current element\n\n        return this;\n    }\n\n    /** ************ DOM MANIPULATIONS **************/\n    remove() {\n        for (let elem of this.elements) {\n            elem.remove();\n        }\n    }\n\n    /**\n     * @param {string} content\n     */\n    after(content) {\n        for (let elem of this.elements) {\n            elem.after(content);\n        }\n    }\n\n    /**\n     * @param {string} content\n     */\n    append(content) {\n        for (let elem of this.elements) {\n            elem.append(content);\n        }\n    }\n\n    /** ************  ANIMATION  **************/\n    /**\n     * @param {number} time\n     */\n    fadeIn(time) {\n        for (let elem of this.elements) {\n            elem.style.opacity = 0;\n            elem.style.display = 'block';\n\n            let last = +new Date();\n            const tick = function() {\n                elem.style.opacity = +elem.style.opacity + (new Date() - last) / time;\n                last = +new Date();\n\n                if (+elem.style.opacity < 1) {\n                    (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16);\n                }\n            };\n\n            tick();\n        }\n    }\n\n    /**\n     * @param {number} time\n     */\n    fadeOut(time) {\n        for (let elem of this.elements) {\n            elem.style.opacity = 1;\n\n            let last = +new Date();\n            const tick = function() {\n                elem.style.opacity = +elem.style.opacity - (new Date() - last) / time;\n                last = +new Date();\n\n                if (+elem.style.opacity > 0) {\n                    (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16);\n                } else {\n                    elem.style.display = 'none';\n                }\n            };\n\n            tick();\n        }\n    }\n}\n\n/**\n * Hack\n *\n * Make a proxy to keep both properties and methods from:\n *  - the native object and\n *  - the new one from ApbctCore for selected element.\n *\n * For example:\n * apbct('#id).innerHTML = 'some';\n * apbct('#id).css({'backgorund-color': 'black'});\n */\n// apbct = new Proxy(\n//         apbct,\n//         {\n//             get(target, prop) {\n//                 if (target.elements.length) {\n//                     return target.elements[0][prop];\n//                 } else {\n//                     return null;\n//                 }\n//             },\n//             set(target, prop, value){\n//                 if (target.elements.length) {\n//                     target.elements[0][prop] = value;\n//                     return true;\n//                 } else {\n//                     return false;\n//                 }\n//             },\n//             apply(target, thisArg, argArray) {\n//\n//             }\n//         }\n//     );\n\n/**\n * @param {mixed} msg\n * @param {string} url\n */\nfunction ctProcessError(msg, url) {\n    let log = {};\n    if (msg && msg.message) {\n        log.err = {\n            'msg': msg.message,\n            'file': !!msg.fileName ? msg.fileName : false,\n            'ln': !!msg.lineNumber ? msg.lineNumber : !!lineNo ? lineNo : false,\n            'col': !!msg.columnNumber ? msg.columnNumber : !!columnNo ? columnNo : false,\n            'stacktrace': !!msg.stack ? msg.stack : false,\n            'cause': !!url ? JSON.stringify(url) : false,\n            'errorObj': !!error ? error : false,\n        };\n    } else {\n        log.err = {\n            'msg': msg,\n        };\n\n        if (!!url) {\n            log.err.file = url;\n        }\n    }\n\n    log.url = window.location.href;\n    log.userAgent = window.navigator.userAgent;\n\n    let ctJsErrors = 'ct_js_errors';\n    let errArray = localStorage.getItem(ctJsErrors);\n    if (errArray === null) errArray = '[]';\n    errArray = JSON.parse(errArray);\n    for (let i = 0; i < errArray.length; i++) {\n        if (errArray[i].err.msg === log.err.msg) {\n            return;\n        }\n    }\n\n    errArray.push(log);\n    localStorage.setItem(ctJsErrors, JSON.stringify(errArray));\n}\n\nif (Math.floor(Math.random() * 100) === 1) {\n    window.onerror = function(exception, url) {\n        let filterWords = ['apbct', 'ctPublic'];\n        let length = filterWords.length;\n        while (length--) {\n            if (exception.indexOf(filterWords[length]) !== -1) {\n                ctProcessError(exception, url);\n            }\n        }\n\n        return false;\n    };\n}\n\n/**\n * Select actual WP nonce depending on the ajax type and the fresh nonce provided.\n * @return {string} url\n */\nfunction selectActualNonce() {\n    let defaultNonce = '';\n    // return fresh nonce immediately if persists\n    if (\n        ctPublicFunctions.hasOwnProperty('_fresh_nonce') &&\n        typeof ctPublicFunctions._fresh_nonce === 'string' &&\n        ctPublicFunctions._fresh_nonce.length > 0\n    ) {\n        return ctPublicFunctions._fresh_nonce;\n    }\n    // select from default rest/ajax nonces\n    if (\n        ctPublicFunctions.data__ajax_type === 'admin_ajax' &&\n        ctPublicFunctions.hasOwnProperty('_ajax_nonce') &&\n        typeof ctPublicFunctions._ajax_nonce === 'string' &&\n        ctPublicFunctions._ajax_nonce.length > 0\n    ) {\n        defaultNonce = ctPublicFunctions._ajax_nonce;\n    }\n    if (\n        ctPublicFunctions.data__ajax_type === 'rest' &&\n        ctPublicFunctions.hasOwnProperty('_rest_nonce') &&\n        typeof ctPublicFunctions._rest_nonce === 'string' &&\n        ctPublicFunctions._rest_nonce.length > 0\n    ) {\n        defaultNonce = ctPublicFunctions._rest_nonce;\n    }\n\n    return defaultNonce;\n}\n\n/**\n * Enter point to ApbctCore class\n *\n * @param {array|object} params\n * @return {*}\n */\n// eslint-disable-next-line no-unused-vars, require-jsdoc\nfunction apbct(params) {\n    return new ApbctCore()\n        .select(params);\n}\n\n/**\n * ApbctXhr\n */\nclass ApbctXhr {\n    xhr = new XMLHttpRequest();\n\n    // Base parameters\n    method = 'POST'; // HTTP-request type\n    url = ''; // URL to send the request\n    async = true;\n    user = null; // HTTP-authorization username\n    password = null; // HTTP-authorization password\n    data = {}; // Data to send\n\n    // Optional params\n    button = null; // Button that should be disabled when request is performing\n    spinner = null; // Spinner that should appear when request is in process\n    progressbar = null; // Progress bar for the current request\n    context = this; // Context\n    callback = null;\n    onErrorCallback = null;\n\n    responseType = 'json'; // Expected data type from server\n    headers = {};\n    timeout = 15000; // Request timeout in milliseconds\n\n    methods_to_convert_data_to_URL = [\n        'GET',\n        'HEAD',\n    ];\n\n    body = null;\n    http_code = 0;\n    status_text = '';\n\n    // eslint-disable-next-line require-jsdoc\n    constructor(parameters) {\n        // Set class properties\n        for ( let key in parameters ) {\n            if ( typeof this[key] !== 'undefined' ) {\n                this[key] = parameters[key];\n            }\n        }\n\n        // Modifying DOM-elements\n        this.prepare();\n\n        // Modify URL with data for GET and HEAD requests\n        if ( Object.keys(this.data).length ) {\n            this.deleteDoubleJSONEncoding(this.data);\n            this.convertData();\n        }\n\n        if ( ! this.url ) {\n            console.log('%cXHR%c not URL provided',\n                'color: red; font-weight: bold;', 'color: grey; font-weight: normal;');\n            return false;\n        }\n\n        // Configure the request\n        this.xhr.open(this.method, this.url, this.async, this.user, this.password);\n        this.setHeaders();\n\n        this.xhr.responseType = this.responseType;\n        this.xhr.timeout = this.timeout;\n\n        /* EVENTS */\n        // Monitoring status\n        this.xhr.onreadystatechange = function() {\n            if (this.isWpNonceError()) {\n                this.getFreshNonceAndRerunXHR(parameters);\n                return;\n            }\n            this.onReadyStateChange();\n        }.bind(this);\n\n        // Run callback\n        this.xhr.onload = function() {\n            this.onLoad();\n        }.bind(this);\n\n        // On progress\n        this.xhr.onprogress = function(event) {\n            this.onProgress(event);\n        }.bind(this);\n\n        // On error\n        this.xhr.onerror = function() {\n            this.onError();\n        }.bind(this);\n\n        this.xhr.ontimeout = function() {\n            this.onTimeout();\n        }.bind(this);\n\n        // Send the request\n        this.xhr.send(this.body);\n    }\n\n    /**\n     * prepare\n     */\n    prepare() {\n        // Disable button\n        if (this.button) {\n            this.button.setAttribute('disabled', 'disabled');\n            this.button.style.cursor = 'not-allowed';\n        }\n\n        // Enable spinner\n        if (this.spinner) {\n            this.spinner.style.display = 'inline';\n        }\n    }\n\n    /**\n     * complete\n     */\n    complete() {\n        this.http_code = this.xhr.status;\n        this.status_text = this.xhr.statusText;\n\n        // Disable button\n        if (this.button) {\n            this.button.removeAttribute('disabled');\n            this.button.style.cursor = 'auto';\n        }\n\n        // Enable spinner\n        if (this.spinner) {\n            this.spinner.style.display = 'none';\n        }\n\n        if ( this.progressbar ) {\n            this.progressbar.fadeOut('slow');\n        }\n    }\n\n    /**\n     * onReadyStateChange\n     */\n    onReadyStateChange() {\n        if (this.on_ready_state_change !== null && typeof this.on_ready_state_change === 'function') {\n            this.on_ready_state_change();\n        }\n    }\n\n    /**\n     * @param {object} event\n     */\n    onProgress(event) {\n        if (this.on_progress !== null && typeof this.on_progress === 'function') {\n            this.on_progress();\n        }\n    }\n\n    /**\n     * onError\n     */\n    onError() {\n        console.log('error');\n\n        this.complete();\n        this.error(\n            this.http_code,\n            this.status_text,\n        );\n\n        if (this.onErrorCallback !== null && typeof this.onErrorCallback === 'function') {\n            this.onErrorCallback(this.status_text);\n        }\n    }\n\n    /**\n     * onTimeout\n     */\n    onTimeout() {\n        this.complete();\n        this.error(\n            0,\n            'timeout',\n        );\n\n        if (this.onErrorCallback !== null && typeof this.onErrorCallback === 'function') {\n            this.onErrorCallback('Timeout');\n        }\n    }\n\n    /**\n     * @return {boolean}\n     */\n    onLoad() {\n        this.complete();\n\n        if (this.responseType === 'json' ) {\n            if (this.xhr.response === null) {\n                this.error(this.http_code, this.status_text, 'No response');\n                return false;\n            } else if ( typeof this.xhr.response.error !== 'undefined') {\n                this.error(this.http_code, this.status_text, this.xhr.response.error);\n                return false;\n            }\n        }\n\n        if (this.callback !== null && typeof this.callback === 'function') {\n            this.callback.call(this.context, this.xhr.response, this.data);\n        }\n    }\n\n    /**\n     * Check if 403 code of WP nonce error\n     * @return {bool}\n     */\n    isWpNonceError() {\n        let restErrror = false;\n        let ajaxErrror = false;\n        // check rest error\n        if (this.xhr.readyState == 4) {\n            restErrror = (\n                typeof this.xhr.response === 'object' && this.xhr.response !== null &&\n                this.xhr.response.hasOwnProperty('data') &&\n                this.xhr.response.data.hasOwnProperty('status') &&\n                this.xhr.response.data.status === 403\n            );\n            ajaxErrror = this.xhr.response === '-1' && this.xhr.status === 403;\n        }\n        // todo check AJAX error\n        return restErrror || ajaxErrror;\n    }\n\n    /**\n     * Get the fresh nonce and rerun the initial XHR with params\n     * @param {[]} initialRequestParams\n     */\n    getFreshNonceAndRerunXHR(initialRequestParams) {\n        let noncePrev = '';\n\n        // Check if initialRequestParams['headers']['X-WP-Nonce'] exists.\n        if (\n            initialRequestParams.hasOwnProperty('headers') &&\n            initialRequestParams.headers.hasOwnProperty('X-WP-Nonce')\n        ) {\n            noncePrev = initialRequestParams['headers']['X-WP-Nonce'];\n        }\n\n        // Check if initialRequestParams['data']['_ajax_nonce'] exists.\n        if (\n            initialRequestParams.hasOwnProperty('data') &&\n            initialRequestParams.data.hasOwnProperty('_ajax_nonce')\n        ) {\n            noncePrev = initialRequestParams['data']['_ajax_nonce'];\n        }\n\n        // Nonce is not provided. Exit.\n        if ( noncePrev === '' ) {\n            return;\n        }\n\n        // prepare params for refreshing nonce\n        let params = {};\n        params.method = 'POST';\n        params.data = {\n            'spbc_remote_call_action': 'get_fresh_wpnonce',\n            'plugin_name': 'antispam',\n            'nonce_prev': noncePrev,\n            'initial_request_params': initialRequestParams,\n        };\n        params.notJson = true;\n        params.url = ctPublicFunctions.host_url;\n        // this callback will rerun the XHR with initial params\n        params.callback = function(...args) {\n            // the refresh result itself\n            let freshNonceResult = args[0];\n            let newRequestParams = false;\n            // provided initial params\n            if (args[1] !== undefined && args[1].hasOwnProperty('initial_request_params')) {\n                newRequestParams = args[1].initial_request_params;\n            }\n            if (newRequestParams && freshNonceResult.hasOwnProperty('wpnonce')) {\n                ctPublicFunctions._fresh_nonce = freshNonceResult.wpnonce;\n                if (ctPublicFunctions.data__ajax_type === 'rest') {\n                    new ApbctCore().rest(newRequestParams);\n                } else {\n                    new ApbctCore().ajax(newRequestParams);\n                }\n            }\n        };\n        // run the nonce refreshing call\n        new ApbctXhr(params);\n    }\n\n    /**\n     * @param {number} httpCode\n     * @param {string} statusText\n     * @param {string} additionalMsg\n     */\n    error(httpCode, statusText, additionalMsg) {\n        let errorString = '';\n\n        if ( statusText === 'timeout' ) {\n            errorString += 'Server response timeout';\n        } else if ( httpCode === 200 ) {\n            if ( statusText === 'parsererror' ) {\n                errorString += 'Unexpected response from server. See console for details.';\n            } else {\n                errorString += 'Unexpected error. Status: ' + statusText + '.';\n                if ( typeof additionalMsg !== 'undefined' ) {\n                    errorString += ' Additional error info: ' + additionalMsg;\n                }\n            }\n        } else if (httpCode === 500) {\n            errorString += 'Internal server error.';\n        } else {\n            errorString += 'Unexpected response code:' + httpCode;\n        }\n\n        this.errorOutput( errorString );\n\n        if (this.onErrorCallback !== null && typeof this.onErrorCallback === 'function') {\n            this.onErrorCallback(this.status_text);\n        }\n    }\n\n    /**\n     * @param {string} errorMsg\n     */\n    errorOutput(errorMsg) {\n        console.log( '%c ctXHR error: %c' + errorMsg, 'color: red;', 'color: grey;' );\n    }\n\n    /**\n     * setHeaders\n     */\n    setHeaders() {\n        // Set headers if passed\n        for ( let headerName in this.headers ) {\n            if ( typeof this.headers[headerName] !== 'undefined' ) {\n                this.xhr.setRequestHeader(headerName, this.headers[headerName]);\n            }\n        }\n    }\n\n    /**\n     * @return {string|*}\n     */\n    convertData() {\n        // GET, HEAD request-type\n        if ( ~this.methods_to_convert_data_to_URL.indexOf( this.method ) ) {\n            return this.convertDataToURL();\n\n            // POST request-type\n        } else {\n            return this.convertDataToBody();\n        }\n    }\n\n    /**\n     * @return {string}\n     */\n    convertDataToURL() {\n        let paramsAppendix = new URLSearchParams(this.data).toString();\n        let paramsPrefix = this.url.match(/^(https?:\\/{2})?[a-z0-9.]+\\?/) ? '&' : '?';\n        this.url += paramsPrefix + paramsAppendix;\n\n        return this.url;\n    }\n\n    /**\n     * @return {null}\n     */\n    convertDataToBody() {\n        this.body = new FormData();\n        for (let dataKey in this.data) {\n            if (Object.hasOwn(this.data, dataKey)) {\n                this.body.append(\n                    dataKey,\n                    typeof this.data[dataKey] === 'object' ?\n                        JSON.stringify(this.data[dataKey]) :\n                        this.data[dataKey],\n                );\n            }\n        }\n\n        return this.body;\n    }\n\n    /**\n     * Recursive\n     *\n     * Recursively decode JSON-encoded properties\n     *\n     * @param {object} object\n     * @return {*}\n     */\n    deleteDoubleJSONEncoding(object) {\n        if ( typeof object === 'object') {\n            for (let objectKey in object) {\n                if (Object.hasOwn(object, objectKey)) {\n                    // Recursion\n                    if ( typeof object[objectKey] === 'object') {\n                        object[objectKey] = this.deleteDoubleJSONEncoding(object[objectKey]);\n                    }\n\n                    // Common case (out)\n                    if (\n                        typeof object[objectKey] === 'string' &&\n                        object[objectKey].match(/^[\\[{].*?[\\]}]$/) !== null // is like JSON\n                    ) {\n                        let parsedValue = JSON.parse(object[objectKey]);\n                        if ( typeof parsedValue === 'object' ) {\n                            object[objectKey] = parsedValue;\n                        }\n                    }\n                }\n            }\n        }\n\n        return object;\n    }\n}\n// eslint-disable-next-line require-jsdoc\nclass ApbctAjax extends ApbctXhr {\n    // eslint-disable-next-line require-jsdoc\n    constructor(...args) {\n        args = args[0];\n        args.data._ajax_nonce = selectActualNonce();\n        super(args);\n    }\n}\n// eslint-disable-next-line require-jsdoc\nclass ApbctRest extends ApbctXhr {\n    static default_route = ctPublicFunctions._rest_url + 'cleantalk-antispam/v1/';\n    route = '';\n\n    // eslint-disable-next-line require-jsdoc\n    constructor(...args) {\n        args = args[0];\n        const nonce = selectActualNonce();\n        args.url = ApbctRest.default_route + args.route;\n        args.headers = {\n            'X-WP-Nonce': nonce,\n        };\n        super(args);\n    }\n}\n\n// add hasOwn\nif (!Object.prototype.hasOwn) {\n    Object.defineProperty(Object.prototype, 'hasOwn', { // eslint-disable-line\n        value: function(property) {\n            return Object.prototype.hasOwnProperty.call(this, property);\n        },\n        enumerable: false,\n        configurable: true,\n        writable: true,\n    });\n}\n\n/**\n * Class collecting user activity data\n *\n */\n// eslint-disable-next-line no-unused-vars, require-jsdoc\nclass ApbctCollectingUserActivity {\n    elementBody = document.querySelector('body');\n    collectionForms = document.forms;\n    /**\n     * Constructor\n     */\n    constructor() {\n        this.setListeners();\n    }\n\n    /**\n     * Set listeners\n     */\n    setListeners() {\n        this.elementBody.addEventListener('click', (event) => {\n            this.checkElementInForms(event, 'addClicks');\n        });\n\n        this.elementBody.addEventListener('mouseup', (event) => {\n            const selectedType = document.getSelection().type.toString();\n            if (selectedType == 'Range') {\n                this.addSelected();\n            }\n        });\n\n        this.elementBody.addEventListener('mousemove', (event) => {\n            this.checkElementInForms(event, 'trackMouseMovement');\n        });\n    }\n\n    /**\n     * Checking if there is an element in the form\n     * @param {object} event\n     * @param {string} addTarget\n     */\n    checkElementInForms(event, addTarget) {\n        let resultCheck;\n        for (let i = 0; i < this.collectionForms.length; i++) {\n            if (\n                event.target.outerHTML.length > 0 &&\n                this.collectionForms[i].innerHTML.length > 0\n            ) {\n                resultCheck = this.collectionForms[i].innerHTML.indexOf(event.target.outerHTML);\n            } else {\n                resultCheck = -1;\n            }\n        }\n\n        switch (addTarget) {\n        case 'addClicks':\n            if (resultCheck < 0) {\n                this.addClicks();\n            }\n            break;\n        case 'trackMouseMovement':\n            if (resultCheck > -1) {\n                this.trackMouseMovement();\n            }\n            break;\n        default:\n            break;\n        }\n    }\n\n    /**\n     * Add clicks\n     */\n    addClicks() {\n        if (document.ctCollectingUserActivityData) {\n            if (document.ctCollectingUserActivityData.clicks) {\n                document.ctCollectingUserActivityData.clicks++;\n            } else {\n                document.ctCollectingUserActivityData.clicks = 1;\n            }\n            return;\n        }\n\n        document.ctCollectingUserActivityData = {clicks: 1};\n    }\n\n    /**\n     * Add selected\n     */\n    addSelected() {\n        if (document.ctCollectingUserActivityData) {\n            if (document.ctCollectingUserActivityData.selected) {\n                document.ctCollectingUserActivityData.selected++;\n            } else {\n                document.ctCollectingUserActivityData.selected = 1;\n            }\n            return;\n        }\n\n        document.ctCollectingUserActivityData = {selected: 1};\n    }\n\n    /**\n     * Track mouse movement\n     */\n    trackMouseMovement() {\n        if (!document.ctCollectingUserActivityData) {\n            document.ctCollectingUserActivityData = {};\n        }\n        if (!document.ctCollectingUserActivityData.mouseMovementsInsideForm) {\n            document.ctCollectingUserActivityData.mouseMovementsInsideForm = false;\n        }\n\n        document.ctCollectingUserActivityData.mouseMovementsInsideForm = true;\n    }\n}\n\n/**\n * @param {object|array|string} cookies\n * @param {object|array|string} value\n * @param {string|number} expires\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction ctSetCookie( cookies, value, expires ) {\n    let listOfCookieNamesToForceAlt = [\n        'ct_sfw_pass_key',\n        'ct_sfw_passed',\n        'wordpress_apbct_antibot',\n        'apbct_anticrawler_passed',\n        'apbct_bot_detector_exist',\n        'apbct_antiflood_passed',\n        'apbct_email_encoder_passed',\n    ];\n\n    let skipAlt = false;\n\n    if ( typeof cookies === 'string') {\n        skipAlt = cookies === 'ct_pointer_data';\n        if ( typeof value === 'string' || typeof value === 'number' ) {\n            cookies = [[cookies, value, expires]];\n        }\n    }\n\n    // Cookies disabled\n    if ( ctPublicFunctions.data__cookies_type === 'none' ) {\n        let forcedAltCookiesSet = [];\n        cookies.forEach( function(item) {\n            if (listOfCookieNamesToForceAlt.indexOf(item[0]) !== -1) {\n                forcedAltCookiesSet.push(item);\n            } else {\n                apbctLocalStorage.set(item[0], item[1]);\n            }\n        });\n\n        // if cookies from list found use alt cookies for this selection set\n        if ( forcedAltCookiesSet.length > 0 ) {\n            ctSetAlternativeCookie(forcedAltCookiesSet);\n        }\n\n        // If problem integration forms detected use alt cookies for whole cookies set\n        if ( ctPublic.force_alt_cookies && !skipAlt) {\n            // do it just once\n            ctSetAlternativeCookie(cookies, {forceAltCookies: true});\n        } else {\n            ctNoCookieAttachHiddenFieldsToForms();\n        }\n\n        // Using traditional cookies\n    } else if ( ctPublicFunctions.data__cookies_type === 'native' ) {\n        // If problem integration forms detected use alt cookies for whole cookies set\n        if ( ctPublic.force_alt_cookies && !skipAlt) {\n            // do it just once\n            ctSetAlternativeCookie(cookies, {forceAltCookies: true});\n        }\n        cookies.forEach( function(item) {\n            const _expires = typeof item[2] !== 'undefined' ? 'expires=' + expires + '; ' : '';\n            let ctSecure = location.protocol === 'https:' ? '; secure' : '';\n            document.cookie = ctPublicFunctions.cookiePrefix +\n                item[0] +\n                '=' +\n                encodeURIComponent(item[1]) +\n                '; ' +\n                _expires +\n                'path=/; samesite=lax' +\n                ctSecure;\n        });\n\n        // Using alternative cookies\n    } else if ( ctPublicFunctions.data__cookies_type === 'alternative' && !skipAlt ) {\n        ctSetAlternativeCookie(cookies);\n    }\n}\n\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction ctDetectForcedAltCookiesForms() {\n    let ninjaFormsSign = document.querySelectorAll('#tmpl-nf-layout').length > 0;\n    let elementorUltimateAddonsRegister = document.querySelectorAll('.uael-registration-form-wrapper').length > 0;\n    let smartFormsSign = document.querySelectorAll('script[id*=\"smart-forms\"]').length > 0;\n    let jetpackCommentsForm = document.querySelectorAll('iframe[name=\"jetpack_remote_comment\"]').length > 0;\n    let cwginstockForm = document.querySelectorAll('.cwginstock-subscribe-form').length > 0;\n    let userRegistrationProForm = document.querySelectorAll('div[id^=\"user-registration-form\"]').length > 0;\n    let etPbDiviSubscriptionForm = document.querySelectorAll('div[class^=\"et_pb_newsletter_form\"]').length > 0;\n    let fluentBookingApp = document.querySelectorAll('div[class^=\"fluent_booking_app\"]').length > 0;\n    let bloomPopup = document.querySelectorAll('div[class^=\"et_bloom_form_container\"]').length > 0;\n    let pafeFormsFormElementor = document.querySelectorAll('div[class*=\"pafe-form\"]').length > 0;\n    let otterForm = document.querySelectorAll('div [class*=\"otter-form\"]').length > 0;\n    let smartQuizBuilder = document.querySelectorAll('form .sqbform, .fields_reorder_enabled').length > 0;\n    ctPublic.force_alt_cookies = smartFormsSign ||\n        ninjaFormsSign ||\n        jetpackCommentsForm ||\n        elementorUltimateAddonsRegister ||\n        cwginstockForm ||\n        userRegistrationProForm ||\n        etPbDiviSubscriptionForm ||\n        fluentBookingApp ||\n        pafeFormsFormElementor ||\n        bloomPopup ||\n        otterForm ||\n        smartQuizBuilder;\n\n    setTimeout(function() {\n        if (!ctPublic.force_alt_cookies) {\n            let bookingPress = document.querySelectorAll('main[id^=\"bookingpress_booking_form\"]').length > 0;\n            ctPublic.force_alt_cookies = bookingPress;\n        }\n    }, 1000);\n}\n\n// eslint-disable-next-line require-jsdoc\nfunction ctSetAlternativeCookie(cookies, params) {\n    if (typeof (getJavascriptClientData) === 'function' ) {\n        // reprocess already gained cookies data\n        if (Array.isArray(cookies)) {\n            cookies = getJavascriptClientData(cookies);\n        }\n    } else {\n        console.log('APBCT ERROR: getJavascriptClientData() is not loaded');\n    }\n\n    try {\n        cookies = JSON.parse(cookies);\n    } catch (e) {\n        console.log('APBCT ERROR: JSON parse error:' + e);\n        return;\n    }\n\n    const callback = params && params.callback || null;\n    const onErrorCallback = params && params.onErrorCallback || null;\n\n    if ( params && params.forceAltCookies ) {\n        cookies.apbct_force_alt_cookies = true;\n    }\n\n    // Using REST API handler\n    if ( ctPublicFunctions.data__ajax_type === 'rest' ) {\n        // fix for url encoded cookie apbct_pixel_url on REST route\n        if (typeof cookies.apbct_pixel_url === 'string' &&\n            cookies.apbct_pixel_url.indexOf('%3A') !== -1\n        ) {\n            cookies.apbct_pixel_url = decodeURIComponent(cookies.apbct_pixel_url);\n        }\n        apbct_public_sendREST(\n            'alt_sessions',\n            {\n                method: 'POST',\n                data: {cookies: cookies},\n                callback: callback,\n                onErrorCallback: onErrorCallback,\n            },\n        );\n\n        // Using AJAX request and handler\n    } else if ( ctPublicFunctions.data__ajax_type === 'admin_ajax' ) {\n        apbct_public_sendAJAX(\n            {\n                action: 'apbct_alt_session__save__AJAX',\n                cookies: cookies,\n            },\n            {\n                notJson: 1,\n                callback: callback,\n                onErrorCallback: onErrorCallback,\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader('X-Robots-Tag', 'noindex, nofollow');\n                },\n            },\n        );\n    }\n}\n\n/**\n * Get cookie by name\n * @param name\n * @return {string|undefined}\n */\n// eslint-disable-next-line require-jsdoc,no-unused-vars\nfunction ctGetCookie(name) {\n    let matches = document.cookie.match(new RegExp(\n        '(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)',\n    ));\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\n// eslint-disable-next-line require-jsdoc,no-unused-vars\nfunction ctDeleteCookie(cookieName) {\n    // Cookies disabled\n    if ( ctPublicFunctions.data__cookies_type === 'none' ) {\n        return;\n\n    // Using traditional cookies\n    } else if ( ctPublicFunctions.data__cookies_type === 'native' ) {\n        let ctSecure = location.protocol === 'https:' ? '; secure' : '';\n        document.cookie = cookieName + '=\"\"; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; samesite=lax' + ctSecure;\n\n    // Using alternative cookies\n    } else if ( ctPublicFunctions.data__cookies_type === 'alternative' ) {\n        // @ToDo implement this logic\n    }\n}\n\n// eslint-disable-next-line require-jsdoc,camelcase\nfunction apbct_public_sendAJAX(data, params, obj) {\n    // Default params\n    let _params = [];\n    _params['callback'] = params.callback || null;\n    _params['onErrorCallback'] = params.onErrorCallback || null;\n    _params['callback_context'] = params.callback_context || null;\n    _params['callback_params'] = params.callback_params || null;\n    _params['async'] = params.async || true;\n    _params['notJson'] = params.notJson || null;\n    _params['responseType']= params.notJson ? 'text' : 'json';\n    _params['timeout'] = params.timeout || 15000;\n    _params['obj'] = obj || null;\n    _params['button'] = params.button || null;\n    _params['spinner'] = params.spinner || null;\n    _params['progressbar'] = params.progressbar || null;\n    _params['silent'] = params.silent || null;\n    _params['no_nonce'] = params.no_nonce || null;\n    _params['data'] = data;\n    _params['url'] = ctPublicFunctions._ajax_url;\n    const nonce = selectActualNonce();\n\n    if (typeof (data) === 'string') {\n        if ( ! _params['no_nonce'] ) {\n            _params['data'] = _params['data'] + '&_ajax_nonce=' + nonce;\n        }\n        _params['data'] = _params['data'] + '&no_cache=' + Math.random();\n    } else {\n        if ( ! _params['no_nonce'] ) {\n            _params['data']._ajax_nonce = nonce;\n        }\n        _params['data'].no_cache = Math.random();\n    }\n\n    new ApbctCore().ajax(_params);\n}\n\n// eslint-disable-next-line require-jsdoc,camelcase\nfunction apbct_public_sendREST( route, params ) {\n    let _params = [];\n    _params['route'] = route;\n    _params['callback'] = params.callback || null;\n    _params['onErrorCallback'] = params.onErrorCallback || null;\n    _params['data'] = params.data || [];\n    _params['method'] = params.method || 'POST';\n\n    new ApbctCore().rest(_params);\n}\n\n/**\n * Generate unique ID\n * @return {string}\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction apbctGenerateUniqueID() {\n    return Math.random().toString(36).replace(/[^a-z]+/g, '').substr(2, 10);\n}\n\nlet apbctLocalStorage = {\n    get: function(key, property) {\n        if ( typeof property === 'undefined' ) {\n            property = 'value';\n        }\n        const storageValue = localStorage.getItem(key);\n        if ( storageValue !== null ) {\n            try {\n                const json = JSON.parse(storageValue);\n                if ( json.hasOwnProperty(property) ) {\n                    try {\n                        // if property can be parsed as JSON - do it\n                        return JSON.parse( json[property] );\n                    } catch (e) {\n                        // if not - return string of value\n                        return json[property].toString();\n                    }\n                } else {\n                    return json;\n                }\n            } catch (e) {\n                return storageValue;\n            }\n        }\n        return false;\n    },\n    set: function(key, value, isJson = true) {\n        if (isJson) {\n            let objToSave = {'value': JSON.stringify(value), 'timestamp': Math.floor(new Date().getTime() / 1000)};\n            localStorage.setItem(key, JSON.stringify(objToSave));\n        } else {\n            localStorage.setItem(key, value);\n        }\n    },\n    isAlive: function(key, maxLifetime) {\n        if ( typeof maxLifetime === 'undefined' ) {\n            maxLifetime = 86400;\n        }\n        const keyTimestamp = this.get(key, 'timestamp');\n        return keyTimestamp + maxLifetime > Math.floor(new Date().getTime() / 1000);\n    },\n    isSet: function(key) {\n        return localStorage.getItem(key) !== null;\n    },\n    delete: function(key) {\n        localStorage.removeItem(key);\n    },\n    getCleanTalkData: function() {\n        let data = {};\n        for (let i=0; i<localStorage.length; i++) {\n            let key = localStorage.key(i);\n            if (key.indexOf('ct_') !==-1 || key.indexOf('apbct_') !==-1) {\n                data[key.toString()] = apbctLocalStorage.get(key);\n            }\n        }\n        return data;\n    },\n\n};\n\nlet apbctSessionStorage = {\n    get: function(key, property) {\n        if ( typeof property === 'undefined' ) {\n            property = 'value';\n        }\n        const storageValue = sessionStorage.getItem(key);\n        if ( storageValue !== null ) {\n            try {\n                const json = JSON.parse(storageValue);\n                return json.hasOwnProperty(property) ? JSON.parse(json[property]) : json;\n            } catch (e) {\n                return storageValue;\n            }\n        }\n        return false;\n    },\n    set: function(key, value, isJson = true) {\n        if (isJson) {\n            let objToSave = {'value': JSON.stringify(value), 'timestamp': Math.floor(new Date().getTime() / 1000)};\n            sessionStorage.setItem(key, JSON.stringify(objToSave));\n        } else {\n            sessionStorage.setItem(key, value);\n        }\n    },\n    isSet: function(key) {\n        return sessionStorage.getItem(key) !== null;\n    },\n    delete: function(key) {\n        sessionStorage.removeItem(key);\n    },\n    getCleanTalkData: function() {\n        let data = {};\n        for (let i=0; i<sessionStorage.length; i++) {\n            let key = sessionStorage.key(i);\n            if (key.indexOf('ct_') !==-1 || key.indexOf('apbct_') !==-1) {\n                data[key.toString()] = apbctSessionStorage.get(key);\n            }\n        }\n        return data;\n    },\n};\n\n/**\n * Handler for -webkit based browser that listen for a custom\n * animation create using the :pseudo-selector in the stylesheet.\n * Works with Chrome, Safari\n *\n * @param {AnimationEvent} event\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction apbctOnAnimationStart(event) {\n    ('onautofillstart' === event.animationName) ?\n        apbctAutocomplete(event.target) : apbctCancelAutocomplete(event.target);\n}\n\n/**\n * Handler for non-webkit based browser that listen for input\n * event to trigger the autocomplete-cancel process.\n * Works with Firefox, Edge, IE11\n *\n * @param {InputEvent} event\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction apbctOnInput(event) {\n    ('insertReplacementText' === event.inputType || !('data' in event)) ?\n        apbctAutocomplete(event.target) : apbctCancelAutocomplete(event.target);\n}\n\n/**\n * Manage an input element when its value is autocompleted\n * by the browser in the following steps:\n * - add [autocompleted] attribute from event.target\n * - create 'onautocomplete' cancelable CustomEvent\n * - dispatch the Event\n *\n * @param {HtmlInputElement} element\n */\nfunction apbctAutocomplete(element) {\n    if (element.hasAttribute('autocompleted')) return;\n    element.setAttribute('autocompleted', '');\n\n    let event = new window.CustomEvent('onautocomplete', {\n        bubbles: true, cancelable: true, detail: null,\n    });\n\n    // no autofill if preventDefault is called\n    if (!element.dispatchEvent(event)) {\n        element.value = '';\n    }\n}\n\n/**\n * Manage an input element when its autocompleted value is\n * removed by the browser in the following steps:\n * - remove [autocompleted] attribute from event.target\n * - create 'onautocomplete' non-cancelable CustomEvent\n * - dispatch the Event\n *\n * @param {HtmlInputElement} element\n */\nfunction apbctCancelAutocomplete(element) {\n    if (!element.hasAttribute('autocompleted')) return;\n    element.removeAttribute('autocompleted');\n\n    // dispatch event\n    element.dispatchEvent(new window.CustomEvent('onautocomplete', {\n        bubbles: true, cancelable: false, detail: null,\n    }));\n}\n\n/**\n * ApbctForceProtection\n */\nclass ApbctForceProtection {\n    wrappers = [];\n\n    /**\n     * Constructor\n     */\n    constructor() {\n        this.wrappers = this.findWrappers();\n\n        if (this.wrappers.length < 1) {\n            return;\n        }\n\n        this.checkBot();\n    }\n\n    /**\n     * Find wrappers\n     * @return {HTMLElement[]}\n     */\n    findWrappers() {\n        return document.querySelectorAll('div.ct-encoded-form-wrapper');\n    }\n\n    /**\n     * Check bot\n     * @return {void}\n     */\n    checkBot() {\n        let data = {\n            event_javascript_data: getJavascriptClientData(),\n            post_url: document.location.href,\n            referrer: document.referrer,\n        };\n\n        if (ctPublicFunctions.data__ajax_type === 'rest') {\n            apbct_public_sendREST('force_protection_check_bot', {\n                data,\n                method: 'POST',\n                callback: (result) => this.checkBotCallback(result),\n            });\n        } else if (ctPublicFunctions.data__ajax_type === 'admin_ajax') {\n            data.action = 'apbct_force_protection_check_bot';\n            apbct_public_sendAJAX(data, {callback: (result) => this.checkBotCallback(result)});\n        }\n    }\n\n    /**\n     * Check bot callback\n     * @param {Object} result\n     * @return {void}\n     */\n    checkBotCallback(result) {\n        // if error occurred\n        if (result.data && result.data.status && result.data.status !== 200) {\n            console.log('ApbctForceProtection connection error occurred');\n            this.decodeForms();\n            return;\n        }\n\n        if (typeof result === 'string') {\n            try {\n                result = JSON.parse(result);\n            } catch (e) {\n                console.log('ApbctForceProtection decodeForms error', e);\n                this.decodeForms();\n                return;\n            }\n        }\n\n        if (typeof result === 'object' && result.allow && result.allow === 1) {\n            this.decodeForms();\n            document.dispatchEvent(new Event('apbctForceProtectionAllowed'));\n        } else {\n            this.showMessageForBot(result.message);\n        }\n    }\n\n    /**\n     * Decode forms\n     * @return {void}\n     */\n    decodeForms() {\n        let form;\n\n        this.wrappers.forEach((wrapper) => {\n            form = wrapper.querySelector('div.ct-encoded-form').dataset.encodedForm;\n\n            try {\n                if (form && typeof(form) == 'string') {\n                    const urlDecoded = decodeURIComponent(form);\n                    wrapper.outerHTML = atob(urlDecoded);\n                }\n            } catch (error) {\n                console.log(error);\n            }\n        });\n    }\n\n    /**\n     * Show message for bot\n     * @param {string} message\n     * @return {void}\n     */\n    showMessageForBot(message) {\n        let form;\n\n        this.wrappers.forEach((wrapper) => {\n            form = wrapper.querySelector('div.ct-encoded-form').dataset.encodedForm;\n            if (form) {\n                wrapper.outerHTML = '<div class=\"ct-encoded-form-forbidden\">' + message + '</div>';\n            }\n        });\n    }\n}\n\n/**\n * Force protection\n */\nfunction apbctForceProtect() {\n    if (+ctPublic.settings__forms__force_protection && typeof ApbctForceProtection !== 'undefined') {\n        new ApbctForceProtection();\n    }\n}\n\nif (ctPublic.data__key_is_ok) {\n    if (document.readyState !== 'loading') {\n        apbctForceProtect();\n    } else {\n        apbct_attach_event_handler(document, 'DOMContentLoaded', apbctForceProtect);\n    }\n}\n\n/**\n * Class for gathering data about user typing.\n *\n * ==============================\n * isAutoFill       - only person can use auto fill\n * isUseBuffer      - use buffer for fill current field\n * ==============================\n * lastKeyTimestamp - timestamp of last key press in current field\n * speedDelta       - change for each key press in current field,\n *                    as difference between current and previous key press timestamps,\n *                    robots in general have constant speed of typing.\n *                    If speedDelta is constant for each key press in current field,\n *                    so, speedDelta will be roughly to 0, then it is robot.\n * ==============================\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nclass CTTypoData {\n    fieldData = {\n        isAutoFill: false,\n        isUseBuffer: false,\n        speedDelta: 0,\n        firstKeyTimestamp: 0,\n        lastKeyTimestamp: 0,\n        lastDelta: 0,\n        countOfKey: 0,\n    };\n\n    fields = document.querySelectorAll('textarea[name=comment]');\n\n    data = [];\n\n    /**\n     * Gather fields.\n     */\n    gatheringFields() {\n        let fieldSet = Array.prototype.slice.call(this.fields);\n        fieldSet.forEach((field, i) => {\n            this.data.push(Object.assign({}, this.fieldData));\n        });\n    }\n\n    /**\n     * Set listeners.\n     */\n    setListeners() {\n        this.fields.forEach((field, i) => {\n            field.addEventListener('paste', () => {\n                this.data[i].isUseBuffer = true;\n            });\n        });\n\n        this.fields.forEach((field, i) => {\n            field.addEventListener('onautocomplete', () => {\n                this.data[i].isAutoFill = true;\n            });\n        });\n\n        this.fields.forEach((field, i) => {\n            field.addEventListener('input', () => {\n                this.data[i].countOfKey++;\n                let time = + new Date();\n                let currentDelta = 0;\n\n                if (this.data[i].countOfKey === 1) {\n                    this.data[i].lastKeyTimestamp = time;\n                    this.data[i].firstKeyTimestamp = time;\n                    return;\n                }\n\n                currentDelta = time - this.data[i].lastKeyTimestamp;\n                if (this.data[i].countOfKey === 2) {\n                    this.data[i].lastKeyTimestamp = time;\n                    this.data[i].lastDelta = currentDelta;\n                    return;\n                }\n\n                if (this.data[i].countOfKey > 2) {\n                    this.data[i].speedDelta += Math.abs(this.data[i].lastDelta - currentDelta);\n                    this.data[i].lastKeyTimestamp = time;\n                    this.data[i].lastDelta = currentDelta;\n                }\n            });\n        });\n    }\n}\n\n// eslint-disable-next-line camelcase\nconst ctDate = new Date();\nconst ctTimeMs = new Date().getTime();\nlet ctMouseEventTimerFlag = true; // Reading interval flag\nlet ctMouseData = [];\nlet ctMouseDataCounter = 0;\nlet ctCheckedEmails = {};\nlet ctCheckedEmailsExist = {};\nlet ctMouseReadInterval;\nlet ctMouseWriteDataInterval;\nlet tokenCheckerIntervalId;\nlet botDetectorLogLastUpdate = 0;\nlet botDetectorLogEventTypesCollected = [];\n\n// eslint-disable-next-line require-jsdoc,camelcase\nfunction apbct_attach_event_handler(elem, event, callback) {\n    if (typeof window.addEventListener === 'function') elem.addEventListener(event, callback);\n    else elem.attachEvent(event, callback);\n}\n// eslint-disable-next-line require-jsdoc,camelcase\nfunction apbct_remove_event_handler(elem, event, callback) {\n    if (typeof window.removeEventListener === 'function') elem.removeEventListener(event, callback);\n    else elem.detachEvent(event, callback);\n}\n\n// Writing first key press timestamp\nconst ctFunctionFirstKey = function output(event) {\n    let KeyTimestamp = Math.floor(new Date().getTime() / 1000);\n    ctSetCookie('ct_fkp_timestamp', KeyTimestamp);\n    ctKeyStopStopListening();\n};\n\n/**\n * Run cron jobs\n */\n// forms handler cron\ncronFormsHandler(2000);\n\n// bot_detector frontend_data log alt session saving cron\nif (\n    ctPublicFunctions.hasOwnProperty('data__bot_detector_enabled') &&\n    ctPublicFunctions.data__bot_detector_enabled == 1 &&\n    ctPublicFunctions.hasOwnProperty('data__frontend_data_log_enabled') &&\n    ctPublicFunctions.data__frontend_data_log_enabled == 1\n) {\n    sendBotDetectorLogToAltSessions(1000);\n}\n/**\n * Cron jobs end.\n */\n\n// mouse read\nif (ctPublic.data__key_is_ok) {\n    // Reading interval\n    ctMouseReadInterval = setInterval(function() {\n        ctMouseEventTimerFlag = true;\n    }, 150);\n\n    // Writting interval\n    ctMouseWriteDataInterval = setInterval(function() {\n        ctSetCookie('ct_pointer_data', JSON.stringify(ctMouseData));\n    }, 1200);\n}\n\n// Logging mouse position each 150 ms\nconst ctFunctionMouseMove = function output(event) {\n    ctSetMouseMoved();\n    if (ctMouseEventTimerFlag === true) {\n        ctMouseData.push([\n            Math.round(event.clientY),\n            Math.round(event.clientX),\n            Math.round(new Date().getTime() - ctTimeMs),\n        ]);\n\n        ctMouseDataCounter++;\n        ctMouseEventTimerFlag = false;\n        if (ctMouseDataCounter >= 50) {\n            ctMouseStopData();\n        }\n    }\n};\n\n/**\n * Do handle periodical actions.\n * @param {int} cronStartTimeout Time to go before cron start.\n */\nfunction cronFormsHandler(cronStartTimeout = 2000) {\n    setTimeout(function() {\n        setInterval(function() {\n            restartFieldsListening();\n            restartBotDetectorEventTokenAttach();\n        }, 2000);\n    }, cronStartTimeout);\n}\n\n/**\n * Send BotDetector logs data to alternative sessions.\n * If log_last_update has changed and log contains new event types, the log will be sent to the alternative sessions.\n * @param {int} cronStartTimeout delay before cron start\n * @param {int} interval check fires on interval\n */\nfunction sendBotDetectorLogToAltSessions(cronStartTimeout = 3000, interval = 1000) {\n    setTimeout(function() {\n        setInterval(function() {\n            const currentLog = apbctLocalStorage.get('ct_bot_detector_frontend_data_log');\n            if (needsSaveLogToAltSessions(currentLog)) {\n                botDetectorLogLastUpdate = currentLog.log_last_update;\n                // the log will be taken from javascriptclientdata\n                ctSetAlternativeCookie([], {forceAltCookies: true});\n            }\n        }, interval);\n    }, cronStartTimeout);\n}\n\n/**\n * Check if the log needs to be saved to the alt sessions. If the log has new event types, it will be saved.\n * @param {object} currentLog\n * @return {boolean}\n */\nfunction needsSaveLogToAltSessions(currentLog) {\n    if (\n        currentLog && currentLog.hasOwnProperty('log_last_update') &&\n        botDetectorLogLastUpdate !== currentLog.log_last_update\n    ) {\n        try {\n            for (let i = 0; i < currentLog.records.length; i++) {\n                const currentType = currentLog.records[i].frontend_data.js_event;\n                // check if this event type was already collected\n                if (currentType !== undefined && botDetectorLogEventTypesCollected.includes(currentType)) {\n                    continue;\n                }\n                // add new event type to collection, this type will be sent to the alt sessions further\n                botDetectorLogEventTypesCollected.push(currentType);\n                return true;\n            }\n        } catch (e) {\n            console.log('APBCT: bot detector log collection error: ' . e.toString());\n        }\n    }\n    return false;\n}\n\n/**\n * Restart event_token attachment if some forms load after document ready.\n */\nfunction restartBotDetectorEventTokenAttach() {\n    // List there any new conditions, right now it works only for LatePoint forms.\n    // Probably, we can remove this condition at all, because setEventTokenField()\n    // checks all the forms without the field\n    const doAttach = (\n        document.getElementsByClassName('latepoint-form').length > 0 ||\n        document.getElementsByClassName('mec-booking-form-container').length > 0 ||\n        document.getElementById('login-form-popup') !== null\n    );\n\n    try {\n        if ( doAttach ) {\n            // get token from LS\n            const token = apbctLocalStorage.get('bot_detector_event_token');\n            if (typeof setEventTokenField === 'function' && token !== undefined && token.length === 64) {\n                setEventTokenField(token);\n            }\n            // probably there we could use a new botDetectorInit if token is not found\n        }\n    } catch (e) {\n        console.log(e.toString());\n    }\n}\n\n/**\n * Stop mouse observing function\n */\nfunction ctMouseStopData() {\n    apbct_remove_event_handler(document, 'mousemove', ctFunctionMouseMove);\n    clearInterval(ctMouseReadInterval);\n    clearInterval(ctMouseWriteDataInterval);\n}\n\n/**\n * Stop key listening function\n */\nfunction ctKeyStopStopListening() {\n    apbct_remove_event_handler(document, 'mousedown', ctFunctionFirstKey);\n    apbct_remove_event_handler(document, 'keydown', ctFunctionFirstKey);\n}\n\n/**\n * @param {mixed} e\n */\nfunction checkEmail(e) {\n    let currentEmail = e.target.value;\n\n    if (! /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(currentEmail)) {\n        return;\n    }\n\n    if (currentEmail && !(currentEmail in ctCheckedEmails)) {\n        // Using REST API handler\n        if ( ctPublicFunctions.data__ajax_type === 'rest' ) {\n            apbct_public_sendREST(\n                'check_email_before_post',\n                {\n                    method: 'POST',\n                    data: {'email': currentEmail},\n                    callback: function(result) {\n                        if (result.result) {\n                            ctCheckedEmails[currentEmail] = {\n                                'result': result.result,\n                                'timestamp': Date.now() / 1000 |0,\n                            };\n                            ctSetCookie('ct_checked_emails', JSON.stringify(ctCheckedEmails));\n                        }\n                    },\n                },\n            );\n            // Using AJAX request and handler\n        } else if ( ctPublicFunctions.data__ajax_type === 'admin_ajax' ) {\n            apbct_public_sendAJAX(\n                {\n                    action: 'apbct_email_check_before_post',\n                    email: currentEmail,\n                },\n                {\n                    callback: function(result) {\n                        if (result.result) {\n                            ctCheckedEmails[currentEmail] = {\n                                'result': result.result,\n                                'timestamp': Date.now() / 1000 |0,\n                            };\n                            ctSetCookie('ct_checked_emails', JSON.stringify(ctCheckedEmails));\n                        }\n                    },\n                },\n            );\n        }\n    }\n}\n\n/**\n * @param {mixed} e\n */\nfunction checkEmailExist(e) {\n    let currentEmail = e.target.value;\n    let result;\n\n    if (!currentEmail || !currentEmail.length) {\n        let envelope = document.getElementById('apbct-check_email_exist-block');\n        if (envelope) {\n            envelope.remove();\n        }\n        let hint = document.getElementById('apbct-check_email_exist-popup_description');\n        if (hint) {\n            hint.remove();\n        }\n        return;\n    }\n\n    if (! /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(currentEmail)) {\n        return;\n    }\n\n    if (currentEmail in ctCheckedEmailsExist) {\n        result = ctCheckedEmailsExist[currentEmail];\n        getResultCheckEmailExist(e, result, currentEmail);\n\n        return;\n    }\n\n    viewCheckEmailExist(e, 'load');\n\n    // Using REST API handler\n    ctPublicFunctions.data__ajax_type = 'rest';\n    if (ctPublicFunctions.data__ajax_type === 'rest') {\n        apbct_public_sendREST(\n            'check_email_exist_post',\n            {\n                method: 'POST',\n                data: {'email': currentEmail},\n                callback: function(result) {\n                    getResultCheckEmailExist(e, result, currentEmail);\n                },\n            },\n        );\n\n        return;\n    }\n\n    if (ctPublicFunctions.data__ajax_type === 'admin_ajax') {\n        apbct_public_sendAJAX(\n            {\n                action: 'apbct_email_check_exist_post',\n                email: currentEmail,\n            },\n            {\n                callback: function(result) {\n                    getResultCheckEmailExist(e, result, currentEmail);\n                },\n            },\n        );\n    }\n}\n\n/**\n * @param {mixed} e\n * @param {mixed} result\n * @param {string} currentEmail\n */\nfunction getResultCheckEmailExist(e, result, currentEmail) {\n    if (!result || !result.result) {\n        return;\n    }\n\n    result = result.result;\n\n    ctCheckedEmailsExist[currentEmail] = {\n        'result': result,\n        'timestamp': Date.now() / 1000 |0,\n    };\n\n    if (result.result == 'EXISTS') {\n        viewCheckEmailExist(e, 'good_email', result.text_result);\n    } else {\n        viewCheckEmailExist(e, 'bad_email', result.text_result);\n    }\n\n    ctSetCookie('ct_checked_emails_exist', JSON.stringify(ctCheckedEmailsExist));\n}\n\n/**\n * @param {mixed} e\n * @param {string} state\n * @param {string} textResult\n */\nfunction viewCheckEmailExist(e, state, textResult) {\n    let parentElement = e.target.parentElement;\n    let inputEmail = parentElement.querySelector('[name*=\"email\"]');\n\n    if (!inputEmail) {\n        return;\n    }\n\n    let envelope;\n    let hint;\n\n    // envelope\n    if (document.getElementById('apbct-check_email_exist-block')) {\n        envelope = document.getElementById('apbct-check_email_exist-block');\n    } else {\n        envelope = document.createElement('div');\n        envelope.setAttribute('class', 'apbct-check_email_exist-block');\n        envelope.setAttribute('id', 'apbct-check_email_exist-block');\n        window.addEventListener('scroll', function() {\n            envelope.style.top = inputEmail.getBoundingClientRect().top + 'px';\n        });\n        parentElement.after(envelope);\n    }\n\n    // hint\n    if (document.getElementById('apbct-check_email_exist-popup_description')) {\n        hint = document.getElementById('apbct-check_email_exist-popup_description');\n    } else {\n        hint = document.createElement('div');\n        hint.setAttribute('class', 'apbct-check_email_exist-popup_description');\n        hint.setAttribute('id', 'apbct-check_email_exist-popup_description');\n        window.addEventListener('scroll', function() {\n            hint.style.top = envelope.getBoundingClientRect().top + 'px';\n        });\n\n        envelope.after(hint);\n    }\n\n    ctEmailExistSetElementsPositions();\n\n    window.addEventListener('resize', function(event) {\n        ctEmailExistSetElementsPositions();\n    });\n\n    switch (state) {\n    case 'load':\n        envelope.classList.remove('apbct-check_email_exist-good_email', 'apbct-check_email_exist-bad_email');\n        envelope.classList.add('apbct-check_email_exist-load');\n        break;\n\n    case 'good_email':\n        envelope.classList.remove('apbct-check_email_exist-load', 'apbct-check_email_exist-bad_email');\n        envelope.classList.add('apbct-check_email_exist-good_email');\n\n        envelope.onmouseover = function() {\n            hint.textContent = textResult;\n            hint.style.display = 'block';\n            hint.style.top = inputEmail.getBoundingClientRect().top - hint.getBoundingClientRect().height + 'px';\n            hint.style.color = '#1C7129';\n        };\n\n        envelope.onmouseout = function() {\n            hint.style.display = 'none';\n        };\n\n        break;\n\n    case 'bad_email':\n        envelope.classList.remove('apbct-check_email_exist-load', 'apbct-check_email_exist-good_email');\n        envelope.classList.add('apbct-check_email_exist-bad_email');\n\n        envelope.onmouseover = function() {\n            hint.textContent = textResult;\n            hint.style.display = 'block';\n            hint.style.top = inputEmail.getBoundingClientRect().top - hint.getBoundingClientRect().height + 'px';\n            hint.style.color = '#E01111';\n        };\n\n        envelope.onmouseout = function() {\n            hint.style.display = 'none';\n        };\n\n        break;\n\n    default:\n        break;\n    }\n}\n\n/**\n * Shift the envelope to the input field on resizing the window\n * @param {object} envelope\n * @param {object} inputEmail\n */\nfunction ctEmailExistSetElementsPositions() {\n    const envelopeWidth = 35;\n    const inputEmail = document.querySelector('comment-form input[name*=\"email\"], input#email');\n    if (!inputEmail) {\n        return;\n    }\n    const envelope = document.getElementById('apbct-check_email_exist-block');\n    if (envelope) {\n        envelope.style.top = inputEmail.getBoundingClientRect().top + 'px';\n        envelope.style.left = inputEmail.getBoundingClientRect().right - envelopeWidth - 10 + 'px';\n        envelope.style.height = inputEmail.offsetHeight + 'px';\n        envelope.style.width = envelopeWidth + 'px';\n    }\n\n    const hint = document.getElementById('apbct-check_email_exist-popup_description');\n    if (hint) {\n        hint.style.width = inputEmail.offsetWidth + 'px';\n        hint.style.left = inputEmail.getBoundingClientRect().left + 'px';\n    }\n}\n\n/**\n * @return {bool}\n */\nfunction ctIsDrawPixel() {\n    if (ctPublic.pixel__setting == '3' && ctPublic.settings__data__bot_detector_enabled == '1') {\n        return false;\n    }\n\n    return +ctPublic.pixel__enabled ||\n        (ctPublic.data__cookies_type === 'none' && document.querySelectorAll('img#apbct_pixel').length === 0) ||\n        (ctPublic.data__cookies_type === 'alternative' && document.querySelectorAll('img#apbct_pixel').length === 0);\n}\n\n/**\n * @param {string} pixelUrl\n * @return {bool}\n */\nfunction ctSetPixelImg(pixelUrl) {\n    if (ctPublic.pixel__setting == '3' && ctPublic.settings__data__bot_detector_enabled == '1') {\n        return false;\n    }\n    ctSetCookie('apbct_pixel_url', pixelUrl);\n    if ( ctIsDrawPixel() ) {\n        if ( ! document.getElementById('apbct_pixel') ) {\n            let insertedImg = document.createElement('img');\n            insertedImg.setAttribute('alt', 'CleanTalk Pixel');\n            insertedImg.setAttribute('title', 'CleanTalk Pixel');\n            insertedImg.setAttribute('id', 'apbct_pixel');\n            insertedImg.setAttribute('style', 'display: none; left: 99999px;');\n            insertedImg.setAttribute('src', pixelUrl);\n            apbct('body').append(insertedImg);\n        }\n    }\n}\n\n/**\n * @param {string} pixelUrl\n * @return {bool}\n */\nfunction ctSetPixelImgFromLocalstorage(pixelUrl) {\n    if (ctPublic.pixel__setting == '3' && ctPublic.settings__data__bot_detector_enabled == '1') {\n        return false;\n    }\n    if ( ctIsDrawPixel() ) {\n        if ( ! document.getElementById('apbct_pixel') ) {\n            let insertedImg = document.createElement('img');\n            insertedImg.setAttribute('alt', 'CleanTalk Pixel');\n            insertedImg.setAttribute('title', 'CleanTalk Pixel');\n            insertedImg.setAttribute('id', 'apbct_pixel');\n            insertedImg.setAttribute('style', 'display: none; left: 99999px;');\n            insertedImg.setAttribute('src', decodeURIComponent(pixelUrl));\n            apbct('body').append(insertedImg);\n        }\n    }\n}\n\n/**\n * ctGetPixelUrl\n * @return {bool}\n */\nfunction ctGetPixelUrl() {\n    if (ctPublic.pixel__setting == '3' && ctPublic.settings__data__bot_detector_enabled == '1') {\n        return false;\n    }\n\n    // Check if pixel is already in localstorage and is not outdated\n    let localStoragePixelUrl = apbctLocalStorage.get('apbct_pixel_url');\n    if ( localStoragePixelUrl !== false ) {\n        if ( ! apbctLocalStorage.isAlive('apbct_pixel_url', 3600 * 3) ) {\n            apbctLocalStorage.delete('apbct_pixel_url');\n        } else {\n            // if so - load pixel from localstorage and draw it skipping AJAX\n            ctSetPixelImgFromLocalstorage(localStoragePixelUrl);\n            return;\n        }\n    }\n    // Using REST API handler\n    if ( ctPublicFunctions.data__ajax_type === 'rest' ) {\n        apbct_public_sendREST(\n            'apbct_get_pixel_url',\n            {\n                method: 'POST',\n                callback: function(result) {\n                    if (result &&\n                        (typeof result === 'string' || result instanceof String) && result.indexOf('https') === 0) {\n                        // set  pixel url to localstorage\n                        if ( ! apbctLocalStorage.get('apbct_pixel_url') ) {\n                            // set pixel to the storage\n                            apbctLocalStorage.set('apbct_pixel_url', result);\n                            // update pixel data in the hidden fields\n                            ctNoCookieAttachHiddenFieldsToForms();\n                        }\n                        // then run pixel drawing\n                        ctSetPixelImg(result);\n                    }\n                },\n            },\n        );\n        // Using AJAX request and handler\n    } else {\n        apbct_public_sendAJAX(\n            {\n                action: 'apbct_get_pixel_url',\n            },\n            {\n                notJson: true,\n                callback: function(result) {\n                    if (result &&\n                        (typeof result === 'string' || result instanceof String) && result.indexOf('https') === 0) {\n                        // set  pixel url to localstorage\n                        if ( ! apbctLocalStorage.get('apbct_pixel_url') ) {\n                            // set pixel to the storage\n                            apbctLocalStorage.set('apbct_pixel_url', result);\n                            // update pixel data in the hidden fields\n                            ctNoCookieAttachHiddenFieldsToForms();\n                        }\n                        // then run pixel drawing\n                        ctSetPixelImg(result);\n                    }\n                },\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader('X-Robots-Tag', 'noindex, nofollow');\n                },\n            },\n        );\n    }\n}\n\n/**\n * ctSetHasScrolled\n */\nfunction ctSetHasScrolled() {\n    if ( ! apbctLocalStorage.isSet('ct_has_scrolled') || ! apbctLocalStorage.get('ct_has_scrolled') ) {\n        ctSetCookie('ct_has_scrolled', 'true');\n        apbctLocalStorage.set('ct_has_scrolled', true);\n    }\n    if (\n        ctPublic.data__cookies_type === 'native' &&\n        ctGetCookie('ct_has_scrolled') === undefined\n    ) {\n        ctSetCookie('ct_has_scrolled', 'true');\n    }\n}\n\n/**\n * ctSetMouseMoved\n */\nfunction ctSetMouseMoved() {\n    if ( ! apbctLocalStorage.isSet('ct_mouse_moved') || ! apbctLocalStorage.get('ct_mouse_moved') ) {\n        ctSetCookie('ct_mouse_moved', 'true');\n        apbctLocalStorage.set('ct_mouse_moved', true);\n    }\n    if (\n        ctPublic.data__cookies_type === 'native' &&\n        ctGetCookie('ct_mouse_moved') === undefined\n    ) {\n        ctSetCookie('ct_mouse_moved', 'true');\n    }\n}\n\n/**\n * Restart listen fields to set ct_has_input_focused or ct_has_key_up\n */\nfunction restartFieldsListening() {\n    if (!apbctLocalStorage.isSet('ct_has_input_focused') && !apbctLocalStorage.isSet('ct_has_key_up')) {\n        ctStartFieldsListening();\n    }\n}\n\n/**\n * init listeners for keyup and focus events\n */\nfunction ctStartFieldsListening() {\n    if (\n        (apbctLocalStorage.isSet('ct_has_key_up') || apbctLocalStorage.get('ct_has_key_up')) &&\n        (apbctLocalStorage.isSet('ct_has_input_focused') || apbctLocalStorage.get('ct_has_input_focused')) &&\n        (\n            ctPublic.data__cookies_type === 'native' &&\n            ctGetCookie('ct_has_input_focused') !== undefined &&\n            ctGetCookie('ct_has_key_up') !== undefined\n        )\n    ) {\n        // already set\n        return;\n    }\n\n    let forms = ctGetPageForms();\n    ctPublic.handled_fields = [];\n\n    if (forms.length > 0) {\n        for (let i = 0; i < forms.length; i++) {\n            // handle only inputs and textareas\n            const handledFormFields = forms[i].querySelectorAll('input,textarea');\n            for (let i = 0; i < handledFormFields.length; i++) {\n                if (handledFormFields[i].type !== 'hidden') {\n                    // collect handled fields to remove handler in the future\n                    ctPublic.handled_fields.push(handledFormFields[i]);\n                    // do attach handlers\n                    apbct_attach_event_handler(handledFormFields[i], 'focus', ctFunctionHasInputFocused);\n                    apbct_attach_event_handler(handledFormFields[i], 'keyup', ctFunctionHasKeyUp);\n                }\n            }\n        }\n    }\n}\n\n/**\n * stop listening keyup and focus\n * @param {string} eventName\n * @param {string} functionName\n */\nfunction ctStopFieldsListening(eventName, functionName) {\n    if (typeof ctPublic.handled_fields !== 'undefined' && ctPublic.handled_fields.length > 0) {\n        for (let i = 0; i < ctPublic.handled_fields.length; i++) {\n            apbct_remove_event_handler(ctPublic.handled_fields[i], eventName, functionName);\n        }\n    }\n}\n\nlet ctFunctionHasInputFocused = function output(event) {\n    ctSetHasInputFocused();\n    ctStopFieldsListening('focus', ctFunctionHasInputFocused);\n};\n\nlet ctFunctionHasKeyUp = function output(event) {\n    ctSetHasKeyUp();\n    ctStopFieldsListening('keyup', ctFunctionHasKeyUp);\n};\n\n/**\n * set ct_has_input_focused ct_has_key_up cookies on session period\n */\nfunction ctSetHasInputFocused() {\n    if ( ! apbctLocalStorage.isSet('ct_has_input_focused') || ! apbctLocalStorage.get('ct_has_input_focused') ) {\n        apbctLocalStorage.set('ct_has_input_focused', true);\n    }\n    if (\n        (\n            (\n                ctPublic.data__cookies_type === 'native' &&\n                ctGetCookie('ct_has_input_focused') === undefined\n            ) ||\n            ctPublic.data__cookies_type === 'alternative'\n        ) ||\n        (\n            ctPublic.data__cookies_type === 'none' &&\n            (\n                typeof ctPublic.force_alt_cookies !== 'undefined' ||\n                (ctPublic.force_alt_cookies !== undefined && ctPublic.force_alt_cookies)\n            )\n        )\n    ) {\n        ctSetCookie('ct_has_input_focused', 'true');\n    }\n}\n\n/**\n * ctSetHasKeyUp\n */\nfunction ctSetHasKeyUp() {\n    if ( ! apbctLocalStorage.isSet('ct_has_key_up') || ! apbctLocalStorage.get('ct_has_key_up') ) {\n        apbctLocalStorage.set('ct_has_key_up', true);\n    }\n    if (\n        (\n            (\n                ctPublic.data__cookies_type === 'native' &&\n                ctGetCookie('ct_has_key_up') === undefined\n            ) ||\n            ctPublic.data__cookies_type === 'alternative'\n        ) ||\n        (\n            ctPublic.data__cookies_type === 'none' &&\n            (\n                typeof ctPublic.force_alt_cookies !== 'undefined' ||\n                (ctPublic.force_alt_cookies !== undefined && ctPublic.force_alt_cookies)\n            )\n        )\n    ) {\n        ctSetCookie('ct_has_key_up', 'true');\n    }\n}\n\nif (ctPublic.data__key_is_ok) {\n    apbct_attach_event_handler(document, 'mousemove', ctFunctionMouseMove);\n    apbct_attach_event_handler(document, 'mousedown', ctFunctionFirstKey);\n    apbct_attach_event_handler(document, 'keydown', ctFunctionFirstKey);\n    apbct_attach_event_handler(document, 'scroll', ctSetHasScrolled);\n}\n\n/**\n * Prepare block to intercept AJAX response\n */\nfunction apbctPrepareBlockForAjaxForms() {\n    // eslint-disable-next-line require-jsdoc\n    function ctPrepareBlockMessage(xhr) {\n        if (xhr.responseText &&\n            xhr.responseText.indexOf('\"apbct') !== -1 &&\n            xhr.responseText.indexOf('DOCTYPE') === -1\n        ) {\n            try {\n                ctParseBlockMessage(JSON.parse(xhr.responseText));\n            } catch (e) {\n                console.log(e.toString());\n            }\n        }\n    }\n\n    if (typeof jQuery !== 'undefined') {\n        // Capturing responses and output block message for unknown AJAX forms\n        if (typeof jQuery(document).ajaxComplete() !== 'function') {\n            jQuery(document).on('ajaxComplete', function(event, xhr, settings) {\n                ctPrepareBlockMessage(xhr);\n            });\n        } else {\n            jQuery(document).ajaxComplete( function(event, xhr, settings) {\n                ctPrepareBlockMessage(xhr);\n            });\n        }\n    } else {\n        // if Jquery is not avaliable try to use xhr\n        if (typeof XMLHttpRequest !== 'undefined') {\n            // Capturing responses and output block message for unknown AJAX forms\n            document.addEventListener('readystatechange', function(event) {\n                if (event.target.readyState === 4) {\n                    ctPrepareBlockMessage(event.target);\n                }\n            });\n        }\n    }\n}\n\n/**\n * For forced alt cookies.\n * If token is not added to the LS on apbc_ready, check every second if so and send token to the alt sessions.\n */\nfunction startForcedAltEventTokenChecker() {\n    tokenCheckerIntervalId = setInterval( function() {\n        if (apbctLocalStorage.get('event_token_forced_set') === '1') {\n            clearInterval(tokenCheckerIntervalId);\n            return;\n        }\n        let eventToken = apbctLocalStorage.get('bot_detector_event_token');\n        if (eventToken) {\n            ctSetAlternativeCookie([['ct_bot_detector_event_token', eventToken]], {forceAltCookies: true});\n            apbctLocalStorage.set('event_token_forced_set', '1');\n            clearInterval(tokenCheckerIntervalId);\n        } else {\n        }\n    }, 1000);\n}\n\n\n/**\n * Ready function\n */\n// eslint-disable-next-line camelcase,require-jsdoc\nfunction apbct_ready() {\n    document.addEventListener('gform_page_loaded', function() {\n        if (\n            typeof ctPublic.force_alt_cookies === 'undefined' ||\n            (ctPublic.force_alt_cookies !== 'undefined' && !ctPublic.force_alt_cookies)\n        ) {\n            ctNoCookieAttachHiddenFieldsToForms();\n            if (typeof setEventTokenField === 'function' && typeof botDetectorLocalStorage === 'function') {\n                setEventTokenField(botDetectorLocalStorage.get('bot_detector_event_token'));\n            }\n        }\n    });\n    if ( ! ctPublic.wc_ajax_add_to_cart ) {\n        apbctCheckAddToCartByGet();\n    }\n\n    apbctPrepareBlockForAjaxForms();\n\n    // set session ID\n    if (!apbctSessionStorage.isSet('apbct_session_id')) {\n        const sessionID = apbctGenerateUniqueID();\n        apbctSessionStorage.set('apbct_session_id', sessionID, false);\n        apbctLocalStorage.set('apbct_page_hits', 1);\n        if (document.referrer) {\n            let urlReferer = new URL(document.referrer);\n            if (urlReferer.host !== location.host) {\n                apbctSessionStorage.set('apbct_site_referer', document.referrer, false);\n            }\n        }\n    } else {\n        apbctLocalStorage.set('apbct_page_hits', Number(apbctLocalStorage.get('apbct_page_hits')) + 1);\n    }\n\n    apbctWriteReferrersToSessionStorage();\n\n    const cookiesType = apbctLocalStorage.get('ct_cookies_type');\n    if ( ! cookiesType || cookiesType !== ctPublic.data__cookies_type ) {\n        apbctLocalStorage.set('ct_cookies_type', ctPublic.data__cookies_type);\n        apbctLocalStorage.delete('ct_mouse_moved');\n        apbctLocalStorage.delete('ct_has_scrolled');\n    }\n\n    if (ctPublic.data__cookies_type !== 'alternative') {\n        ctStartFieldsListening();\n        // 2nd try to add listeners for delayed appears forms\n        setTimeout(ctStartFieldsListening, 1000);\n    }\n\n    window.addEventListener('animationstart', apbctOnAnimationStart, true);\n    window.addEventListener('input', apbctOnInput, true);\n    document.ctTypoData = new CTTypoData();\n    document.ctTypoData.gatheringFields();\n    document.ctTypoData.setListeners();\n\n    // Collect scrolling info\n    const initCookies = [\n        ['ct_ps_timestamp', Math.floor(new Date().getTime() / 1000)],\n        ['ct_fkp_timestamp', '0'],\n        ['ct_pointer_data', '0'],\n        // eslint-disable-next-line camelcase\n        ['ct_timezone', ctDate.getTimezoneOffset()/60*(-1)],\n        ['ct_screen_info', apbctGetScreenInfo()],\n        ['apbct_headless', navigator.webdriver],\n    ];\n\n    apbctLocalStorage.set('ct_ps_timestamp', Math.floor(new Date().getTime() / 1000));\n    apbctLocalStorage.set('ct_fkp_timestamp', '0');\n    apbctLocalStorage.set('ct_pointer_data', '0');\n    // eslint-disable-next-line camelcase\n    apbctLocalStorage.set('ct_timezone', ctDate.getTimezoneOffset()/60*(-1) );\n    apbctLocalStorage.set('ct_screen_info', apbctGetScreenInfo());\n    apbctLocalStorage.set('apbct_headless', navigator.webdriver);\n\n    if ( ctPublic.data__cookies_type !== 'native' ) {\n        initCookies.push(['apbct_visible_fields', '0']);\n    } else {\n        // Delete all visible fields cookies on load the page\n        let cookiesArray = document.cookie.split(';');\n        if ( cookiesArray.length !== 0 ) {\n            for ( let i = 0; i < cookiesArray.length; i++ ) {\n                let currentCookie = cookiesArray[i].trim();\n                let cookieName = currentCookie.split('=')[0];\n                if ( cookieName.indexOf('apbct_visible_fields_') === 0 ) {\n                    ctDeleteCookie(cookieName);\n                }\n            }\n        }\n    }\n\n    if (\n        +ctPublic.pixel__setting &&\n        !(+ctPublic.pixel__setting == 3 && ctPublic.settings__data__bot_detector_enabled == 1)\n    ) {\n        if ( ctIsDrawPixel() ) {\n            ctGetPixelUrl();\n        } else {\n            initCookies.push(['apbct_pixel_url', ctPublic.pixel__url]);\n        }\n    }\n\n    if ( +ctPublic.data__email_check_before_post) {\n        initCookies.push(['ct_checked_emails', '0']);\n        apbct('input[type = \\'email\\'], #email').on('blur', checkEmail);\n    }\n\n    if ( +ctPublic.data__email_check_exist_post) {\n        initCookies.push(['ct_checked_emails_exist', '0']);\n        apbct('comment-form input[name = \\'email\\'], input#email').on('blur', checkEmailExist);\n    }\n\n    if (apbctLocalStorage.isSet('ct_checkjs')) {\n        initCookies.push(['ct_checkjs', apbctLocalStorage.get('ct_checkjs')]);\n    } else {\n        initCookies.push(['ct_checkjs', 0]);\n    }\n\n    // detect integrated forms that need to be handled via alternative cookies\n    ctDetectForcedAltCookiesForms();\n\n    // send bot detector event token to alt cookies on problem forms\n    let tokenForForceAlt = apbctLocalStorage.get('bot_detector_event_token');\n    if (typeof ctPublic.force_alt_cookies !== 'undefined' &&\n        ctPublic.force_alt_cookies &&\n        ctPublic.settings__data__bot_detector_enabled\n    ) {\n        apbctLocalStorage.set('event_token_forced_set', '0');\n        if (tokenForForceAlt) {\n            initCookies.push(['ct_bot_detector_event_token', tokenForForceAlt]);\n            apbctLocalStorage.set('event_token_forced_set', '1');\n        } else {\n            startForcedAltEventTokenChecker();\n        }\n    }\n\n    ctSetCookie(initCookies);\n\n    setTimeout(function() {\n        if (\n            typeof ctPublic.force_alt_cookies == 'undefined' ||\n            (ctPublic.force_alt_cookies !== 'undefined' && !ctPublic.force_alt_cookies)\n        ) {\n            ctNoCookieAttachHiddenFieldsToForms();\n        }\n\n        if (\n            typeof ctPublic.data__cookies_type !== 'undefined' &&\n            ctPublic.data__cookies_type === 'none'\n        ) {\n            ctAjaxSetupAddCleanTalkDataBeforeSendAjax();\n            ctAddWCMiddlewares();\n        }\n\n        for (let i = 0; i < document.forms.length; i++) {\n            let form = document.forms[i];\n\n            // Exclusion for forms\n            if (ctCheckHiddenFieldsExclusions(document.forms[i], 'visible_fields')) {\n                continue;\n            }\n            if (form.querySelector('input[name=\"wspsc_add_cart_submit\"]') ||\n                form.querySelector('input[name=\"option\"][value=\"com_vikrentcar\"]') ||\n                form.querySelector('input[name=\"option\"][value=\"com_vikbooking\"]')\n            ) {\n                continue;\n            }\n\n            // The Form has hidden field like apbct_visible_fields\n            if (\n                document.forms[i].elements.apbct_visible_fields !== undefined &&\n                document.forms[i].elements.apbct_visible_fields.length > 0\n            ) {\n                continue;\n            }\n\n            if (form.querySelector('input[name=\"apbct_visible_fields\"]')) {\n                let visibleFields = form.querySelector('input[name=\"apbct_visible_fields\"]');\n                form.removeChild(visibleFields);\n            }\n\n            let hiddenInput = document.createElement( 'input' );\n            hiddenInput.setAttribute( 'type', 'hidden' );\n            hiddenInput.setAttribute( 'id', 'apbct_visible_fields_' + i );\n            hiddenInput.setAttribute( 'name', 'apbct_visible_fields');\n            let visibleFieldsToInput = {};\n            visibleFieldsToInput[0] = apbct_collect_visible_fields(form);\n            hiddenInput.value = btoa(JSON.stringify(visibleFieldsToInput));\n            form.append( hiddenInput );\n\n            form.onsubmit_prev = form.onsubmit;\n\n            form.ctFormIndex = i;\n            form.onsubmit = function(event) {\n                if ( ctPublic.data__cookies_type !== 'native' && typeof event.target.ctFormIndex !== 'undefined' ) {\n                    apbct_visible_fields_set_cookie( apbct_collect_visible_fields(this), event.target.ctFormIndex );\n                }\n\n                if (ctPublic.data__cookies_type === 'none' && isFormThatNeedCatchXhr(event.target)) {\n                    window.XMLHttpRequest.prototype.send = function(data) {\n                        let noCookieData = getNoCookieData();\n                        noCookieData = 'data%5Bct_no_cookie_hidden_field%5D=' + noCookieData + '&';\n                        defaultSend.call(this, noCookieData + data);\n                        setTimeout(() => {\n                            window.XMLHttpRequest.prototype.send = defaultSend;\n                        }, 0);\n                    };\n                }\n\n                // Call previous submit action\n                if (event.target.onsubmit_prev instanceof Function && !ctOnsubmitPrevCallExclude(event.target)) {\n                    if (event.target.classList !== undefined && event.target.classList.contains('brave_form_form')) {\n                        event.preventDefault();\n                    }\n                    setTimeout(function() {\n                        event.target.onsubmit_prev.call(event.target, event);\n                    }, 0);\n                }\n            };\n        }\n    }, 1000);\n\n    // Listen clicks on encoded emails\n    let encodedEmailNodes = document.querySelectorAll('[data-original-string]');\n    ctPublic.encodedEmailNodes = encodedEmailNodes;\n    if (encodedEmailNodes.length) {\n        for (let i = 0; i < encodedEmailNodes.length; ++i) {\n            encodedEmailNodes[i].addEventListener('click', ctFillDecodedEmailHandler);\n        }\n    }\n\n    // WordPress Search form processing\n    ctSetSearchFormSubmitMiddleWare();\n\n    // Check any XMLHttpRequest connections\n    apbctCatchXmlHttpRequest();\n\n    // Initializing the collection of user activity\n    new ApbctCollectingUserActivity();\n\n    // Checking that the bot detector has loaded and received the event token for Anti-Crawler\n    if (ctPublic.settings__sfw__anti_crawler) {\n        checkBotDetectorExist();\n    }\n}\n\n/**\n * Find wordpress native search form and set form submit handler\n */\nfunction ctSetSearchFormSubmitMiddleWare() {\n    const isExclusion = (form) => {\n        return (\n            // fibosearch integration\n            form.querySelector('input.dgwt-wcas-search-input') ||\n            // hero search skip\n            form.getAttribute('id') === 'hero-search-form' ||\n            // hb booking search skip\n            form.getAttribute('class') === 'hb-booking-search-form' ||\n            // events calendar skip\n            (\n                form.getAttribute('class').indexOf('tribe-events') !== -1 &&\n                form.getAttribute('class').indexOf('search') !== -1\n            )\n        );\n    };\n\n    for (const _form of document.forms) {\n        if (\n            typeof ctPublic !== 'undefined' &&\n            + ctPublic.settings__forms__search_test === 1 &&\n            (\n                _form.getAttribute('id') === 'searchform' ||\n                (_form.getAttribute('class') !== null && _form.getAttribute('class').indexOf('search-form') !== -1) ||\n                (_form.getAttribute('role') !== null && _form.getAttribute('role').indexOf('search') !== -1)\n            ) &&\n            !isExclusion(_form)\n        ) {\n            // this handles search forms onsubmit process\n            _form.apbctSearchPrevOnsubmit = _form.onsubmit;\n            _form.onsubmit = (e) => ctSearchFormOnSubmitHandler(e, _form);\n        }\n    }\n}\n\n\n/**\n * Checking that the bot detector has loaded and received the event token\n */\nfunction checkBotDetectorExist() {\n    if (+ctPublic.settings__data__bot_detector_enabled) {\n        const botDetectorIntervalSearch = setInterval(() => {\n            let botDetectorEventToken = localStorage.bot_detector_event_token ? true : false;\n\n            if (botDetectorEventToken) {\n                ctSetCookie('apbct_bot_detector_exist', '1', '3600');\n                clearInterval(botDetectorIntervalSearch);\n            }\n        }, 500);\n    }\n}\n\n/**\n * Insert no_cookies_data to rest request\n */\nfunction ctAddWCMiddlewares() {\n    const ctPinDataToRequest = (options, next) => {\n        if (typeof options !== 'object' || options === null ||\n            !options.hasOwnProperty('data') || !options.hasOwnProperty('path')\n        ) {\n            return next(options);\n        }\n\n        // add to cart\n        if (options.data.hasOwnProperty('requests') &&\n            options.data.requests.length > 0 &&\n            options.data.requests[0].hasOwnProperty('path') &&\n            options.data.requests[0].path === '/wc/store/v1/cart/add-item'\n        ) {\n            options.data.requests[0].data.ct_no_cookie_hidden_field = getNoCookieData();\n            options.data.requests[0].data.event_token = localStorage.getItem('bot_detector_event_token');\n        }\n\n        // checkout\n        if (options.path === '/wc/store/v1/checkout') {\n            options.data.ct_no_cookie_hidden_field = getNoCookieData();\n            options.data.event_token = localStorage.getItem('bot_detector_event_token');\n        }\n\n        return next(options);\n    };\n\n    if (window.hasOwnProperty('wp') &&\n        window.wp.hasOwnProperty('apiFetch') &&\n        typeof window.wp.apiFetch.use === 'function'\n    ) {\n        window.wp.apiFetch.use(ctPinDataToRequest);\n    }\n}\n\n/**\n * Insert event_token and no_cookies_data to some ajax request\n */\nfunction apbctCatchXmlHttpRequest() {\n    // 1) Check the page if it needed to catch XHR\n    if (\n        document.querySelector('div.wfu_container') !== null ||\n        document.querySelector('#newAppointmentForm') !== null ||\n        document.querySelector('.booked-calendar-shortcode-wrap') !== null\n    ) {\n        const originalSend = XMLHttpRequest.prototype.send;\n        XMLHttpRequest.prototype.send = function(body) {\n            // 2) Check the caught request fi it needed to modify\n            if (\n                body &&\n                typeof body === 'string' &&\n                (\n                    body.indexOf('action=wfu_ajax_action_ask_server') !== -1 ||\n                    body.indexOf('action=booked_add_appt') !== -1\n                )\n            ) {\n                let addidionalCleantalkData = '';\n                let eventToken = localStorage.getItem('bot_detector_event_token');\n                try {\n                    eventToken = JSON.parse(eventToken);\n                } catch {\n                    eventToken = false;\n                }\n                if (\n                    eventToken !== null &&\n                    eventToken !== false &&\n                    eventToken.hasOwnProperty('value') &&\n                    eventToken.value !== ''\n                ) {\n                    eventToken = eventToken.value;\n                    addidionalCleantalkData += '&' + 'data%5Bct_bot_detector_event_token%5D=' + eventToken;\n                }\n\n                let noCookieData = getNoCookieData();\n                addidionalCleantalkData += '&' + 'data%5Bct_no_cookie_hidden_field%5D=' + noCookieData;\n\n                body += addidionalCleantalkData;\n\n                return originalSend.apply(this, [body]);\n            }\n            return originalSend.apply(this, [body]);\n        };\n    }\n}\n\n/**\n * Prepare jQuery.ajaxSetup to add nocookie data to the jQuery ajax request.\n * Notes:\n * - Do it just once, the ajaxSetup.beforeSend will be overwritten for any calls.\n * - Signs of forms need to be caught will be checked during ajaxSetup.settings.data process on send.\n * - Any sign of the form HTML of the caller is insignificant in this process.\n * @return {void}\n */\nfunction ctAjaxSetupAddCleanTalkDataBeforeSendAjax() {\n    // jquery ajax call intercept\n    // this is the only place where we can found hard dependency on jQuery, if the form use it - the script\n    // will work independing if jQuery is loaded by CleanTalk or not\n    let eventToken = false;\n    if ( typeof jQuery !== 'undefined' && typeof jQuery.ajaxSetup === 'function') {\n        jQuery.ajaxSetup({\n            beforeSend: function(xhr, settings) {\n                let sourceSign = false;\n                // settings data is string (important!)\n                if ( typeof settings.data === 'string' ) {\n                    if (settings.data.indexOf('twt_cc_signup') !== -1) {\n                        sourceSign = 'twt_cc_signup';\n                    }\n\n                    if (settings.data.indexOf('action=mailpoet') !== -1) {\n                        sourceSign = 'action=mailpoet';\n                    }\n\n                    if (\n                        settings.data.indexOf('action=user_registration') !== -1 &&\n                        settings.data.indexOf('ur_frontend_form_nonce') !== -1\n                    ) {\n                        sourceSign = 'action=user_registration';\n                    }\n\n                    if (settings.data.indexOf('action=happyforms_message') !== -1) {\n                        sourceSign = 'action=happyforms_message';\n                    }\n\n                    if (settings.data.indexOf('action=new_activity_comment') !== -1) {\n                        sourceSign = 'action=new_activity_comment';\n                    }\n                }\n                if ( typeof settings.url === 'string' ) {\n                    if (settings.url.indexOf('wc-ajax=add_to_cart') !== -1) {\n                        sourceSign = 'wc-ajax=add_to_cart';\n                        if (localStorage.getItem('bot_detector_event_token') !== null) {\n                            eventToken = localStorage.getItem('bot_detector_event_token');\n                            try {\n                                eventToken = JSON.parse(eventToken);\n                            } catch {\n                                eventToken = false;\n                            }\n                            if (eventToken !== false && eventToken.hasOwnProperty('value') && eventToken.value !== '') {\n                                eventToken = eventToken.value;\n                            }\n                        }\n                    }\n                }\n\n                if (sourceSign) {\n                    let noCookieData = getNoCookieData();\n                    if (typeof eventToken === 'string') {\n                        eventToken = 'data%5Bct_bot_detector_event_token%5D=' + eventToken + '&';\n                    } else {\n                        eventToken = '';\n                    }\n                    noCookieData = 'data%5Bct_no_cookie_hidden_field%5D=' + noCookieData + '&';\n\n                    settings.data = noCookieData + eventToken + settings.data;\n                }\n            },\n        });\n    }\n}\n\n// eslint-disable-next-line require-jsdoc\nfunction ctOnsubmitPrevCallExclude(form) {\n    if (form.classList.contains('hb-booking-search-form')) {\n        return true;\n    }\n\n    return false;\n}\n\nif (ctPublic.data__key_is_ok) {\n    if (document.readyState !== 'loading') {\n        apbct_ready();\n    } else {\n        apbct_attach_event_handler(document, 'DOMContentLoaded', apbct_ready);\n    }\n\n    apbctLocalStorage.set('ct_checkjs', ctPublic.ct_checkjs_key, true );\n}\n\n/**\n * @param {SubmitEvent} e\n * @param {object} targetForm\n */\nfunction ctSearchFormOnSubmitHandler(e, targetForm) {\n    try {\n        // get honeypot field and it's value\n        const honeyPotField = targetForm.querySelector('[name*=\"apbct_email_id__\"]');\n        let hpValue = null;\n        if (\n            honeyPotField !== null &&\n            honeyPotField.value !== null\n        ) {\n            hpValue = honeyPotField.value;\n        }\n\n        // get cookie data from storages\n        let cleantalkStorageDataArray = getCleanTalkStorageDataArray();\n\n        // get event token from storage\n        let eventTokenLocalStorage = apbctLocalStorage.get('bot_detector_event_token');\n\n        // if noCookie data or honeypot data is set, proceed handling\n        if ( cleantalkStorageDataArray !== null || honeyPotField !== null || eventTokenLocalStorage !== null ) {\n            e.preventDefault();\n            const callBack = () => {\n                if (honeyPotField !== null) {\n                    honeyPotField.parentNode.removeChild(honeyPotField);\n                }\n                if (typeof targetForm.apbctSearchPrevOnsubmit === 'function') {\n                    targetForm.apbctSearchPrevOnsubmit();\n                } else {\n                    HTMLFormElement.prototype.submit.call(targetForm);\n                }\n            };\n\n            let cookiesArray = cleantalkStorageDataArray;\n\n            // if honeypot data provided add the fields to the parsed data\n            if ( hpValue !== null ) {\n                cookiesArray.apbct_search_form__honeypot_value = hpValue;\n            }\n\n            // set event token\n            cookiesArray.ct_bot_detector_event_token = eventTokenLocalStorage;\n\n            // if the pixel needs to be decoded\n            if (\n                typeof cookiesArray.apbct_pixel_url === 'string' &&\n                cookiesArray.apbct_pixel_url.indexOf('%3A') !== -1\n            ) {\n                cookiesArray.apbct_pixel_url = decodeURIComponent(cookiesArray.apbct_pixel_url);\n            }\n\n            // data to JSON\n            const parsedCookies = JSON.stringify(cookiesArray);\n\n            // if any data provided, proceed data to xhr\n            if ( typeof parsedCookies !== 'undefined' && parsedCookies.length !== 0 ) {\n                ctSetAlternativeCookie(\n                    parsedCookies,\n                    {callback: callBack, onErrorCallback: callBack, forceAltCookies: true},\n                );\n            } else {\n                callBack();\n            }\n        }\n    } catch (error) {\n        console.warn('APBCT search form onsubmit handler error. ' + error);\n    }\n}\n\n/**\n * @param {mixed} commonCookies\n * @return {string}\n */\nfunction getJavascriptClientData(commonCookies = []) { // eslint-disable-line no-unused-vars\n    let resultDataJson = {};\n\n    resultDataJson.ct_checked_emails = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_checked_emails');\n    resultDataJson.ct_checked_emails_exist = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_checked_emails_exist');\n    resultDataJson.ct_checkjs = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_checkjs');\n    resultDataJson.ct_fkp_timestamp = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_fkp_timestamp');\n    resultDataJson.ct_pointer_data = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_pointer_data');\n    resultDataJson.ct_ps_timestamp = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_ps_timestamp');\n    resultDataJson.ct_screen_info = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_screen_info');\n    resultDataJson.ct_timezone = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_timezone');\n\n    // collecting data from localstorage\n    const ctMouseMovedLocalStorage = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'ct_mouse_moved');\n    const ctHasScrolledLocalStorage = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'ct_has_scrolled');\n    const ctCookiesTypeLocalStorage = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'ct_cookies_type');\n    const apbctPageHits = apbctLocalStorage.get('apbct_page_hits');\n    const apbctPrevReferer = apbctSessionStorage.get('apbct_prev_referer');\n    const apbctSiteReferer = apbctSessionStorage.get('apbct_site_referer');\n    const ctJsErrorsLocalStorage = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'ct_js_errors');\n    const ctPixelUrl = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'apbct_pixel_url');\n    const apbctHeadless = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'apbct_headless');\n    const ctBotDetectorFrontendDataLog = apbctLocalStorage.get(\n        ctPublicFunctions.cookiePrefix + 'ct_bot_detector_frontend_data_log',\n    );\n\n    // collecting data from cookies\n    const ctMouseMovedCookie = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_mouse_moved');\n    const ctHasScrolledCookie = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_has_scrolled');\n    const ctCookiesTypeCookie = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_cookies_type');\n    const ctCookiesPixelUrl = ctGetCookie(ctPublicFunctions.cookiePrefix + 'apbct_pixel_url');\n    const apbctHeadlessNative = !!ctGetCookie(ctPublicFunctions.cookiePrefix + 'apbct_headless');\n\n\n    resultDataJson.ct_mouse_moved = ctMouseMovedLocalStorage !== undefined ?\n        ctMouseMovedLocalStorage : ctMouseMovedCookie;\n    resultDataJson.ct_has_scrolled = ctHasScrolledLocalStorage !== undefined ?\n        ctHasScrolledLocalStorage : ctHasScrolledCookie;\n    resultDataJson.ct_cookies_type = ctCookiesTypeLocalStorage !== undefined ?\n        ctCookiesTypeLocalStorage : ctCookiesTypeCookie;\n    resultDataJson.apbct_pixel_url = ctPixelUrl !== undefined ?\n        ctPixelUrl : ctCookiesPixelUrl;\n    resultDataJson.apbct_headless = apbctHeadless !== undefined ?\n        apbctHeadless : apbctHeadlessNative;\n    resultDataJson.ct_bot_detector_frontend_data_log = ctBotDetectorFrontendDataLog !== undefined ?\n        ctBotDetectorFrontendDataLog : '';\n    if (resultDataJson.apbct_pixel_url && typeof(resultDataJson.apbct_pixel_url) == 'string') {\n        if (resultDataJson.apbct_pixel_url.indexOf('%3A%2F')) {\n            resultDataJson.apbct_pixel_url = decodeURIComponent(resultDataJson.apbct_pixel_url);\n        }\n    }\n\n    resultDataJson.apbct_page_hits = apbctPageHits;\n    resultDataJson.apbct_prev_referer = apbctPrevReferer;\n    resultDataJson.apbct_site_referer = apbctSiteReferer;\n    resultDataJson.apbct_ct_js_errors = ctJsErrorsLocalStorage;\n\n    if (!resultDataJson.apbct_pixel_url) {\n        resultDataJson.apbct_pixel_url = ctPublic.pixel__url;\n    }\n\n    if ( typeof (commonCookies) === 'object') {\n        for (let i = 0; i < commonCookies.length; ++i) {\n            if ( typeof (commonCookies[i][1]) === 'object' ) {\n                // this is for handle SFW cookies\n                resultDataJson[commonCookies[i][1][0]] = commonCookies[i][1][1];\n            } else {\n                resultDataJson[commonCookies[i][0]] = commonCookies[i][1];\n            }\n        }\n    } else {\n        console.log('APBCT JS ERROR: Collecting data type mismatch');\n    }\n\n    // Parse JSON properties to prevent double JSON encoding\n    resultDataJson = removeDoubleJsonEncoding(resultDataJson);\n\n\n    return JSON.stringify(resultDataJson);\n}\n\n/**\n * Recursive\n *\n * Recursively decode JSON-encoded properties\n *\n * @param {mixed} object\n * @return {*}\n */\nfunction removeDoubleJsonEncoding(object) {\n    if ( typeof object === 'object') {\n        // eslint-disable-next-line guard-for-in\n        for (let objectKey in object) {\n            // Recursion\n            if ( typeof object[objectKey] === 'object') {\n                object[objectKey] = removeDoubleJsonEncoding(object[objectKey]);\n            }\n\n            // Common case (out)\n            if (\n                typeof object[objectKey] === 'string' &&\n                object[objectKey].match(/^[\\[{].*?[\\]}]$/) !== null // is like JSON\n            ) {\n                const parsedValue = JSON.parse(object[objectKey]);\n                if ( typeof parsedValue === 'object' ) {\n                    object[objectKey] = parsedValue;\n                }\n            }\n        }\n    }\n\n    return object;\n}\n\n// eslint-disable-next-line camelcase,require-jsdoc\nfunction apbct_collect_visible_fields( form ) {\n    // Get only fields\n    let inputs = [];\n    let inputsVisible = '';\n    let inputsVisibleCount = 0;\n    let inputsInvisible = '';\n    let inputsInvisibleCount = 0;\n    let inputsWithDuplicateNames = [];\n\n    for (let key in form.elements) {\n        if (!isNaN(+key)) {\n            inputs[key] = form.elements[key];\n        }\n    }\n\n    // Filter fields\n    inputs = inputs.filter(function(elem) {\n        // Filter already added fields\n        if ( inputsWithDuplicateNames.indexOf( elem.getAttribute('name') ) !== -1 ) {\n            return false;\n        }\n        // Filter inputs with same names for type == radio\n        if ( -1 !== ['radio', 'checkbox'].indexOf( elem.getAttribute('type') )) {\n            inputsWithDuplicateNames.push( elem.getAttribute('name') );\n            return false;\n        }\n        return true;\n    });\n\n    // Visible fields\n    inputs.forEach(function(elem, i, elements) {\n        // Unnecessary fields\n        if (\n            elem.getAttribute('type') === 'submit' || // type == submit\n            elem.getAttribute('name') === null ||\n            elem.getAttribute('name') === 'ct_checkjs'\n        ) {\n            return;\n        }\n        // Invisible fields\n        if (\n            getComputedStyle(elem).display === 'none' || // hidden\n            getComputedStyle(elem).visibility === 'hidden' || // hidden\n            getComputedStyle(elem).opacity === '0' || // hidden\n            elem.getAttribute('type') === 'hidden' // type == hidden\n        ) {\n            if ( elem.classList.contains('wp-editor-area') ) {\n                inputsVisible += ' ' + elem.getAttribute('name');\n                inputsVisibleCount++;\n            } else {\n                inputsInvisible += ' ' + elem.getAttribute('name');\n                inputsInvisibleCount++;\n            }\n            // eslint-disable-next-line brace-style\n        }\n        // Visible fields\n        else {\n            inputsVisible += ' ' + elem.getAttribute('name');\n            inputsVisibleCount++;\n        }\n    });\n\n    inputsInvisible = inputsInvisible.trim();\n    inputsVisible = inputsVisible.trim();\n\n    return {\n        visible_fields: inputsVisible,\n        visible_fields_count: inputsVisibleCount,\n        invisible_fields: inputsInvisible,\n        invisible_fields_count: inputsInvisibleCount,\n    };\n}\n\n// eslint-disable-next-line camelcase,require-jsdoc\nfunction apbct_visible_fields_set_cookie( visibleFieldsCollection, formId ) {\n    let collection = typeof visibleFieldsCollection === 'object' && visibleFieldsCollection !== null ?\n        visibleFieldsCollection : {};\n\n    if ( ctPublic.data__cookies_type === 'native' ) {\n        // eslint-disable-next-line guard-for-in\n        for ( let i in collection ) {\n            if ( i > 10 ) {\n                // Do not generate more than 10 cookies\n                return;\n            }\n            let collectionIndex = formId !== undefined ? formId : i;\n            ctSetCookie('apbct_visible_fields_' + collectionIndex, JSON.stringify( collection[i] ) );\n        }\n    } else {\n        ctSetCookie('apbct_visible_fields', JSON.stringify( collection ) );\n    }\n}\n\n// eslint-disable-next-line camelcase,require-jsdoc,no-unused-vars\nfunction apbct_js_keys__set_input_value(result, data, params, obj) {\n    if ( document.querySelectorAll('[name^=ct_checkjs]').length > 0 ) {\n        let elements = document.querySelectorAll('[name^=ct_checkjs]');\n        for ( let i = 0; i < elements.length; i++ ) {\n            elements[i].value = result.js_key;\n        }\n    }\n}\n\n/**\n * @return {string}\n */\nfunction apbctGetScreenInfo() {\n    return JSON.stringify({\n        fullWidth: document.documentElement.scrollWidth,\n        fullHeight: Math.max(\n            document.body.scrollHeight, document.documentElement.scrollHeight,\n            document.body.offsetHeight, document.documentElement.offsetHeight,\n            document.body.clientHeight, document.documentElement.clientHeight,\n        ),\n        visibleWidth: document.documentElement.clientWidth,\n        visibleHeight: document.documentElement.clientHeight,\n    });\n}\n\n// eslint-disable-next-line require-jsdoc\nfunction ctParseBlockMessage(response) {\n    let msg = '';\n    if (typeof response.apbct !== 'undefined') {\n        response = response.apbct;\n        if (response.blocked) {\n            msg = response.comment;\n        }\n    }\n    if (typeof response.data !== 'undefined') {\n        response = response.data;\n        if (response.message !== undefined) {\n            msg = response.message;\n        }\n    }\n\n    if (msg) {\n        document.dispatchEvent(\n            new CustomEvent( 'apbctAjaxBockAlert', {\n                bubbles: true,\n                detail: {message: msg},\n            } ),\n        );\n\n        // Show the result by modal\n        cleantalkModal.loaded = msg;\n        cleantalkModal.open();\n\n        if (+response.stop_script === 1) {\n            window.stop();\n        }\n    }\n}\n\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction ctSetPixelUrlLocalstorage(ajaxPixelUrl) {\n    // set pixel to the storage\n    ctSetCookie('apbct_pixel_url', ajaxPixelUrl);\n}\n\n// eslint-disable-next-line require-jsdoc\nfunction ctNoCookieConstructHiddenField(type) {\n    let inputType = 'hidden';\n    if (type === 'submit') {\n        inputType = 'submit';\n    }\n    let field = '';\n\n    let noCookieData = getCleanTalkStorageDataArray();\n    noCookieData = JSON.stringify(noCookieData);\n    noCookieData = '_ct_no_cookie_data_' + btoa(noCookieData);\n    field = document.createElement('input');\n    field.setAttribute('name', 'ct_no_cookie_hidden_field');\n    field.setAttribute('value', noCookieData);\n    field.setAttribute('type', inputType);\n    field.classList.add('apbct_special_field');\n    field.classList.add('ct_no_cookie_hidden_field');\n    return field;\n}\n\n/**\n * Retrieves the clentalk \"cookie\" data from starages.\n * Contains {...noCookieDataLocal, ...noCookieDataSession, ...noCookieDataTypo, ...noCookieDataFromUserActivity}.\n * @return {string}\n */\nfunction getCleanTalkStorageDataArray() {\n    let noCookieDataLocal = apbctLocalStorage.getCleanTalkData();\n    let noCookieDataSession = apbctSessionStorage.getCleanTalkData();\n\n    let noCookieDataTypo = {typo: []};\n    if (document.ctTypoData && document.ctTypoData.data) {\n        noCookieDataTypo = {typo: document.ctTypoData.data};\n    }\n\n    let noCookieDataFromUserActivity = {collecting_user_activity_data: []};\n\n    if (document.ctCollectingUserActivityData) {\n        let collectingUserActivityData = JSON.parse(JSON.stringify(document.ctCollectingUserActivityData));\n        noCookieDataFromUserActivity = {collecting_user_activity_data: collectingUserActivityData};\n    }\n\n    return {...noCookieDataLocal, ...noCookieDataSession, ...noCookieDataTypo, ...noCookieDataFromUserActivity};\n}\n\n/**\n * @return {boolean|*}\n */\nfunction ctGetPageForms() {\n    let forms = document.forms;\n    if (forms) {\n        return forms;\n    }\n    return false;\n}\n\n/**\n * Get type of the field should be excluded. Return exclusion signs via object.\n * @param {object} form Form dom object.\n * @return {object} {'no_cookie': 1|0, 'visible_fields': 1|0}\n */\nfunction ctGetHiddenFieldExclusionsType(form) {\n    // visible fields\n    let result = {'no_cookie': 0, 'visible_fields': 0};\n    if (\n        +ctPublic.data__visible_fields_required === 0 ||\n        (form.method.toString().toLowerCase() === 'get' &&\n        form.querySelectorAll('.nf-form-content').length === 0 &&\n        form.id !== 'twt_cc_signup') ||\n        form.classList.contains('slp_search_form') || // StoreLocatorPlus form\n        form.parentElement.classList.contains('mec-booking') ||\n        form.action.toString().indexOf('activehosted.com') !== -1 || // Active Campaign\n        (form.id && form.id === 'caspioform') || // Caspio Form\n        (form.classList && form.classList.contains('tinkoffPayRow')) || // TinkoffPayForm\n        (form.classList && form.classList.contains('give-form')) || // GiveWP\n        (form.id && form.id === 'ult-forgot-password-form') || // ult forgot password\n        (form.id && form.id.toString().indexOf('calculatedfields') !== -1) || // CalculatedFieldsForm\n        (form.id && form.id.toString().indexOf('sac-form') !== -1) || // Simple Ajax Chat\n        (form.id &&\n            form.id.toString().indexOf('cp_tslotsbooking_pform') !== -1) || // WP Time Slots Booking Form\n        (form.name &&\n            form.name.toString().indexOf('cp_tslotsbooking_pform') !== -1) || // WP Time Slots Booking Form\n        form.action.toString() === 'https://epayment.epymtservice.com/epay.jhtml' || // Custom form\n        (form.name && form.name.toString().indexOf('tribe-bar-form') !== -1) || // The Events Calendar\n        (form.id && form.id === 'ihf-login-form') || // Optima Express login\n        (form.id &&\n            form.id === 'subscriberForm' &&\n            form.action.toString().indexOf('actionType=update') !== -1) || // Optima Express update\n        (form.id && form.id === 'ihf-main-search-form') || // Optima Express search\n        (form.id && form.id === 'frmCalc') || // nobletitle-calc\n        form.action.toString().indexOf('property-organizer-delete-saved-search-submit') !== -1 ||\n        form.querySelector('a[name=\"login\"]') !== null // digimember login form\n    ) {\n        result.visible_fields = 1;\n    }\n\n    // ajax search pro exclusion\n    let ncFieldExclusionsSign = form.parentNode;\n    if (\n        ncFieldExclusionsSign && ncFieldExclusionsSign.classList.contains('proinput') ||\n        (form.name === 'options' && form.classList.contains('asp-fss-flex'))\n    ) {\n        result.no_cookie = 1;\n    }\n\n    // woocommerce login form\n    if (\n        form && form.classList.contains('woocommerce-form-login')\n    ) {\n        result.visible_fields = 1;\n        result.no_cookie = 1;\n    }\n\n    return result;\n}\n\n/**\n * Check if the form should be skipped from hidden field attach.\n * Return exclusion description if it is found, false otherwise.\n * @param {object} form Form dom object.\n * @param {string} hiddenFieldType Type of hidden field that needs to be checked.\n * Possible values: 'no_cookie'|'visible_fields'.\n * @return {boolean}\n */\nfunction ctCheckHiddenFieldsExclusions(form, hiddenFieldType) {\n    const formAction = typeof(form.action) == 'string' ? form.action : '';\n    // Ajax Search Lite\n    if (Boolean(form.querySelector('fieldset.asl_sett_scroll'))) {\n        return true;\n    }\n    // Super WooCommerce Product Filter\n    if (form.classList.contains('swpf-instant-filtering')) {\n        return true;\n    }\n    // PayU 3-rd party service forms\n    if (formAction.indexOf('secure.payu.com') !== -1 ) {\n        return true;\n    }\n\n    if (formAction.indexOf('hsforms') !== -1 ) {\n        return true;\n    }\n\n    if (formAction.indexOf('secureinternetbank.com') !== -1 ) {\n        return true;\n    }\n\n    if (typeof (hiddenFieldType) === 'string' &&\n        ['visible_fields', 'no_cookie'].indexOf(hiddenFieldType) !== -1) {\n        const exclusions = ctGetHiddenFieldExclusionsType(form);\n        return exclusions[hiddenFieldType] === 1;\n    }\n\n    return false;\n}\n\n/**\n * ctNoCookieAttachHiddenFieldsToForms\n */\nfunction ctNoCookieAttachHiddenFieldsToForms() {\n    if (ctPublic.data__cookies_type !== 'none') {\n        return;\n    }\n\n    let forms = ctGetPageForms();\n\n    if (forms) {\n        for ( let i = 0; i < forms.length; i++ ) {\n            if ( ctCheckHiddenFieldsExclusions(document.forms[i], 'no_cookie') ) {\n                continue;\n            }\n\n            // ignore forms with get method @todo We need to think about this\n            if (document.forms[i].getAttribute('method') === null ||\n                document.forms[i].getAttribute('method').toLowerCase() === 'post') {\n                // remove old sets\n                let fields = forms[i].querySelectorAll('.ct_no_cookie_hidden_field');\n                for ( let j = 0; j < fields.length; j++ ) {\n                    fields[j].outerHTML = '';\n                }\n                // add new set\n                document.forms[i].append(ctNoCookieConstructHiddenField());\n            }\n        }\n    }\n}\n\nconst defaultFetch = window.fetch;\nconst defaultSend = XMLHttpRequest.prototype.send;\n\nif (document.readyState !== 'loading') {\n    checkFormsExistForCatching();\n} else {\n    apbct_attach_event_handler(document, 'DOMContentLoaded', checkFormsExistForCatching);\n}\n\n/**\n * checkFormsExistForCatching\n */\nfunction checkFormsExistForCatching() {\n    setTimeout(function() {\n        if (isFormThatNeedCatch()) {\n            window.fetch = function(...args) {\n                if (args &&\n                    args[0] &&\n                    typeof args[0].includes === 'function' &&\n                    (args[0].includes('/wp-json/metform/') ||\n                    (ctPublicFunctions._rest_url && (() => {\n                        try {\n                            return args[0].includes(new URL(ctPublicFunctions._rest_url).pathname + 'metform/');\n                        } catch (e) {\n                            return false;\n                        }\n                    })()))\n                ) {\n                    let noCookieData = getNoCookieData();\n\n                    if (args && args[1] && args[1].body) {\n                        args[1].body.append('ct_no_cookie_hidden_field', noCookieData);\n                    }\n                }\n\n                return defaultFetch.apply(window, args);\n            };\n        }\n    }, 1000);\n}\n\n/**\n * @return {boolean}\n */\nfunction isFormThatNeedCatch() {\n    const formClasses = [\n        'metform-form-content',\n    ];\n    let classExists = false;\n\n    const forms = document.forms;\n    for (let form of forms) {\n        formClasses.forEach(function(classForm) {\n            if (form.classList.contains(classForm)) {\n                classExists = true;\n            }\n        });\n    }\n\n    return classExists;\n}\n\n/**\n * @param {HTMLElement} form\n * @return {boolean}\n */\nfunction isFormThatNeedCatchXhr(form) {\n    if (document.querySelector('div.elementor-widget[title=\\'Login/Signup\\']') != null) {\n        return false;\n    }\n    if (form && form.action && form.action.toString().indexOf('mailpoet_subscription_form') !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * @return {string}\n */\nfunction getNoCookieData() {\n    let noCookieDataLocal = apbctLocalStorage.getCleanTalkData();\n    let noCookieDataSession = apbctSessionStorage.getCleanTalkData();\n    let noCookieData = {...noCookieDataLocal, ...noCookieDataSession};\n    noCookieData = JSON.stringify(noCookieData);\n\n    return '_ct_no_cookie_data_' + btoa(noCookieData);\n}\n\n/**\n * Set three statements to the sessions storage: apbct_session_current_page, apbct_prev_referer.\n * @return {void}\n */\nfunction apbctWriteReferrersToSessionStorage() {\n    const sessionCurrentPage = apbctSessionStorage.get('apbct_session_current_page');\n\n    // set session apbct_referer\n    if (sessionCurrentPage!== false && document.location.href !== sessionCurrentPage) {\n        apbctSessionStorage.set('apbct_prev_referer', sessionCurrentPage, false);\n    }\n\n    // set session current page to know referrer\n    apbctSessionStorage.set('apbct_session_current_page', document.location.href, false);\n}\n\n/**\n * WooCommerce add to cart by GET request params collecting\n */\nfunction apbctCheckAddToCartByGet() {\n    // 1) Collect all links with add_to_cart_button class\n    document.querySelectorAll('a.add_to_cart_button:not(.product_type_variable):not(.wc-interactive)').forEach((el) => {\n        el.addEventListener('click', function(e) {\n            let href = el.getAttribute('href');\n            // 2) Add to href attribute additional parameter ct_bot_detector_event_token gathered from apbctLocalStorage\n            let eventToken = apbctLocalStorage.get('bot_detector_event_token');\n            if ( eventToken ) {\n                if ( href.indexOf('?') === -1 ) {\n                    href += '?';\n                } else {\n                    href += '&';\n                }\n                href += 'ct_bot_detector_event_token=' + eventToken;\n                el.setAttribute('href', href);\n            }\n        });\n    });\n}\n\n/* Cleantalk Modal object */\nlet cleantalkModal = {\n\n    // Flags\n    loaded: false,\n    loading: false,\n    opened: false,\n    opening: false,\n    ignoreURLConvert: false,\n\n    // Methods\n    load: function( action ) {\n        if ( ! this.loaded ) {\n            this.loading = true;\n            let callback = function( result, data, params, obj ) {\n                cleantalkModal.loading = false;\n                cleantalkModal.loaded = result;\n                document.dispatchEvent(\n                    new CustomEvent( 'cleantalkModalContentLoaded', {\n                        bubbles: true,\n                    } ),\n                );\n            };\n            // eslint-disable-next-line camelcase\n            if ( typeof apbct_admin_sendAJAX === 'function' ) {\n                apbct_admin_sendAJAX( {'action': action}, {'callback': callback, 'notJson': true} );\n            } else {\n                apbct_public_sendAJAX( {'action': action}, {'callback': callback, 'notJson': true} );\n            }\n        }\n    },\n\n    open: function() {\n        /* Cleantalk Modal CSS start */\n        let renderCss = function() {\n            let cssStr = '';\n            // eslint-disable-next-line guard-for-in\n            for ( const key in this.styles ) {\n                cssStr += key + ':' + this.styles[key] + ';';\n            }\n            return cssStr;\n        };\n        let overlayCss = {\n            styles: {\n                'z-index': '9999999999',\n                'position': 'fixed',\n                'top': '0',\n                'left': '0',\n                'width': '100%',\n                'height': '100%',\n                'background': 'rgba(0,0,0,0.5)',\n                'display': 'flex',\n                'justify-content': 'center',\n                'align-items': 'center',\n            },\n            toString: renderCss,\n        };\n        let innerCss = {\n            styles: {\n                'position': 'relative',\n                'padding': '30px',\n                'background': '#FFF',\n                'border': '1px solid rgba(0,0,0,0.75)',\n                'border-radius': '4px',\n                'box-shadow': '7px 7px 5px 0px rgba(50,50,50,0.75)',\n            },\n            toString: renderCss,\n        };\n        let closeCss = {\n            styles: {\n                'position': 'absolute',\n                'background': '#FFF',\n                'width': '20px',\n                'height': '20px',\n                'border': '2px solid rgba(0,0,0,0.75)',\n                'border-radius': '15px',\n                'cursor': 'pointer',\n                'top': '-8px',\n                'right': '-8px',\n                'box-sizing': 'content-box',\n            },\n            toString: renderCss,\n        };\n        let closeCssBefore = {\n            styles: {\n                'content': '\"\"',\n                'display': 'block',\n                'position': 'absolute',\n                'background': '#000',\n                'border-radius': '1px',\n                'width': '2px',\n                'height': '16px',\n                'top': '2px',\n                'left': '9px',\n                'transform': 'rotate(45deg)',\n            },\n            toString: renderCss,\n        };\n        let closeCssAfter = {\n            styles: {\n                'content': '\"\"',\n                'display': 'block',\n                'position': 'absolute',\n                'background': '#000',\n                'border-radius': '1px',\n                'width': '2px',\n                'height': '16px',\n                'top': '2px',\n                'left': '9px',\n                'transform': 'rotate(-45deg)',\n            },\n            toString: renderCss,\n        };\n        let bodyCss = {\n            styles: {\n                'overflow': 'hidden',\n            },\n            toString: renderCss,\n        };\n        let cleantalkModalStyle = document.createElement( 'style' );\n        cleantalkModalStyle.setAttribute( 'id', 'cleantalk-modal-styles' );\n        cleantalkModalStyle.innerHTML = 'body.cleantalk-modal-opened{' + bodyCss + '}';\n        cleantalkModalStyle.innerHTML += '#cleantalk-modal-overlay{' + overlayCss + '}';\n        cleantalkModalStyle.innerHTML += '#cleantalk-modal-close{' + closeCss + '}';\n        cleantalkModalStyle.innerHTML += '#cleantalk-modal-close:before{' + closeCssBefore + '}';\n        cleantalkModalStyle.innerHTML += '#cleantalk-modal-close:after{' + closeCssAfter + '}';\n        document.body.append( cleantalkModalStyle );\n        /* Cleantalk Modal CSS end */\n\n        let overlay = document.createElement( 'div' );\n        overlay.setAttribute( 'id', 'cleantalk-modal-overlay' );\n        document.body.append( overlay );\n\n        document.body.classList.add( 'cleantalk-modal-opened' );\n\n        let inner = document.createElement( 'div' );\n        inner.setAttribute( 'id', 'cleantalk-modal-inner' );\n        inner.setAttribute( 'style', innerCss );\n        overlay.append( inner );\n\n        let close = document.createElement( 'div' );\n        close.setAttribute( 'id', 'cleantalk-modal-close' );\n        inner.append( close );\n\n        let content = document.createElement( 'div' );\n        if ( this.loaded ) {\n            const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n            const serviceContentRegex = /.*\\/inc/g;\n            if (serviceContentRegex.test(this.loaded) || this.ignoreURLConvert) {\n                content.innerHTML = this.loaded;\n            } else {\n                content.innerHTML = this.loaded.replace(urlRegex, '<a href=\"$1\" target=\"_blank\">$1</a>');\n            }\n        } else {\n            content.innerHTML = 'Loading...';\n            // @ToDo Here is hardcoded parameter. Have to get this from a 'data-' attribute.\n            this.load( 'get_options_template' );\n        }\n        content.setAttribute( 'id', 'cleantalk-modal-content' );\n        inner.append( content );\n\n        this.opened = true;\n    },\n\n    close: function() {\n        document.body.classList.remove( 'cleantalk-modal-opened' );\n        document.getElementById( 'cleantalk-modal-overlay' ).remove();\n        document.getElementById( 'cleantalk-modal-styles' ).remove();\n        document.dispatchEvent(\n            new CustomEvent( 'cleantalkModalClosed', {\n                bubbles: true,\n            } ),\n        );\n    },\n\n};\n\n/* Cleantalk Modal helpers */\ndocument.addEventListener('click', function( e ) {\n    if ( e.target && (e.target.id === 'cleantalk-modal-overlay' || e.target.id === 'cleantalk-modal-close') ) {\n        cleantalkModal.close();\n    }\n});\ndocument.addEventListener('cleantalkModalContentLoaded', function( e ) {\n    if ( cleantalkModal.opened && cleantalkModal.loaded ) {\n        document.getElementById( 'cleantalk-modal-content' ).innerHTML = cleantalkModal.loaded;\n    }\n});\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    let ctTrpLocalize = undefined;\n    let ctTrpIsAdminCommentsList = false;\n\n    if ( typeof ctPublic !== 'undefined' || typeof ctTrpAdminLocalize !== 'undefined' ) {\n        if ( typeof ctPublic !== 'undefined' && ctPublic.theRealPerson ) {\n            ctTrpLocalize = ctPublic.theRealPerson;\n        }\n        if (\n            typeof ctTrpLocalize === 'undefined' &&\n            typeof ctTrpAdminLocalize !== 'undefined' &&\n            ctTrpAdminLocalize.theRealPerson\n        ) {\n            ctTrpLocalize = ctTrpAdminLocalize.theRealPerson;\n            ctTrpIsAdminCommentsList = true;\n        }\n    }\n\n    if ( ! ctTrpLocalize ) {\n        return;\n    }\n\n    // Selectors. Try to handle the WIDE range of themes.\n    let themesCommentsSelector = '.apbct-trp *[class*=\"comment-author\"]';\n    if ( document.querySelector('.apbct-trp .comment-author .comment-author-link') ) {\n        // For Spacious theme\n        themesCommentsSelector = '.apbct-trp *[class*=\"comment-author-link\"]';\n    }\n    let woocommerceReviewsSelector = '.apbct-trp *[class*=\"review__author\"]';\n    let adminCommentsListSelector = '.apbct-trp td[class*=\"column-author\"] > strong';\n    const trpComments = document.querySelectorAll(\n        themesCommentsSelector + ',' +\n        woocommerceReviewsSelector + ',' +\n        adminCommentsListSelector);\n\n    if ( trpComments.length === 0 ) {\n        return;\n    }\n\n    trpComments.forEach(( element, index ) => {\n        // Exceptions for items that are included in the selection\n        if (\n            typeof pagenow == 'undefined' &&\n            element.parentElement.className.indexOf('group') < 0 &&\n            element.tagName != 'DIV'\n        ) {\n            return;\n        }\n\n        let trpLayout = document.createElement('div');\n        trpLayout.setAttribute('class', 'apbct-real-user-badge');\n\n        let trpImage = document.createElement('img');\n        trpImage.setAttribute('src', ctTrpLocalize.imgPersonUrl);\n        trpImage.setAttribute('class', 'apbct-real-user-popup-img');\n\n        let trpDescription = document.createElement('div');\n        trpDescription.setAttribute('class', 'apbct-real-user-popup');\n\n        let trpDescriptionHeading = document.createElement('p');\n        trpDescriptionHeading.setAttribute('class', 'apbct-real-user-popup-header');\n        trpDescriptionHeading.append(ctTrpLocalize.phrases.trpHeading);\n\n        let trpDescriptionContent = document.createElement('div');\n        trpDescriptionContent.setAttribute('class', 'apbct-real-user-popup-content_row');\n\n        let trpDescriptionContentSpan = document.createElement('span');\n        trpDescriptionContentSpan.append(ctTrpLocalize.phrases.trpContent1 + ' ');\n        trpDescriptionContentSpan.append(ctTrpLocalize.phrases.trpContent2);\n\n        if ( ctTrpIsAdminCommentsList ) {\n            let learnMoreLink = document.createElement('a');\n            learnMoreLink.setAttribute('href', ctTrpLocalize.trpContentLink);\n            learnMoreLink.setAttribute('target', '_blank');\n            learnMoreLink.text = ctTrpLocalize.phrases.trpContentLearnMore;\n            trpDescriptionContentSpan.append(' '); // Need one space\n            trpDescriptionContentSpan.append(learnMoreLink);\n        }\n\n        trpDescriptionContent.append(trpDescriptionContentSpan);\n        trpDescription.append(trpDescriptionHeading, trpDescriptionContent);\n        trpLayout.append(trpImage);\n        element.append(trpLayout);\n        element.append(trpDescription);\n    });\n\n    const badges = document.querySelectorAll('.apbct-real-user-badge');\n\n    badges.forEach((badge) => {\n        let hideTimeout = undefined;\n\n        this.body.addEventListener('click', function(e) {\n            if (\n                e.target.className.indexOf('apbct-real-user') == -1 &&\n                e.target.parentElement.className.indexOf('apbct-real-user') == -1\n            ) {\n                closeAllPopupTRP();\n            }\n        });\n\n        badge.addEventListener('click', function() {\n            const popup = this.nextElementSibling;\n            if (popup && popup.classList.contains('apbct-real-user-popup')) {\n                popup.classList.toggle('visible');\n            }\n        });\n\n        badge.addEventListener('mouseenter', function() {\n            closeAllPopupTRP();\n            const popup = this.nextElementSibling;\n            if (popup && popup.classList.contains('apbct-real-user-popup')) {\n                popup.classList.add('visible');\n            }\n        });\n\n        badge.addEventListener('mouseleave', function() {\n            hideTimeout = setTimeout(() => {\n                const popup = this.nextElementSibling;\n                if (popup && popup.classList.contains('apbct-real-user-popup')) {\n                    popup.classList.remove('visible');\n                }\n            }, 1000);\n        });\n\n        const popup = badge.nextElementSibling;\n        popup.addEventListener('mouseenter', function() {\n            clearTimeout(hideTimeout);\n            popup.classList.add('visible');\n        });\n\n        popup.addEventListener('mouseleave', function() {\n            hideTimeout = setTimeout(() => {\n                if (popup.classList.contains('apbct-real-user-popup')) {\n                    popup.classList.remove('visible');\n                }\n            }, 1000);\n        });\n\n        // For mobile devices\n        badge.addEventListener('touchend', function() {\n            hideTimeout = setTimeout(() => {\n                const popup = this.nextElementSibling;\n                const selection = window.getSelection();\n                // Check if no text is selected\n                if (popup && selection && popup.classList.contains('apbct-real-user-popup') &&\n                    selection.toString().length === 0\n                ) {\n                    popup.classList.remove('visible');\n                } else {\n                    clearTimeout(hideTimeout);\n                    document.addEventListener('selectionchange', function onSelectionChange() {\n                        const selection = window.getSelection();\n                        if (selection && selection.toString().length === 0) {\n                            // Restart the hide timeout when selection is cleared\n                            hideTimeout = setTimeout(() => {\n                                const popup = badge.nextElementSibling;\n                                if (popup && popup.classList.contains('apbct-real-user-popup')) {\n                                    popup.classList.remove('visible');\n                                }\n                            }, 3000);\n                            document.removeEventListener('selectionchange', onSelectionChange);\n                        }\n                    });\n                }\n            }, 3000);\n        });\n    });\n});\n\n/**\n * Closing all TRP popup\n */\nfunction closeAllPopupTRP() {\n    let allDisplayPopup = document.querySelectorAll('.apbct-real-user-popup.visible');\n    if (allDisplayPopup.length > 0) {\n        allDisplayPopup.forEach((element) => {\n            element.classList.remove('visible');\n        });\n    }\n}\n"]}