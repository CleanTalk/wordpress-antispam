{"version":3,"sources":["apbct-public-bundle.js"],"names":["ApbctCore","_createClass","selector","_classCallCheck","this","_defineProperty","select","key","value","Array","prototype","slice","call","_typeof","elements","document","querySelectorAll","deselect","elemToAdd","elem","push","addElement","style","getRaw","styleName","Object","hasOwn","replace","group","reduce","toUpperCase","i","length","DomStyleName","computedStyle","stringToCamelCase","Number","prop","css","display","classList","add","className","remove","toggle","ajaxParameters","ajax_parameters","ApbctAjax","restParameters","ApbctRest","eventCallback","arguments","undefined","eventSelector","addEventListener","event","onChecker","bind","target","querySelector","stopPropagation","callback","on","attrName","outputValue","getAttribute","propName","ready","name","filter","_step","_iterator","_createForOfIteratorHelper","s","n","done","isElem","err","e","f","elemToCheck","is","data","newlyCreatedElement","createElement","constructor","val","HTMLElement","HTMLUnknownElement","indexOf","tagName","toLowerCase","match","Boolean","isWithoutSelector","_iterator2","_step2","splice","parentElement","isRegisteredTagName","children","current","parent","_step3","_iterator3","content","_step4","_iterator4","after","_step5","_iterator5","append","time","_step6","_iterator6","tick","opacity","Date","last","window","requestAnimationFrame","setTimeout","_step7","_iterator7","siblings","ctProcessError","log","ctJsErrors","msg","message","file","lineNo","col","columnNumber","columnNo","stacktrace","stack","JSON","stringify","url","errorObj","error","location","navigator","userAgent","errArray","localStorage","parse","setItem","selectActualNonce","defaultNonce","ctPublicFunctions","data__ajax_type","hasOwnProperty","_ajax_nonce","_rest_nonce","apbct","params","Math","floor","_loop","exception","filterWords","ApbctXhr","XMLHttpRequest","parameters","keys","convertData","open","method","async","user","password","xhr","responseType","timeout","onreadystatechange","isWpNonceError","getFreshNonceAndRerunXHR","onLoad","onprogress","onerror","onError","ontimeout","onTimeout","body","button","spinner","http_code","status","status_text","statusText","removeAttribute","cursor","fadeOut","on_ready_state_change","on_progress","deleteDoubleJSONEncoding","console","setHeaders","onErrorCallback","onload","onProgress","complete","send","response","context","restErrror","ajaxErrror","readyState","initialRequestParams","noncePrev","progressbar","headers","spbc_remote_call_action","plugin_name","nonce_prev","initial_request_params","notJson","host_url","newRequestParams","args","freshNonceResult","_fresh_nonce","wpnonce","rest","ajax","httpCode","additionalMsg","errorString","errorOutput","errorMsg","headerName","setRequestHeader","methods_to_convert_data_to_URL","convertDataToURL","convertDataToBody","paramsAppendix","URLSearchParams","toString","paramsPrefix","dataKey","FormData","object","objectKey","parsedValue","_len2","_key2","_callSuper","_inherits","_len3","nonce","default_route","route","X-WP-Nonce","_this","_rest_url","defineProperty","property","enumerable","configurable","writable","ApbctCollectingUserActivity","setListeners","_this2","elementBody","getSelection","type","addSelected","checkElementInForms","resultCheck","outerHTML","collectionForms","innerHTML","addTarget","addClicks","trackMouseMovement","_ApbctXhr2","ctCollectingUserActivityData","clicks","selected","_ApbctXhr3","mouseMovementsInsideForm","cookies","expires","forcedAltCookiesSet","listOfCookieNamesToForceAlt","skipAlt","selectedType","data__cookies_type","forEach","item","apbctLocalStorage","set","ctSetAlternativeCookie","force_alt_cookies","forceAltCookies","ctNoCookieAttachHiddenFieldsToForms","ctPublic","_expires","ctSecure","protocol","cookie","cookiePrefix","encodeURIComponent","ninjaFormsSign","elementorUltimateAddonsRegister","smartFormsSign","jetpackCommentsForm","cwginstockForm","userRegistrationProForm","etPbDiviSubscriptionForm","fluentBookingApp","pafeFormsFormElementor","otterForm","smartQuizBuilder","bloomPopup","bookingPress","getJavascriptClientData","isArray","apbct_pixel_url","decodeURIComponent","apbct_public_sendAJAX","action","beforeSend","ctGetCookie","matches","ctDetectForcedAltCookiesForms","RegExp","obj","_params","callback_context","callback_params","silent","apbct_force_alt_cookies","_ajax_url","random","no_cache","apbctGenerateUniqueID","substr","get","storageValue","getItem","cookieName","ctDeleteCookie","json","objToSave","timestamp","getTime","maxLifetime","delete","removeItem","isSet","sessionStorage","getCleanTalkData","apbctSessionStorage","apbctOnAnimationStart","apbctAutocomplete","apbctCancelAutocomplete","apbctOnInput","inputType","element","setAttribute","CustomEvent","bubbles","cancelable","detail","dispatchEvent","ApbctForceProtection","findWrappers","wrappers","checkBot","_this3","event_javascript_data","href","referrer","apbct_public_sendREST","result","checkBotCallback","decodeForms","allow","Event","showMessageForBot","wrapper","form","dataset","encodedForm","atob","urlDecoded","apbctForceProtect","data__key_is_ok","ctMouseReadInterval","ctMouseWriteDataInterval","tokenCheckerIntervalId","CTTypoData","isAutoFill","isUseBuffer","speedDelta","firstKeyTimestamp","lastKeyTimestamp","lastDelta","countOfKey","_this4","fields","field","assign","fieldData","_this5","currentDelta","abs","settings__forms__force_protection","apbct_attach_event_handler","ctTimeMs","ctMouseEventTimerFlag","ctMouseData","ctMouseDataCounter","ctCheckedEmails","ctCheckedEmailsExist","botDetectorLogLastUpdate","botDetectorLogEventTypesCollected","attachEvent","apbct_remove_event_handler","removeEventListener","ctSetCookie","ctKeyStopStopListening","ctFunctionMouseMove","cronFormsHandler","data__bot_detector_enabled","gatheringFields","data__frontend_data_log_enabled","sendBotDetectorLogToAltSessions","setInterval","ctSetMouseMoved","restartFieldsListening","restartBotDetectorEventTokenAttach","cronStartTimeout","interval","needsSaveLogToAltSessions","currentLog","log_last_update","records","currentType","frontend_data","js_event","includes","token","doAttach","output","getElementsByClassName","setEventTokenField","ctMouseStopData","clearInterval","ctFunctionFirstKey","currentEmail","test","email","now","checkEmailExist","getResultCheckEmailExist","viewCheckEmailExist","envelope","getElementById","hint","text_result","state","textResult","inputEmail","top","getBoundingClientRect","ctEmailExistSetElementsPositions","onmouseover","textContent","height","onmouseout","color","right","offsetHeight","width","offsetWidth","left","settings__data__bot_detector_enabled","pixel__enabled","ctSetPixelImg","pixelUrl","pixel__setting","insertedImg","envelopeWidth","ctSetPixelImgFromLocalstorage","ctIsDrawPixel","isAlive","localStoragePixelUrl","String","ctSetHasScrolled","ctStartFieldsListening","forms","handledFormFields","ctFunctionHasInputFocused","ctFunctionHasKeyUp","ctStopFieldsListening","handled_fields","eventName","functionName","ctSetHasInputFocused","ctSetHasKeyUp","ctPrepareBlockMessage","apbctPrepareBlockForAjaxForms","responseText","jQuery","ajaxComplete","settings","startForcedAltEventTokenChecker","botDetectorLocalStorage","wc_ajax_add_to_cart","eventToken","sessionID","apbct_ready","apbctWriteReferrersToSessionStorage","cookiesType","apbctCheckAddToCartByGet","getTimezoneOffset","ctTypoData","initCookies","URL","host","cookiesArray","ctGetPixelUrl","data__email_check_before_post","ctDate","apbctGetScreenInfo","webdriver","tokenForForceAlt","split","trim","ctAddWCMiddlewares","ctCheckHiddenFieldsExclusions","pixel__url","checkEmail","data__email_check_exist_post","hiddenInput","encodedEmailNodes","onsubmit","apbct_visible_fields_set_cookie","isFormThatNeedCatchXhr","noCookieData","preventDefault","ctAjaxSetupAddCleanTalkDataBeforeSendAjax","visibleFieldsToInput","apbct_visible_fields","_form","apbctSearchPrevOnsubmit","ctSearchFormOnSubmitHandler","_iterator8","apbct_collect_visible_fields","btoa","ctFormIndex","apbctCatchXmlHttpRequest","settings__sfw__anti_crawler","getNoCookieData","defaultSend","botDetectorIntervalSearch","onsubmit_prev","Function","ctOnsubmitPrevCallExclude","bot_detector_event_token","botDetectorEventToken","contains","ctPinDataToRequest","next","options","ctFillDecodedEmailHandler","event_token","requests","_step8","settings__forms__search_test","ct_no_cookie_hidden_field","apiFetch","checkBotDetectorExist","wp","_unused2","use","sourceSign","path","originalSend","apply","addidionalCleantalkData","ct_checkjs_key","honeyPotField","HTMLFormElement","targetForm","ajaxSetup","cleantalkStorageDataArray","apbct_search_form__honeypot_value","ct_bot_detector_event_token","parsedCookies","callBack","ct_checked_emails_exist","ct_checkjs","ct_pointer_data","ct_fkp_timestamp","ctMouseMovedLocalStorage","ctCookiesTypeLocalStorage","apbctPageHits","apbctHeadless","ctBotDetectorFrontendDataLog","resultDataJson","apbctSiteReferer","hpValue","commonCookies","getCleanTalkStorageDataArray","eventTokenLocalStorage","parentNode","removeChild","submit","inputsVisibleCount","inputsInvisibleCount","isNaN","inputs","warn","ct_checked_emails","inputsWithDuplicateNames","ct_ps_timestamp","ct_screen_info","ct_timezone","ctHasScrolledLocalStorage","apbctPrevReferer","getComputedStyle","ctPixelUrl","inputsVisible","ctCookiesPixelUrl","inputsInvisible","ct_mouse_moved","ctMouseMovedCookie","ct_has_scrolled","ctHasScrolledCookie","ct_cookies_type","ctCookiesTypeCookie","apbct_headless","ct_bot_detector_frontend_data_log","visible_fields","visible_fields_count","invisible_fields","invisible_fields_count","apbct_page_hits","visibleFieldsCollection","ctJsErrorsLocalStorage","collection","collectionIndex","formId","apbct_js_keys__set_input_value","removeDoubleJsonEncoding","cleantalkModal","stop_script","ctSetPixelUrlLocalstorage","ctNoCookieConstructHiddenField","noCookieDataSession","noCookieDataTypo","visibility","noCookieDataFromUserActivity","collecting_user_activity_data","ctGetPageForms","ctGetHiddenFieldExclusionsType","id","js_key","documentElement","scrollWidth","fullHeight","max","scrollHeight","clientHeight","clientWidth","visibleHeight","ctParseBlockMessage","ncFieldExclusionsSign","blocked","comment","formAction","loaded","stop","ajaxPixelUrl","hiddenFieldType","exclusions","noCookieDataLocal","j","typo","checkFormsExistForCatching","defaultFetch","no_cookie","_iterator9","data__visible_fields_required","isFormThatNeedCatch","formClasses","classExists","_step9","_loop4","classForm","_objectSpread","loading","apbctHeadlessNative","fetch","apbct_admin_sendAJAX","_len4","_key4","pathname","styles","renderCss","closeCssAfter","sessionCurrentPage","cleantalkModalStyle","el","overlay","inner","close","serviceContentRegex","opened","opening","ignoreURLConvert","load","cssStr","ctTrpIsAdminCommentsList","overlayCss","ctTrpLocalize","z-index","ctTrpAdminLocalize","justify-content","align-items","themesCommentsSelector","innerCss","position","woocommerceReviewsSelector","adminCommentsListSelector","trpComments","box-shadow","closeCss","trpLayout","trpDescription","trpDescriptionHeading","trpDescriptionContent","trpDescriptionContentSpan","learnMoreLink","trpImage","badge","hideTimeout","closeAllPopupTRP","transform","nextElementSibling","popup","bodyCss","closeCssBefore","_this8","selection","allDisplayPopup","_this6","theRealPerson","index","pagenow","imgPersonUrl","phrases","trpHeading","trpContent1","trpContent2","trpContentLink","text","trpContentLearnMore","_this7","clearTimeout","onSelectionChange"],"mappings":"+sIAAA,IAGMA,WAAS,IADfC,aAiBI,SAAAD,EAAYE,GAAUC,gBAAAC,KAAAJ,CAAA,EAAAK,gBAAAD,KAAA,kBAfJ,EAAE,EAAAC,gBAAAD,KAAA,iBACH,EAAE,EAAAC,gBAAAD,KAAA,WAER,IAAI,EAAAC,gBAAAD,KAAA,WACJ,EAAE,EAEbC,gBAAAD,KAAA,gBAAA,KAAA,CAAA,EAAAC,gBAAAD,KAAA,gBAAA,KAAA,CAAA,EAAAC,gBAAAD,KAAA,QAAA,KAAA,CAAA,EAUIA,KAAKE,OAAOJ,CAAQ,CApB5B,EAEA,CAAA,CAAAK,IAAA,SAAAC,MAiBI,SAAAR,GAQJ,OAR0BG,aAAAH,gBAAAK,KAAAA,SAAA,KAfFA,KAAAA,SAAA,GACDA,KAAAA,SAAAI,MAAAC,UAEJC,MAAAC,KAAAV,CAAA,GACF,WADEW,QAAAX,CAAA,GAGfE,KAAAF,SAAA,KAAAG,KAAAA,SAAA,GAAAA,KAAAA,SAAA,GAAAH,GAAA,UAAA,OAAAA,GAUSI,KAAOJ,SAASA,EACzBE,KAAAU,SAAAL,MAAAC,UAAAC,MAAAC,KAAAG,SAAAC,iBAAAd,CAAA,CAAA,GAGJE,KAAAa,SAAA,EAGAb,IACA,CALIG,EAAAA,CAAAA,IAAAA,aAAAA,MA6BA,SArBaL,GACa,WAAbY,QAAAA,CAAa,EACdV,KAACU,SAAWL,KAAMC,CAAUC,EACJ,UAApBE,OAAOX,GACXE,KAACF,SAAegB,EAChBd,KAACU,SAAaL,MAAAC,UAAAC,MAAAC,KAAAG,SAAAC,iBAAAE,CAAA,CAAA,GAErBd,KAAWa,SAAOf,CAuBvB,CAEA,EAAA,CAAAK,IAAA,OAAAC,MAGA,SApBIW,GACJf,KAAAU,SAAAM,KAAAD,CAAA,CAqBA,CAlBJ,EAAA,CAAAZ,IAAA,SAAAC,MADID,WAAAC,KAGAM,SAAAO,KAAAA,SAAWH,MAAW,EAAA,CAAA,CAAA,CAuBtB,CAEA,EAAA,CAAAX,IAAA,WAAAC,MAGA,WArBQJ,KAAKa,SAAU,EAuBvB,CAEA,EAAA,CAAAV,IAAA,MAAAC,MAhBA,SAAAc,EAAAC,GAIJ,GAqBQA,EAASA,GAAU,CAAA,EArB3B,WAAAV,QAAAS,CAAA,EAAA,CAKI,IAPA,IAOAE,KAAAF,EAAA,GAAAG,OAAAC,OAAAJ,EAAAE,CAAA,EAkCgB,IA/BhBP,IAAAA,EAAWO,EAVXG,QAAA,eAAA,SAAAC,GAAA,OAGAC,EACoBC,YAAcnB,EAClCgB,QAAA,IAAA,EAAA,EA2BqBA,QAAQ,IAAK,EAAE,CAAC,CAzBrC,EAkCyBI,EAAE,EAAGA,EAAE3B,KAAKU,SAASkB,OAAQD,CAAC,GA3BvD3B,KAAAU,SAAAiB,GAAAT,MAAAW,GAAAX,EAAAE,GAKJ,OAAApB,IACA,CApBI,IAsBA8B,EARA,GAAA,UAAA,OAAAZ,EAWI,OAAA,KAAA,KAHJY,EAAWX,iBAAQnB,KAAAU,SAAA,EAAA,EAAAQ,KAGfC,CAAAA,IAEUY,EAAoBD,EAApBC,QAAAA,yBAAwB,IAAA,EAGjBL,OACAH,CAAa,GACbA,GAAgBS,OAAAF,CAAA,EAAAA,CAkCrC,CAEA,EAAA,CAAA3B,IAAA,OAAAC,MAGA,WACIJ,KA5BQiC,KAAA,eAAAjC,KAAAkC,IAAA,SAAA,CAAA,EACJlC,KAAAkC,IAAA,CAAAC,QAAA,MAAA,CAAA,CA6BR,CAEA,EAAA,CAAAhC,IAAA,OAAAC,MAGA,WACIJ,KAAKkC,IAAI,CAACC,QAAWnC,KAAKiC,KAAK,cAAc,CAAC,CAAC,CACnD,CAEA,EAAA,CAAA9B,IAAA,WAAAC,MAGA,WACI,IA3BQ,IAAO0B,EAAAA,EAAAA,EAAAA,KAAAA,SAAaF,OAAAD,CAAA,GACxB3B,KAAAU,SAAAiB,GAAAS,UAAAC,IAAAC,SAAA,CA6BR,CAEA,EAAA,CAAAnC,IAAA,cAAAC,MAxBA,WACJ,IAAA,IAAAuB,EAAA,EAAAA,EAAA3B,KAAAU,SAAAkB,OAAAD,CAAA,GACA3B,KAAAU,SAAAiB,GAAAS,UAAAG,OAAAD,SAAA,CAFInC,CAiCA,EAAA,CAAAA,IAAA,cAAAC,MAGA,SA/BiCkC,GACjC,IAAA,IAAAX,EAAA,EAAAA,EAAA3B,KAAAU,SAAAkB,OAAAD,CAAA,GAgCQ3B,KAAKU,SAASiB,GAAGS,UAAUI,OAAOF,CAAS,CA7BvD,CADI,EAAA,CAAAnC,IAAA,OAAAC,MAKA,SAAAqC,GAEA,OAkCIzC,KAAK0C,gBAAkBD,EAlC3B,IAAAE,UAAAF,CAAA,CACJ,CADI,EAAA,CAAAtC,IAAA,OAAAC,MAOA,SAAAwC,GAEA,OAoCI5C,KAAK4C,eAAiBA,EApC1B,IAAAC,UAAAD,CAAA,CACJ,CA2CI,EAAA,CAAAzC,IAAA,KAAAC,MAUA,WAxCQJ,KAAKU,MAAAA,UAAAA,QAAAA,EAAAA,KAAAA,EAAAA,UAAAA,GACTV,KAAA8C,eAAAC,UAAAnB,QAAA,EAAAoB,KAAAA,EAAAD,UAAA,MAAAA,UAAAnB,QAAA,EAAAoB,KAAAA,EAAAD,UAAA,IACJ/C,KAAAiD,cAAA,UAAA,OAAAF,UAAAnB,QAAA,EAAAoB,KAAAA,EAAAD,UAAA,IAAAA,UAAAnB,QAAA,EAAAoB,KAAAA,EAAAD,UAAA,GAAA,KAEA,IAAA,IAAApB,EAAA,EAAAA,EAAA3B,KAAAU,SAAAkB,OAAAD,CAAA,GACJ3B,KAAAU,SAAAiB,GAAAuB,iBACAlD,KAAAmD,MACA,OAAAnD,KAAAiD,cACAjD,KAAAoD,UAAAC,KAAArD,IAAA,EACAA,KAAA8C,aALI,CAAA1C,CAmDA,EAAA,CAAAD,IAAA,YAAAC,MArCJ,SAAA+C,GACA,GAAAA,EAAAG,SAAA3C,SAAA4C,cAAAvD,KAAAiD,aAAA,EAJI,OAKJE,EAAAK,gBAAA,EALIxD,KAAA8C,cAAAK,CAAA,CAAA/C,CAqDA,EAAA,CAAAD,IAAA,QAAAC,MA1CA,SAAAqD,GACJ9C,SAAAuC,iBAAA,mBAAAO,CAAA,CACA,CAEI,EAAA,CAAAtD,IAAA,SAAAC,MAGJ,SAAAqD,GACAzD,KAAA0D,GAAA,SAAAD,CAAA,CACA,CALItD,EAAAA,CAAAA,IAAAA,OAAAA,MA8DA,SA9CQwD,GAiDJ,IA3CA,IAAAC,EAAA,GA2CSjC,EAAE,EAAGA,EAAE3B,KAAKU,SAASkB,OAAQD,CAAC,GAvC/C,KAAA,IAAA3B,KAAAU,SAAAiB,GAAAgC,GACAC,EAAA5C,KAAAhB,KAAAU,SAAAiB,GAAAgC,EAAA,EAEAC,EAAA5C,KAAAhB,KAAAU,SAAAiB,GAAAkC,aAAAF,CAAA,CAAA,EAGQ,OAA8BJ,IAArBK,EAAYjD,OAAS4C,EAAkB,GAACN,CA4CrD,CAEA,EAAA,CAAA9C,IAAA,OAAAC,MAtCJ,SAAA0D,EAAA1D,GAFI,GAAA,KAAA,IAAAA,EAAA,CAGA,IAAA,IAAA2D,EAAAA,EAAMN,EAAAA,KAAAA,SAAU7B,OAAAD,CAAA,GACHuB,KAAAA,SAAAA,GAAiBY,GAAA1D,EAG9B,OAAAJ,IAAA,CAIS0D,IAJT,IAAAE,EAAA,GAIYjC,EAAQ,EAAE8B,EAAAA,KAAS/C,SAAAkB,OAAAD,CAAA,GAC/BiC,EAAA5C,KAAAhB,KAAAU,SAAAiB,GAAAmC,EAAA,EAIJ,OAAA,IAAAF,EAAAhC,OAAAgC,EAAA,GAAAA,CAEI,CAEJ,EAAA,CAAAzD,IAAA,OAAAC,MAFIA,SAAAA,GAOI,OAAoB,KAAA,IAALA,EAEVJ,KAAKiC,KAAIN,YAAOjB,CAASkB,EAC1B5B,KAAAiC,KAAA,WAAA,CAiDR,CAEA,EAAA,CAAA9B,IAAA,MAAAC,MAMA,SAhDIA,GACJ,OAAA,KAAA,IAAAA,EAiDQJ,KAAKiC,KAAK,QAAS7B,CAAK,EA/ChCJ,KAAAiC,KAAA,OAAA,CACJ,CAEA,EAAA,CAAA9B,IAAA,OAAAC,MAqDI,SAlDI4D,EAAA5D,GACA,OAAqB,KAAA,IAALA,EACZJ,KAAS2B,KAAG,aAASjB,EAASkB,CAAAA,EAC1B5B,KAAKU,KAAAA,YAAYoD,CAmD7B,CAUA,EAAA,CAAA3D,IAAA,KAAAC,MA1CJ,SAAA6D,GACA,IAEAC,EAFAN,EAAA,CAAA,EAAAO,EAAAC,2BAEApE,KAAAU,QAAA,EAAA,IAAA,IAAAyD,EAAAE,EAAA,EAAA,EAAAH,EAAAC,EAAAG,EAAA,GAAAC,MAAA,IAAAxD,EAAAmD,EAAA9D,MACAwD,EAAAA,GAAA5D,KAAAwE,OAAAzD,EAAAkD,CAAA,CALI,CAAA,MAAAQ,GAAAN,EAAAO,EAAAD,CAAA,CAAA,CAAA,QAAAN,EAAAQ,EAAA,CAAA,CAAAvE,OAMAwD,CAmDA,CAEA,EAAA,CAAAzD,IAAA,SAAAC,MA3CJ,SAAAwE,EAAAX,GACA,IAAAY,EAAA,CAAA,EA6BA,MAtBI,YAAA,OAAAZ,IACJY,EAAAA,GAAAZ,EAAAzD,KAAAR,KAAA4E,CAAA,GAKeC,EANX,UAAA,OAAAZ,EAKAA,EAAIa,MAAK,QAAS,IAjBlBd,IAAAe,EAAApE,SAAAqE,cAAAhB,CAAA,EAAAiB,YAMA,CAAAC,QAAS,CAAE,CAAAC,YAAAC,oBAAAC,QAAAN,CAAA,CAAA,IAWOd,CAAA,EACPY,GAAOzE,EAAUkF,QAAWC,YACrB,IAAAtB,EAAcD,YAAY,EAI5CC,EAAAuB,MAAA,QAAA,EACJX,GAAAY,QAAAb,EAAAX,EAAA,EAIAY,IAAA,OAAA7E,KAAAF,SACA,OAAAa,SAAA4C,cAAAvD,KAAAF,SAAAmE,CAAA,EAiDoBjE,KAAK0F,kBAAkBd,EAAaX,CAAM,GA5C9DY,CACA,CAJI,EAAA,CAAA1E,IAAA,oBAAAC,MA2DA,SAlDkCwE,EAAAX,GAAA,IAC1BL,EADJA,EAAA,CAAA,EAAAM,EAAAA,2BAA8BvD,SAAAC,iBAAAqD,CAAA,CAC1BL,EAAAA,IAqDJ,IAAA+B,EAAAtB,EAAA,EAAA,EAAAuB,EAAAD,EAAArB,EAAA,GAAAC,MApDAX,EAAAA,GAAAgB,IADegB,EAAAxF,KACd,CAAA,MAAAqE,GAAAkB,EAAAjB,EAAAD,CAAA,CAAA,CAAA,QAAAkB,EAAAhB,EAAA,CAAA,CAAA,OAAAf,CAyDL,CAEA,EAAA,CAAAzD,IAAA,SAAAC,MArDJ,SAAA6D,GACAjE,KAAAF,SAAA,KAEA,IAAA,IAAA6B,EAAA3B,KAAAU,SAAAkB,OAAA,EAAA,GAAAD,EAAAA,CAAA,GAJI3B,KAAAwE,OAAAxE,KAAAU,SAAAiB,GAAAsC,CAAA,GAAAjE,KAAAU,SAAAmF,OAAA7D,OAAAL,CAAA,EAAA,CAAA,EAQQ,OAAIoD,IA4DZ,CAMA,EAAA,CAAA5E,IAAA,SAAAC,MAIA,SA3DQ6D,GAkEJ,OAjEIjE,KAAKiE,OAAOuB,KAAM9E,SAAS,GAAAoF,aAAIC,EA6DZ,KAAA,IAAX9B,GAA4BjE,KAAK6E,GAAGZ,CAAM,GA1D9CjE,KAAAa,SAAA,EA8DDb,IACX,CAEA,EAAA,CAAAG,IAAA,UAAAC,MAIA,SA3DI6D,GA8DA,IA5DAjE,KAAO6E,OAAE7E,KAAAU,SAAA,EAAA,EA4DyD,OAA1DV,KAAKU,SAASV,KAAKU,SAASkB,OAAS,GAAGkE,eAzDpD9F,KAAAgB,KAAAhB,KAAAU,SAAAV,KAAAU,SAAAkB,OAAA,GAAAkE,aAAA,EAOI,OAJR9F,KAAAU,SAAAmF,OAAA,EAAA,CAAA,EAHI,KAAA,IAAA5B,GAAAjE,KAAAiE,OAAAA,CAAA,EAOQL,IA6DR,CAEA,EAAA,CAAAzD,IAAA,WAAAC,MAIA,SA/DI6D,GAGJ,OAHKjE,KAAAE,OAAAF,KAAAU,SAAA,GAAAsF,QAAA,EAAA,KAAA,IAAA/B,GAAA0B,KAAAA,OAAA1B,CAAA,EAGLjE,IAoEA,CAjEJ,EAAA,CAAAG,IAAA,WAAAC,MADID,SAAA8D,GAAA7D,IAIA6F,EAAAhC,KAAOA,SAAQ,GAOX,OAJAjE,KAAMkG,OAAQ,EACVlG,KAAOgG,SAAKxB,CAAO,EAqEvBxE,KApEQU,SAAKA,OAASmF,KAAO7D,SAAYqD,QAACY,CAAA,EAAA,CAAA,EAE1CjG,IAqEJ,CAEA,EAAA,CAAAG,IAAA,SAAAC,MAlEA,WAAA,IACJ+F,EADIC,EAAAhC,2BACJpE,KAAAU,QAAA,EAAA,IAAA,IAAA0F,EAAA/B,EAAA,EAAA,EAAA8B,EAAAC,EAAA9B,EAAA,GAAAC,MAAA4B,EAAA/F,MACAmC,OAAA,CAoES,CAAA,MAAAkC,GAAA2B,EAAA1B,EAAAD,CAAA,CAAA,CAAA,QAAA2B,EAAAzB,EAAA,CAAA,CAlEL,CAEJ,EAAA,CAAAxE,IAAA,QAAAC,MAFID,SAAAkG,GAAA,IAIeC,EAJfC,EAAAnC,2BAIA8B,KAAOjC,QAAQ,EAAA,IAJf7D,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,MAIA8F,EAAAA,MACeM,MAAM9F,CAAAA,CAEjB,CAAA,MAAA+D,GAAA8B,EAAA7B,EAAAD,CAAA,CAAA,CAAA,QAAA8B,EAAA5B,EAAA,CAAA,CAqEJ,CAEA,EAAA,CAAAxE,IAAA,SAAAC,MAhEA,SAAAiG,GAAA,IACJI,EADIC,EAAAtC,2BACJpE,KAAAU,QAAA,EAAA,IAAA,IAAAgG,EAAArC,EAAA,EAAA,EAAAoC,EAAAC,EAAApC,EAAA,GAAAC,MAAAkC,EAAArG,MACAuG,OAAAN,CAAA,CACA,CAAA,MAAA5B,GAAAiC,EAAAhC,EAAAD,CAAA,CAAA,CAAA,QAAAiC,EAAA/B,EAAA,CAAA,CAHI,CA0EA,EAAA,CAAAxE,IAAA,SAAAC,MAGA,SApEIwG,GAAA,IAE4BC,EAF5BC,EAAA1C,2BAEcyB,KAAUnF,QAAI,EAAA,IAA5B,IAAAoG,EAAAzC,EAAA,EAAA,EAAAwC,EAAAC,EAAAxC,EAAA,GAAAC,OAA4B,KAMjB,SAAAwC,IACfhG,EAAAG,MAAA8F,QAAA,CAAAjG,EAAAG,MAAA8F,SAAA,IAAAC,KAAAC,GAAAN,EAmEYM,EAAO,CAAC,IAAID,KAhE5B,CAAAlG,EAAAG,MAAA8F,QAAA,IACAG,OAAAC,uBAAAA,sBAAAL,CAAA,GAAAM,WAAAN,EAAA,EAAA,EAFI,CATgC,IAAvBrG,EAASmF,EAAAA,MAIdqB,GAgEInG,EAAKG,MAAM8F,QAAU,EAlEpBjG,EAAOkD,MAAM9B,QAAK,QAEvB,CAAA,IAAA8E,MASJF,EAAA,CACI,GAdA,CAcA,CAAA,MAAAtC,GAAAqC,EAAApC,EAAAD,CAAA,CAAA,CAAA,QAAAqC,EAAAnC,EAAA,CAAA,CAqEJ,CAEA,EAAA,CAAAxE,IAAA,UAAAC,MAGA,SAAQwG,GAAM,IAjEdU,EAiEcC,EAAAnD,2BAjEdpE,KAAAU,QAAA,EAAA,IAAA,IAAA6G,EAAAlD,EAAA,EAAA,EAAAiD,EAAAC,EAAAjD,EAAA,GAAAC,OAAA,KAAA,SAAAwC,IAAAhG,EAAAG,MAAA8F,QAAA,CAAAjG,EAAAG,MAAA8F,SAAA,IAAAC,KAAAC,GAAAN,EAIAM,EAAAM,CAAAA,IAAQA,KAsE8B,EAAtB,CAACzG,EAAKG,MAAM8F,QAnEXG,OAAAC,uBAAAA,sBAAAL,CAAA,GAAAM,WAAAN,EAAA,EAAA,EAEClB,EAAAA,MAAW1D,QAAUkD,MAEnC,CAXJ,IAAAtE,EAAAuG,EAAAlH,MAGJ8G,GAFAnG,EAAAG,MAAA8F,QAAA,EAEA,CAAA,IAAAC,MA8EYF,EAAK,CAnEb,GAdA,CAcA,CAAA,MAAAtC,GAAA8C,EAAA7C,EAAAD,CAAA,CAAA,CAAA,QAAA8C,EAAA5C,EAAA,CAAA,CAAA,CAAA,EAAA,GAAA,EA+GJ,SA/FI8C,eAGAd,EAAON,GA6FP,IA7FgBqB,EAAAhB,GAWkBiB,GAVAlB,GAAAmB,EAAAC,QAAAH,EAAAjD,IAAA,CAA9BmD,IAAAlB,EAAAmB,QAAgCC,KAAnBrB,EAAAA,UAAA,CAAA,EACT1F,GAAK4F,EAAON,YAAQ0B,QAAA,CAAA,EACxBC,IAAAJ,EAAAK,cAAAC,UAAA,CAAA,EAACC,WAAAP,EAAAQ,OAAA,CAAA,EAAA1B,MAAAjC,CAAAA,CAAAA,GAAA4D,KAAAC,UAAAC,CAAA,EAAAC,SAAAC,OAAA,CAAA,CAAA/B,GACLgB,EAAAjD,IAAA,CAsGQmD,IAAOA,CApGf,EAEJW,IACAb,EAAAjD,IAAAqD,KAAAS,IAyGIb,EAxGaa,IAAAzB,OAAA4B,SAAAtE,KAyGbsD,EAxGkCb,UAAAM,OAAAwB,UAAAC,UAAA,gBACf5B,QA2Gf6B,EA5GaC,aAAA1I,QAAAuH,CAAA,KACEX,EAAW,MA6G9B,IAAK,IADL6B,EA3Ga3H,KAAK6H,MAAC5G,CAAU,EAErBR,EAAIuF,EAAIvF,EAAIkH,EAAUjH,OAAAD,CAAA,GA2G1B,GA1GIkH,EAAUlH,GAAG8C,IAAAmD,MAAHF,EAAcjD,IAAAmD,IACpB7G,OA8GZ8H,EAzGY7H,KAAA0G,CAAA,EA0GZoB,aAzGSE,QAAArB,EAAAU,KAAAC,UAAAO,CAAA,CAAA,CA0Gb,CAoBA,SApHsCI,oBAqHlC,IArHkCC,EAAA,GAuHlC,OACIC,kBArHoBlC,eAAM,cAAA,GACE,UAqH5B,OArHUF,kBAAAA,cAC+BC,EAqHzCmC,kBArHmBnC,aAAgB9F,OAG3BiI,kBAAgBnC,cAIhB,eAoHRmC,kBApHQC,iBAqHRD,kBApHKE,eAAA,aAAA,GAEK,UAmHV,OAnHItC,kBAAMuC,aACT,EAADH,kBAACG,YAAA1H,SAqHDsH,EArIAC,kBAAAG,aAgBC,SAAA/B,kBAAA6B,iBAAAD,kBAAAE,eAAA,aAAA,GAAA,UAAA9B,OAAAA,kBAAAgC,aAAA,EAAAJ,kBAAAI,YAAA3H,OACJuH,kBAAAI,YAILL,EACA,CASA,SAAAM,MAAAC,GACA,OAAA,IAAA7J,WACAM,OAAAuJ,CAAA,CACA,CAxDQ3C,IAwHJ4C,KAxHIC,MAAA9C,IAAAC,KAAAA,OAAA,CAAAD,IAyHJM,OAzHIyC,QAAA,SAAAC,EAAAtB,GAeCzB,IAfD,IAAAgD,EAAA,CAAA,QAAA,YAeClI,EAAAkI,EAAAlI,OAAAkF,CAAArC,IAAA,CAAA,IAAAoF,EAAAxE,QAAAyE,EAAAlI,EAAA,GAAAkF,eAAA+C,EAAAtB,CAAA,EAGL,MAAA,CAAA,CACJ,GAuCA,IAGAwB,UAAA,KA4JI,SAAAA,EA1HenC,GAGP,IAAK,IAAEzH,KAHAyH,gBAAAA,KAAAA,CAAAA,EAAAA,gBAAAA,KAAAA,MAjCnB,IAAAoC,cAAA,EAEA/J,gBAAAD,KAAA,SACA,MAAA,EAAAC,gBAAAD,KAAA,MACA,EAAA,EAAAC,gBAAAD,KAAA,QACA,CAAA,CAAA,EAAAC,gBAAAD,KAAA,OACA,IAAA,EAAAC,gBAAAD,KAAA,WACA,IAAA,EAAAC,gBAAAD,KAAA,OACA,EAAA,EAEAC,gBAAAD,KAAA,SACA,IAAA,EAAAC,gBAAAD,KAAA,UACA,IAAA,EAAAC,gBAAAD,KAAA,cACA,IAAA,EAAAC,gBAAAD,KAAA,UAEAA,IAAA,EAAAC,gBAAAD,KAAA,WACA,IAAA,EAAAC,gBAAAD,KAAA,kBACA,IAAA,EAAAC,gBAAAD,KAAA,eAESyH,MAAeG,EAAG3H,gBAAAD,KAAA,UACX,EAAA,EAAAC,gBAAAD,KAAA,UACD4H,IAAIC,EAAAA,gBAAAA,KAAAA,iCAEW,CAClB,MACA,OA2HP,EAAA5H,gBAAAD,KAAA,OAxHO,IAAS,EAAAC,gBAAAD,KAAA,YACC,CAAA,EAAAC,gBAAAD,KAAA,cACb,EAAA,EAMUiK,EACW,KAAA,IAAAjK,KAAAG,KACtBH,KAAAG,GAAA8J,EAAA9J,IAgBJ0I,GATIA,KAAAA,QAAWC,EAGLzH,OAAO6I,KAAGrB,KAAQ/D,IAAClD,EAAAA,SACrBiH,KAASlH,yBAAuBiG,KAAK9C,IAAA,EACrC9E,KAAAmK,YAAA,GAICnJ,CAAIhB,KAAKuI,IAIboB,OAHLb,QAAaE,IAAQrB,2BACzB,iCAAA,mCAAA,EAEmB,CAAA,EAIX3H,KAAO4B,IAAMwI,KAAIpK,KAAAqK,OAAArK,KAAAuI,IAAAvI,KAAAsK,MAAAtK,KAAAuK,KAAAvK,KAAAwK,QAAA,EACbxK,KAAI6J,WAAUxE,EAEdrF,KAAAyK,IAAAC,aAAA1K,KAAA0K,aACJ1K,KAAAyK,IAAAE,QAAA3K,KAAA2K,QAyHA3K,KAAKyK,IAAIG,mBAAqB,WAnHtC5K,KAAA6K,eAAA,EACA7K,KAAA8K,yBAAAb,CAAA,EAGShB,KAAAA,mBAAoB,CACrBC,EAAAA,KAAAA,IAAY,EAOZlJ,KAAOmJ,IAAAA,OAAAA,WACXnJ,KAAA+K,OAAA,CACA,EAAA1H,KAAArD,IAAA,EAQAA,KAAAyK,IAAAO,WAAA,SAAA7H,GAEIgG,KAAAA,WAAkBC,CAAAA,CAKlBF,EAAAA,KAAAA,IAAeC,EAIvBnJ,KAAAyK,IAAAQ,QAAA,WAsGYjL,KAAKkL,QAAQ,CApGzB,EAAA7H,KAAArD,IAAA,EAEAA,KAAAyK,IAAAU,UAAA,WACAnL,KAAAoL,UAAA,CACA,EAAA/H,KAAArD,IAAA,EAGAA,KAASwJ,IAAMC,KAAMzJ,KAAEqL,IAAA,CACnB,CAuGA,OAAAxL,aAAAkK,EAAA,CAAA,CAAA5J,IAAA,UAAAC,MAjGJ,WAiCIJ,KAAAsL,SACAvB,KAAAA,OAAYE,aAAY,WAAA,UAAA,EAAAlK,KAAAA,OAAAmB,MAAA6I,OAAA,eA7BP/J,KAAAuL,UAAAtL,KAAAA,QAAAiB,MAAAiB,QACT,SAAElC,CAEG,EAAA,CAAAE,IAAA,WAAAC,MACIH,WACND,KAAAwL,UAAAxL,KAAAyK,IAAAgB,OAEXzL,KAAA0L,YAAA1L,KAAAyK,IAAAkB,WACe1L,KAAAA,SACCD,KAAAsL,OAAAM,gBAAA,UAAA,EAAA3L,KAAAA,OAAAiB,MAAA2K,OAAA,QAEA5L,KAAAA,UACDA,KAAAA,QAAAiB,MAAAiB,QAAA,QAGQlC,KAAAA,aACXA,KAAAA,YAAA6L,QACF,MAAK,CAAE7L,CAONA,EAAAA,CAAAA,IAAAA,qBAAAA,MAOP,WACyC,OAAhCD,KAAO+L,uBAA4B,YAAA,OAAA/L,KAAA+L,uBAChC/L,KAAK+L,sBAAkB,CAEnC,CAEA,EAAA,CAAA5L,IAAA,aAAAC,MAGA,SAAA+C,GAC4BvB,OAAvBP,KAAO6I,aAAyB,YAAA,OAAAlK,KAAAgM,aAC5BC,KAAAA,YAAAA,CAET,CAyGJ,EAAA,CAAA9L,IAAA,UAAAC,MAGA,WApGI8L,QAAAxE,IAAA,OAAA,EAEI1H,KAACmM,SAAY,EAEbnM,KAAK0K,MACD1K,KAAC2K,UAqGL3K,KAAK0L,WAnGT,EAE8B,OAAtB1L,KAAC4K,iBAAgC,YAAX,OAAW5K,KAAAoM,iBACjCpM,KAAK6K,gBAAkB7K,KAAA0L,WAAA,CAsGnC,CAEA,EAAA,CAAAvL,IAAA,YAAAC,MAjGI,WACIJ,KAAKqM,SAAS,EACdrM,KAAK+K,MACF,EAqGH,SAnGJ,EAE0B,OAAjBuB,KAAAA,iBAAiB,YAAA,OAAAtM,KAAAoM,iBACnBpM,KAAKoM,gBAAA,SAAA,CAEZ,CAsGJ,EAAA,CAAAjM,IAAA,SAAAC,MAGA,WAhGI,GAFEiD,KAAKkJ,SAAK,EAEZ,SAAAvM,KAAA0K,aAAA,CACQ,GAAgB,OAAf8B,KAAK/B,IAAKY,SAqGX,OApGZrL,KAAAyI,MAAAzI,KAAAwL,UAAAxL,KAAA0L,YAAA,aAAA,EAoGmB,CAAA,EAlGnB,GAAA,KAAA,IAAA1L,KAAAyK,IAAAgC,SAAAhE,MAEJ,OADAzI,KAAAyI,MAAAzI,KAAAwL,UAAAxL,KAAA0L,YAAA1L,KAAAyK,IAAAgC,SAAAhE,KAAA,EACA,CAAA,CAFI,CAII,OAAAzI,KAAAyD,UAAA,YAAA,OAAAzD,KAAAyD,UACIzD,KAAKsL,SAAQ9K,KAAAR,KAAA0M,QAAA1M,KAAAyK,IAAAgC,SAAAzM,KAAA8E,IAAA,CAuGrB,CAEA,EAAA,CAAA3E,IAAA,iBAAAC,MAIA,WApGA,IAAAuM,EAAA,CAAA,EAsGQC,EAAa,CAAA,EA3Fb,OARZ,GAAA5M,KAAAyK,IAAAoC,aACAF,EAFI,WAAAlM,QAAAT,KAAAyK,IAAAgC,QAAA,GAAA,OAAAzM,KAAAyK,IAAAgC,UAAAzM,KAAAyK,IAAAgC,SAAApD,eAAA,MAAA,GAGArJ,KAAAuM,IAAAA,SAAWzH,KAAAuE,eAAA,QAAA,GACyB,MAA3BmC,KAASf,IAAGgC,SAAShB,KAAMA,OAyG5BmB,EAAmC,OAAtB5M,KAAKyK,IAAIgC,UAAyC,MAApBzM,KAAKyK,IAAIgB,QApG/CH,GAAOM,CAwGpB,CAEA,EAAA,CAAAzL,IAAA,2BAAAC,MAIA,SAvGI0M,GAEA,IAoBArD,EApBKsD,EAAKC,GA0GNF,EAAqBzD,eAAe,SAAS,GArGrDyD,EAAAG,QAAA5D,eAAA,YAAA,IAEJ0D,EAAAD,EAAA,QAAA,eAOI,MAuGQC,EA3GID,EAACf,eAAuB,MAAA,GAChCe,EAAAhI,KAAAuE,eAAA,aAAA,EA0GgByD,EAA2B,KAAe,YAvG9DC,MAMItD,EAAA,CACJA,OAAA,MADI,GA4GO3E,KAAO,CAzGlBoI,wBAAA,oBACJC,YAAA,WACAC,WAAAL,EAFIM,uBAAAP,CAAA,EAAA1M,EAGAkN,QAAApC,CAAAA,EACIgB,EAAQxE,IAAIyB,kBAAQoE,SAGpB9D,EAAKhB,SACI+C,WACAE,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA,GAAAA,EAAAA,GAAAA,UAAAA,GAID,IAACU,EAAqBV,EAAAA,GAC9B8B,EAAA,CAAA,GAGJA,EAsGwBxK,KAAAA,IAAZyK,EAAK,IAAoBA,EAAK,GAAGpE,eAAe,wBAAwB,EAtGpFoE,EAAA,GAAAJ,uBAEJG,IAAAE,EAAArE,eAAA,SAAA,IAFIF,kBAAAwE,aAAAD,EAAAE,QAAA,SAAAzE,kBAAAC,iBAGAgC,IAAAA,WAAYyC,KAAAL,CAAA,GAIJ,IAAA5N,WACHkO,KAAAN,CAAA,EAID,EAuGA,IAAIzD,EAASN,CAAM,EApGvB,CAEJ,EAAA,CAAAtJ,IAAA,QAAAC,MA0GI,SAtGQ2N,EAAKrD,EAAiBsD,GACtB,IAAIC,EAASxB,GAEG,YAAZd,EACHsC,GAAkB,0BACCzC,MAANuC,EACE,gBAALpC,EACXsC,GAAA,6DAGKxK,GAAa,6BAAiCkI,EAAY,IACzBlB,KAAAA,IAAnBuD,IACvBC,GAAA,2BAAAD,IAIRC,GADI,MAAAF,EACJ,yBAEA,4BAAAA,EAHI3N,KAIA8N,YAAArD,CAAiB,EAES,OAAlB+B,KAAAA,iBAAkB,YAAA,OAAA5M,KAAAoM,iBACtBpM,KAAAoM,gBAAApM,KAAA0L,WAAA,CAyGJ,CAEA,EAAA,CAAAvL,IAAA,cAAAC,MA/FA,SAAA+N,GAmGIjC,QAAQxE,IAAK,qBAAuByG,EAAU,cAAe,cAAe,CAjGhF,CAEJ,EAAA,CAAAhO,IAAA,aAAAC,MAFID,WAKI,IAAI4M,IAAAA,KAAc/M,KAAAiN,QAqG2B,KAAA,IAA7BjN,KAAKiN,QAAQmB,IAnG7BpO,KAAAyK,IAAA4D,iBAAAD,EAAApO,KAAAiN,QAAAmB,EAAA,CAuGJ,CAEA,EAAA,CAAAjO,IAAA,cAAAC,MAGA,WA5FI,MAAA,CAAAJ,KAAAsO,+BAAAjJ,QAAArF,KAAAqK,MAAA,EACcrK,KAAKuO,iBAAK,EAIxBvO,KAAAwO,kBAAA,CAgGJ,CAEA,EAAA,CAAArO,IAAA,mBAAAC,MAGA,WA7FK,IAAAqO,EAAA,IAAAC,gBAAA1O,KAAA8E,IAAA,EAAA6J,SAAA,EACKC,EAAe5O,KAAAuI,IAAA/C,MAAA,8BAAA,EAAA,IAAA,IAGrBiE,OAFAA,KAAOlB,KAAMY,EAAAA,EAEN1F,KAAAA,GA+FX,CAEA,EAAA,CAAAtD,IAAA,oBAAAC,MAGA,WA/FQ,IAAIqN,IAAKoB,KADT7O,KAAAqL,KAAA,IAAAyD,SACgB9L,KAAS8B,KACrB0I,OAAAA,OAAmBC,KAAM3I,KAAEuI,CAAAA,GAC/BrN,KAAAqL,KAAA1E,OACI6G,EACiCE,WAAjCvE,QAAiBnJ,KAAC2N,KAAAA,EAAeD,EAC7BvE,KAAAA,UAAkBC,KAAAA,KAAeyF,EAAK,EAClCjP,KAAYiO,KAAKL,EACxB,EAIR,OAAAxN,KAAAqL,IAkGL,CA/FA,EAAA,CAAAlL,IAAA,2BAAAC,MAEAD,SAAA4O,GAAA3O,GAKM2N,WAANtN,QAAAgI,CAAMsF,EACEE,IAAAA,IAAWe,KAAKD,EAAA,CAEfpD,IAWcsD,EAXJ5N,OAAKC,OAASyN,EAAGC,CAAA,IAED,WAAXvO,QAAKsO,EAAMC,EAAA,IACZD,EAAKC,GAAgBhP,KAAAiM,yBAAA8C,EAAAC,EAAA,GAKa,UAA9B,OAAID,EAAAC,KACnB,OAAAD,EAAAC,GAAAxJ,MAAA,iBAAA,GAGmC,WAAxB/E,QADAwO,EAAU5G,KAAAU,MAAAgG,EAAAC,EAAA,CACc,IACpCD,EAAAC,GAAAC,EAMH,CAGR,OAAAF,CAiGA,CAAC,EAAA,CAAA,GAAA,EA7FLpM,WAAA,KAFIxC,SAAAA,IAAA,IAAA,IAAA+O,EAAAnM,UAAAnB,OAAA6L,EAAA,IAAApN,MAAA6O,CAAA,EAAAC,EAAA,EAAAA,EAAAD,EAAAC,CAAA,GAAA1B,EAAA0B,GAAApM,UAAAoM,GAIkD,OAJlDpP,gBAAAC,KAAA2C,CAAA,GAAAvC,EAGAqN,EAAAS,IACWpJ,KAAMwE,YAAAL,kBAA+B,EAAEmG,WAAApP,KAAA2C,EAAA,CAClD8K,EAAA,CAmGA,CAAC,OAAA4B,UAAA1M,EAtGLoH,QAsGK,EAAAlK,aAAA8C,CAAA,CAAA,GAtGL,EAOAE,WAAA,KAuGI,SAAAA,IApGwB,IAAA,IAAAyM,EAAAvM,UAAAnB,OAAVwM,EAAAA,IAAAA,MAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA,GAAAA,EAAAA,GAAAA,UAAAA,GAAAA,gBAAAA,KAAAA,CAAAA,EAsGV,IArGIX,EAAKA,EAAO,GACJ8B,EAAKlB,kBAAiBD,EAPtC,OAQQX,EAAAlF,IAAA1F,EAAA2M,cAAA/B,EAAAgC,MACJhC,EAAAR,QAAA,CACJyC,aAAAH,CAqGI,EAnGJtP,gBAAA0P,EAAAP,WAAApP,KAAA6C,EAAA,CAAA4K,EAAA,EAAA,QAZA,EAAA,EAAAkC,CAaJ,CAAA,OAAAN,UAAAxM,EAXAkH,QAWA,EAAAlK,aAAAgD,CAAA,CAAA,GAXA,EAwBIzC,6BA0FJH,gBAlHA4C,UAAA,gBAFIsG,kBAAAyG,UAAA,wBAAA,EAYAxP,OAGAE,UAAA6J,QAuGA9I,OAtGIwO,eAAAxO,OAAAf,UAAA,SAAA,CACAF,MAAU,SAACkO,GACP,OAAWjN,OAACkN,UAAgBlF,eAAE7I,KAAAR,KAAA8P,CAAA,CAuGlC,EArGIC,WAAA,CAAA,EACHC,aAAM,CAAA,EACHC,SAAO,CAAA,CAuGf,CAAC,GAhGD1B,IAQA1O,aAsGA,SAAAqQ,IAAcnQ,gBAAAC,KAAAkQ,CAAA,EAAAjQ,gBAAAD,KAAA,cA7GNyO,SAAiBlL,cAAImL,MAAgB,CAAA,EAAAzO,gBAAAD,KAAA,kBACzBW,SAAQ4H,KAAI/C,EAMhCxF,KAAAmQ,aAAA,CACJ,EADI,CAAA,CAAAhQ,IAAA,eAAAC,MA6GA,WAzGgB,IAAAgQ,EAAApQ,KACZA,KAAKqQ,YAAWnN,iBAAe,QAAA,SAAAC,GACvB9B,EAAAA,oBAAyBwN,EAAO,WAAG,CA0G3C,CAAC,EAlGD7O,KAAAqQ,YAAAnN,iBAAA,UAAA,SAAAC,GAGJ,SADoBxC,SAAA2P,aAAA,EAAAC,KAAA5B,SAAA,GAqGRyB,EAAKI,YAAY,CAjGjC,CAAA,EAEAxQ,KAAAqQ,YAAAnN,iBAAA,YAAA,SAAAC,GACAiN,EAAAK,oBAAAtN,EAAA,oBAAA,CACA,CAAA,CACA,CANI,EAAA,CAAAhD,IAAA,sBAAAC,MAgHA,SArGuBkB,EAAOyN,GAuG1B,IADA,IArGY2B,EACKjQ,EAAAA,EAAOsO,EAAAA,KAAOC,gBAAepN,OAAUD,CAAA,GAMxC+O,EAJJ,EAAAvN,EAAAG,OAAAqN,UAAA/O,QAsGuC,EAA3C5B,KAAK4Q,gBAAgBjP,GAAGkP,UAAUjP,OAlGZoN,KAAAA,gBAAerN,GAAQkP,UAC9B7B,QAAAA,EAAWxJ,OAAMmL,SAAA,EAET,CAAA,EAuG/B,OAnGYG,GAoGZ,IAnGQ,YACJJ,EAAA,GACJ1Q,KAAA+Q,UAAA,EAGJ,MAAC,IAAA,qBAEL,CAAA,EAAAL,GACe1Q,KAAAgR,mBAAAC,CAEQ,CAAAlR,CAEf0N,EAAAA,CAAAA,IAAAA,YAAAA,MAEH4B,WAAAxP,SAAAqR,6BAELvQ,SAAAuQ,6BAAAC,OACexQ,SAAAuQ,6BAAAC,MAAA,GAKXtO,SAAqBqO,6BAAAC,OAAA,EAAFpR,SAAAA,6BAAA,CAAAoR,OAAA,CAAA,CACf1D,CAEAA,EAAAA,CAAAA,IAAAA,cAAAA,MAGA,WACA2B,SAAAA,6BAAYnP,SAAAiR,6BAVNE,SAAAzQ,SAAAuQ,6BAAAE,QAAA,GAWTvO,SAAAwO,6BAAAD,SAAA,EAKKzQ,SAACkP,6BAAiC,CAAAuB,SAAU,CAAA,CAAE,CA+GpD,EAAA,CAAAjR,IAAA,qBAAAC,MA1GI4P,WACQrP,SAAEuQ,+BACZvQ,SAAAuQ,6BAAA,IA+GOvQ,SAASuQ,6BAA6BI,2BA5GnD3Q,SAAAuQ,6BAAAI,yBAAA,CAAA,GAGA3Q,SAAAuQ,6BAAAI,yBAAA,CAAA,CACA,CAAA,EAAA,GAAA,GAsHA,SA9GanB,YAAaoB,EAACnR,EAAAoR,GACvB,IAoBAC,EApBAC,EAAA,CA+GI,kBA7GJ,gBACJ,0BACA,2BAFI,2BAAA,yBAAAtR,8BAKQgQ,EAAKK,CAAAA,EAGQvN,UAAjB,OAAKmN,IACDsB,EAAqBhR,oBAAfiR,EACc,UAAhBA,OAAAA,GAAyB,UAAA,OAAAxR,IACzBgQ,EAAKI,CAAAA,CAAAA,EAAapQ,EAAAoR,MAMxB,SAAArI,kBAAA0I,oBACNJ,EAAA,GAgHIF,EAAQO,QAAS,SAASC,GA9G9B,CAAA,IAAAL,EAAArM,QAAA0M,EAAA,EAAA,EACJN,EAAAzQ,KAAA+Q,CAAA,EAEAC,kBAAAC,IAAAF,EAAA,GAAAA,EAAA,EAAA,CAHI,CAAA,EAMmB,EAAXrB,EAAW9O,QACVsQ,uBAAoBtB,CAAsB,EAOvCF,SAAWyB,mBAAK,CAAAR,EAExBO,uBAAAX,EAAA,CAAAa,gBAAA,CAAA,CAAA,CAAA,EAGAC,oCAAgB,GAIZ,WAAAlJ,kBAAA0I,oBAEAS,SAAI5B,mBAAkB,CAAAiB,GAEtBO,uBAAAX,EAAA,CAAAa,gBAAA,CAAA,CAAA,CAAA,EAEJb,EAAAO,QAAA,SAAAC,GACI,IAAAQ,EAAA,KAAA,IAAAR,EAAA,GAAA,WAAAP,EAAA,KAAA,GACJgB,EAAA,WAAA9J,SAAA+J,SAAA,WAAA,GACJ9R,SAAA+R,OAAAvJ,kBAAAwJ,aA8GYZ,EAAK,GA5GjB,IACJa,mBAAAb,EAAA,EAAA,EACA,KAFIQ,EAAA,uBAGAC,CACI,CAAA,GAGW,gBAAArJ,kBAAA0I,oBAAAF,GAgHXO,uBA/GiBhB,CAAAA,CAiHzB,CAGA,SA/GiDC,gCAgH7C,IAhHuD0B,EAAA,EAAAlS,SAAAC,iBAAA,iBAAA,EAAAgB,OACvDkR,EAAA,EAAAnS,SAAAC,iBAAA,iCAAA,EAAAgB,OAiHImR,EAAiF,EAAhEpS,SAASC,iBAAiB,2BAA2B,EAAEgB,OA/G5EoR,EAAA,EAAArS,SAAAC,iBAAA,uCAAA,EAAAgB,OACJqR,EAAA,EAAAtS,SAAAC,iBAAA,4BAAA,EAAAgB,OACAsR,EAAA,EAAAvS,SAAAC,iBAAA,mCAAA,EAAAgB,OAFIuR,EAAA,EAAAxS,SAAAC,iBAAA,qCAAA,EAAAgB,OAAAwR,EAAA,EAAAzS,SAAAC,iBAAA,kCAAA,EAAAgB,OAAAxB,EAGc,EAAdoQ,SAAAA,iBAAc,uCAAA,EAAA5O,OACVyR,EAA2C,EAA9BnC,SAAAA,iBAA8B,yBAAA,EAAAtP,OACvC0R,EAAoD,EAAxC3S,SAACuQ,iBAAAA,2BAAuC,EAAAtP,OAmHxD2R,EAlHwD,EAAvCrC,SAAAA,iBAA6BE,wCAAU,EAAAxP,OAmH5D0Q,SAlHSH,kBAAMY,GAmHXF,GAjHIG,GACAF,GACJG,GAEAtS,GAAyCyQ,GAAYgC,GACzDC,GAoHIG,GAlHJF,GACJC,EADIlM,WAAA,WAAA,IAGAoM,EAHAnB,SAAAH,oBAGAsB,EAAqB,EAArBzC,SAAkBpQ,iBAAG,uCAAA,EAAAgB,OACZjB,SAASuQ,kBAAAA,EAuHlB,EArHI,GAAA,CAsHR,CAGA,SApHQvQ,uBAASuQ,EAAAA,GACb,YAAA,OAAAwC,wBAACrT,MAAAsT,QAAApC,CAAA,IAGLA,EAAAmC,wBAAAnC,CAAA,GAGArF,QAAAxE,IAAA,sDAAA,EAGA,IACQgK,EAAAA,KAAAA,MAAAA,CAA8B,CAc9B,CAJAC,MAAOjN,GAGPiN,OADCzF,KAAAA,QAAOqF,IAAO,iCAAe7M,CAAA,CAE9B,CAEA,IAAAjB,EAAAgG,GAAAA,EAAAhG,UAAA,KACJ2I,EAAA3C,GAAAA,EAAA2C,iBAAA,KAEA3C,GAAAA,EAAA2I,kBACKjJ,EAAAA,wBAAoC,CAAA,GAIC,SAA9BsI,kBAAmBrI,iBAEoB,UAAvC4I,OAAAA,EAAkBC,iBACtB,CAAA,IAAAV,EAAAqC,gBAAAvO,QAAA,KAAA,IA4GAkM,EAAQqC,gBAAkBC,mBAAmBtC,EAAQqC,eAAe,GAxGnEnC,sBACDS,eACJ,CA2GQ7H,OAAQ,OAzGhBvF,KAAA,CAAAyM,QAAAA,CAAA,EACa9N,SAAC0O,EACV/F,gBAAAA,CACA8F,CAAiCE,GAEI,eAArCC,kBAAAA,iBACJyB,sBA6GI,CA3GJC,OAAA,gCACQ5K,QAAAA,CACR,EACKmJ,CACDhF,QAAA,EACA4E,SAAAA,EAAiCE,gBAAiBhG,EAAM4H,WAAA,SAAAvJ,GAC5DA,EAAA4D,iBAAA,eAAA,mBAAA,CACQyD,CACES,CACN,CAgHZ,CA/FA,SAAA0B,YAAAjQ,GACAkQ,EAASC,SAAAA,OAAAA,MAA6B,IAAGC,OACjCvB,WAAc7O,EAAGrD,QAASC,+BAAkC,MAAEgB,EAAM,UACxE,CAAA,EACA,OAAImR,EAAcc,mBAAYjT,EAAgB,EAAC,EAAAoC,KAAAA,CAwGnD,CAGA,SAvGQmQ,eAAAA,GAEJ,IAiBUX,EAjBiC,SAAvCgB,kBAAqB3B,qBAKrBgB,WADKV,kBAAoBY,oBAanBP,EAAY,WAAX9J,SAAW+J,SAAA,WAAA,GACd9R,SAAS+R,OAACP,EAAmB,mEAAAK,GAGjCrJ,kBAAA0I,mBA8FR,CAGA,SA3FQiC,sBAAQJ,EAAwBjK,EAAK4K,GAErC,IAAIhU,EAAMsT,GA4GRpE,GAhBN+E,EA3FkBZ,SAAAA,EAAAA,UAAwBnC,KACtC+C,EAAA,gBAAA7K,EAAA2C,iBAAA,KACHkI,EAAM,iBAAA7K,EAAA8K,kBAAA,KACHrI,EAAY,gBAAAzC,EAAA+K,iBAAA,KAChBF,EAAA,MAAA7K,EAAAa,OAAA,CAAA,EAEAgK,EAAI,QAAA7K,EAAA6D,SAAA,KACAiE,EAAqBA,aAAAA,EAAQjE,QAAA,OAAA,OAC/BgH,EAAU,QAAA7K,EAAAkB,SAAA,KACRuB,EAAY,IAAAmI,GAAA,KACZC,EAAA,OAAA7K,EAAA6B,QAAA,KACJgJ,EAAA,QAAA7K,EAAA8B,SAAA,KAEA+I,EAAuB,YAAI7K,EAAOhG,aAAgB,KAClD6Q,EAAMlI,OAAkB3C,EAAMgL,QAAWrI,KAEzCkI,EAAqB,SAAClC,EAAAA,UAAkB,KACpCb,EAAQmD,KAAAA,EACZJ,EAAA,IAAAnL,kBAAAwL,UAyFc1L,kBAAkB,GAtFTG,UAAlBD,OAAAA,GACDmL,EAAA,WACIA,EAAeV,KAAAA,EAAoB,KAAA,gBAC3BA,GAGZU,EAAA,KAAAA,EAAA,KAAA,aAAA5K,KAAAkL,OAAA,IAIgBN,EAAM,WACRA,EAAA,KAAAhL,YAAAiG,GAAkB+E,EAAA,KAAAO,SAAAnL,KAAAkL,OAAA,IAG5B,IACHhV,WAAAkO,KAAAwG,CAAA,CAsFT,CAGA,SArFQR,sBACIrE,EAAAhG,GAqFR,IApFYsK,EAAQ,GAqFpBO,EApFqB/C,MAAAA,EACb+C,EACA,SAAA7K,EAAAhG,UAAA,KAoFR6Q,EAnFsB,gBAAA7K,EAAA2C,iBAAA,KAoFtBkI,EAnFsB7Q,KAAAA,EAAQqB,MAAA,GAoF9BwP,EAnFYlI,OAAiBA,EAAAA,QAAe,QAqF5C,IAnFgB3B,WAAI4D,KAAAA,CAAiB,CAoFzC,CA3EA,SAAAyG,wBACA,OAAApL,KAAAkL,OAAA,EAAAjG,SAAA,EAAA,EAAApN,QAAA,WAAA,EAAA,EAAAwT,OAAA,EAAA,EAAA,CACA,CAEA,IAAA/C,kBAAqBhO,CACjBgR,IAAId,SAAUvT,EAAAA,GAGGkT,KAAAA,IAAAA,IACrB/D,EAAA,SAEAmF,EAAAnM,aAAAoM,QAAA/U,CAAA,EACA,GAAwBgV,OAAfC,EACL,IACKjM,IAAAA,EAAkB0I,KAAAA,MAAAA,CAAuB,EAC1C,GAAAwD,CAAAA,EAAAhM,eAAAyG,CAAA,EASA,OAAAuF,EAwEY,IA9EJlM,OAAkB0I,KAAAA,MAAAA,EAAAA,EAAuB,CAIrD,CAHmBnJ,MAAS+J,GAkFR,OAAO4C,EAAKvF,GAAUnB,SAAS,CA/EnD,CAMJ,CAFA,MAAAjK,GAiFgB,OAAOuQ,CA/EvB,CAEI,MAAA,CAAA,CACA,EACAX,IAAO,SAACnU,EAAWC,GAAsB,IAEjCkV,EAFqB7R,EAAAA,EAAAA,UAAAA,QAAAA,KAAAA,IAAAA,UAAAA,KAAAA,UAAAA,IAErB6R,EAAkB,CAAClV,MAASiI,KAACkM,UAAAA,CAAgB,EAAIgB,UAAI7L,KAAAC,OAAA,IAAA1C,MAAAuO,QAAA,EAAA,GAAA,CAAA,EACrD1M,aAAAE,QAAqBS,EAAO+K,KAAAA,UAAec,CAAQ,CAAA,GAEnDxM,aAAaW,QAAO6D,EAAOlN,CAAI,CAEvCkU,EACAA,QAAQ,SAAYnU,EAAIsV,GAKxBnB,OAJiC,KAAA,IAAhBmB,IACTA,EAAahM,OAEMgL,KAAAA,IAAMtU,EAAQ,WAAA,EACbsV,EAAa/L,KAAIC,OAAA,IAAA1C,MAAAuO,QAAA,EAAA,GAAA,CAC7ClB,EACAA,MAAQ,SAASnL,GACXoG,OAA2B,OAAnBtG,aAAAA,QAAmB9I,CAAA,CAEjC,EACIuV,OAAOpB,SAAQnU,GACXmU,aAAeqB,WAAWxV,CAAA,CAC9B,EACAmU,iBAAkBA,WAEb,IADR,IAAMxP,EAAA,GACYnD,EAAA,EAAAA,EAAAmH,aAAclH,OAAAD,CAAA,GAAA,CACzB2S,IAAQnU,EAAQmJ,aAAWnJ,IAAGoP,CAAAA,EAClC,CAAA,IAAApP,EAAAkF,QAAA,KAAA,GAAA,CAAA,IAAAlF,EAAAkF,QAAA,QAAA,IACQP,EAAQ+P,EAAAA,SAAWnL,GAAKkL,kBAAQI,IAAA7U,CAAA,EAGxCP,CACR,OAAAkF,CA+EI,CA5EJ,EAEIwP,oBAAwB,CACxBA,IAAO,SAACnU,EAAW2P,GACUrG,KAAAA,IAArBqG,IACAA,EAAUrG,SAGd7J,EAAiB0U,eAAQY,QAAA/U,CAAA,EACjC,GAAA,OAAA8U,EA8EY,IA5EZ,IAAAI,EAAAhN,KAAAU,MAAAkM,CAAA,EACA,OAAAI,EAAAhM,eAAAyG,CAAA,EAAAzH,KAAAU,MAAAsM,EAAAvF,EAAA,EAAAuF,CAGA,CAFA,MAAA3Q,GACA,OAAAuQ,CACA,CAEI,MAAYL,CAAAA,CAChB,EAEI5C,IAAAA,SAAAA,EAAiB5R,GAAG,IAEJ0P,EAFI/M,EAAA,EAAAA,UAAAnB,QAAAoB,KAAAA,IAAAD,UAAA,KAAAA,UAAA,IAEJ+M,EAAa,CAAA1P,MAAAiI,KAAcC,UAAAlI,CAAA,EAAAmV,UAAA7L,KAAAC,OAAA,IAAA1C,MAAAuO,QAAA,EAAA,GAAA,CAAA,EACnC1F,eAAkB9G,QAAA7I,EAAAkI,KAAAC,UAAAgN,CAAA,CAAA,GAEhBL,eAAenM,QAAY3I,EAAC+U,CAAQ/U,CA8E9C,EACAyV,MA5EY,SAAavN,GACb,OAAqC,OAAhCgN,eAAKhM,QAAeyG,CAAS,CA6E9C,EACA4F,OA5EoB,SAAAvV,GA6EhB0V,eA5E2BF,WAAYxV,CAAC2P,CA6E5C,EACAgG,iBA5EoB,WA8EhB,IADA,IA5EgBhR,EAAOuQ,GACX1T,EAAA,EAAAA,EAAAkU,eAAAjU,OAAAD,CAAA,GAAA,CACH,IAAMxB,EAAA0V,eAAA1V,IAAAwB,CAAA,EACQ,CAAA,IAAXxB,EAAOkV,QAAI,KAAA,GAAA,CAAA,IAAAlV,EAAAkF,QAAA,QAAA,IACfP,EAAA3E,EAAAwO,SAAA,GAAAoH,oBAAAf,IAAA7U,CAAA,EAEA,CACJ,OAAA2E,CACJ,CA6ER,EAUA,SAhFSkR,sBAAM7S,IAiFV,oBAhF4BhD,EAAKC,cAC9B6V,kBAAAC,yBAAA/S,EAAAG,MAAA,CAiFR,CAUA,SAhFK6S,aAAAhT,IACDuS,0BAAsBvS,EAAAiT,WAAA,SAAAjT,EACU+S,wBAA5BpN,mBAA4B3F,EAAAG,MAAA,CAiFpC,CApEA,SAAC2S,kBAAAI,GAEGN,IAGQjG,EAHRiG,EAAAA,aAAsB,eAAA,IACtBf,EAAKsB,aAAcxG,gBAAU,EAAA,EAErBA,EAAQ,IAAG3I,OAAOoP,YAAA,iBAAA,CACtBC,QAAA,CAAA,EAAAC,WAAA,CAAA,EAAAC,OAAA,IACA,CAAA,EAGQL,EAAUM,cAAc1B,CAAAA,KACxBoB,EAAOhB,MAAKhM,GAgF5B,CAWA,SAlFkH6M,wBAAAG,GACtGR,EAAAA,aAAuB1V,eAAUmI,IACrC+N,EAAOzK,gBAAA,eAAA,EAGVyK,EAAAM,cAAA,IAAAxP,OAAAoP,YAAA,iBAAA,CACIC,QAAE,CAAA,EAAFZ,WAAgB,CAAA,EAAAc,OAAA,IACjB,CAAA,CAAA,EAmFR,CAEA,IA/EQE,sBAAa,IAgBrB/W,aAVQ,SAAA+W,IAAA7W,gBAAAC,KAAA4W,CAAA,EAAA3W,gBAAAD,KAAA,WALU,EAAC,EAMXA,KAAO8E,SAAI9E,KAAA6W,aAAA,EAElB7W,KAAA8W,SAAAlV,OAAA,GAID5B,KAAA+W,SAAA,CACA,EAEA,CAAA,CAAA5W,IAAA,eAAAC,MAIK,WAEL,OAAAO,SAAAC,iBAAA,6BAAA,CAkFI,CA/EJ,EAAA,CAAAT,IAAA,WAAAC,MAIA,WAAA,IAAA4W,EAAAhX,KACA8E,EAAA,CACAmS,sBAAAvD,wBAAA,EACSyC,SAAahT,SAAOuF,SAAAwO,KACxBC,SAAAxW,SAA4BwC,QAEjC,EAEA,SAAAgG,kBAAAC,gBACAgO,sBAAA,6BAAA,CACAtS,KAAAA,EACAuF,OAAA,OACA5G,SAAA,SAAA4T,GAAA,OAAAL,EAAAM,iBAAAD,CAAA,CAAA,CACA,CAAA,EACA,eAAAlO,kBAAAC,kBACAtE,EAAAiP,OAAA,mCACAD,sBAAAhP,EAAA,CAAArB,SAAA,SAAA4T,GAAA,OAAAL,EAAAM,iBAAAD,CAAA,CAAA,CAAA,CAAA,EAEI,CAGA,EAAA,CAAAlX,IAAA,mBAAAC,MAoFA,SAAiBiX,GA/EZhB,GAAAA,EAAQM,MAAAA,EAAmB7R,KAAG2G,QAAA,MAAA4L,EAAAvS,KAAA2G,OACvBrL,QAAQsH,IAAE,gDAAA,EACtB1H,KAAAuX,YAAA,MAFKlB,CAMT,GAAA,UAAA,OAAAgB,EACA,IACAA,EAAAhP,KAAAU,MAAAsO,CAAA,CAKA,CAJA,MAAA3S,GAGA,OAFAwH,QAAAxE,IAAA,yCAAAhD,CAAA,EAAAwH,KACAlM,KAAAuX,YAAA,CAEA,CAG4B,WAAhB3L,QAAAA,CAAe,GAAiByL,EAAAG,OAAA,IAAAH,EAAAG,OAkFhCxX,KAAKuX,YAAY,EAhFzB5W,SAAAgW,cAAA,IAAAc,MAAA,6BAAA,CAAA,GAEWzX,KAAM0X,kBAAAL,EAAAxP,OAAA,CAiEb,CAjEkC6O,CAE1C,EAAA,CAAAvW,IAAA,cAAAC,MAIA,WACMwW,IAAAA,EAIN5W,KAAA8W,SAAAhF,QAAA,SAAA6F,GACAC,EAAAD,EAAApU,cAAA,qBAAA,EAAAsU,QAAAC,YACkB/X,IAAAE,IACW4W,EADXe,GALD,UAKC,OAAAA,IACWf,EAAchD,mBAAA+D,CAAA,EAE1Bd,EAAenG,UAAMoH,KAAAC,CAAA,EAKlC,CAHI,MAAAvP,GAEKsO,QAAUrP,IAAAe,CAAA,CACnB,CAkFI,CAAC,CAhFL,CAEJ,EAAA,CAAAtI,IAAA,oBAAAC,MAsFI,SAnFoBQ,GAGpBZ,KAAA8W,SAAAhF,QAAA,SAAA6F,GACJA,EAAApU,cAAA,qBAAA,EAAAsU,QAAAC,cAEAH,EAAAhH,UAAA,0CAAA9I,EAAA,SAHI,CAAA,CAAAzH,CAAAA,EAAAA,GAAAA,EA+FJ,SAtFS6X,oBAED,CAAA3F,SAAInJ,mCAA8C,KAAA,IAAAyN,sBAC9CQ,IAAAA,oBAuFZ,CAEI9E,SAtF6B4F,kBAAkC,YAuF3DvX,SAvF2DkM,WACvDoL,kBAAE,EAEFnT,2BAAcnE,SAAA,mBAAkCsX,iBAAA,GA0G5D,IAZAE,oBACAC,yBACAC,uBAWMC,YA7FWf,IAeAA,aAfAA,SAAAA,IAAAA,gBAAAA,KAAAA,CAAAA,EAAAA,gBAAAA,KAAAA,YACL,CACJgB,WAAA,CAAA,EAEAC,YAAWnB,CAAAA,EACPoB,WAAI,EA6FRC,kBA5FsB3P,EAClB4P,iBAAY,EA6FhBC,UA5FgBlR,EA6FhBmR,WA5FatB,CA6FjB,CAAC,EAAAtX,gBAAAD,KAAA,SA1FGW,SAAAC,iBAAA,wBAAA,CAAA,EAAAX,gBAAAD,KAAA,OAGI,EAAKuX,CAAAA,EAAAA,CAAAA,CAAAA,IAAAA,kBAAAA,MAKb,WAAA,IAAAuB,EAAA9Y,KA4FmBK,MAAMC,UAAUC,MAAMC,KAAKR,KAAK+Y,MAAM,EA1FzDjH,QAAA,SAAAkH,EAAArX,GACJmX,EAAAhU,KAAA9D,KAAAK,OAAA4X,OAAA,GAAAH,EAAAI,SAAA,CAAA,CACA,CAAA,CACA,CAHI/Y,EAAAA,CAAAA,IAAAA,eAAAA,MAmGA,WA5FiB,IAAAgZ,EAAAnZ,KACT4X,KAAImB,OAAGpB,QAAQpU,SAAAA,EAAa5B,GAExBqX,EAAA9V,iBAAA,QAAA,WACI0U,EAAI9S,KAAInD,GAAOiW,YAAS,CAAA,CACxB,CAAA,CA4FZ,CAAC,EAzFG5X,KAAE+Y,OAAOtQ,QAAO,SAAAuQ,EAAArX,GACZuK,EAAQxE,iBAAU,iBAAA,WACtByR,EAAArU,KAAAnD,GAAA4W,WAAA,CAAA,CACF,CAAA,CACN,CAAA,EAEAvY,KAAA+Y,OAAAjH,QAAA,SAAAkH,EAAArX,GACJqX,EAAA9V,iBAAA,QAAA,WACAiW,EAAArU,KAAAnD,GAAAkX,UAAA,GACA,IACAO,EADAxS,EAAA,CAAA,IAAAK,KAHI,IAAAkS,EAAArU,KAAAnD,GAAAkX,YAKAnB,EAAAA,KAAAA,GAAAA,iBAA2B9Q,EACfuS,EAAArU,KAAAnD,GAAA+W,kBAAA9R,IAKA+Q,EAAoB/Q,EAAAuS,EAAArU,KAAAnD,GAAAgX,iBACxB,IAAAQ,EAAArU,KAAAnD,GAAAkX,YACFM,EAAArU,KAAAnD,GAAAgX,iBAAA/R,EACNuS,EAAArU,KAAAnD,GAAAiX,UAAAQ,GAIJ,EAAAD,EAAArU,KAAAnD,GAAAkX,aACAM,EAAArU,KAAAnD,GAAA8W,YAAA/O,KAAA2P,IAAAF,EAAArU,KAAAnD,GAAAiX,UAAAQ,CAAA,EACSnB,EAAAA,KAAoBtW,GAAAgX,iBAAA/R,EACX0S,EAAAA,KAAAA,GAAAA,UAAAA,GAEd,CAAA,CACJ,CAAA,CAEIhH,CAAAA,EAAAA,GAAAA,EAIIiH,OAAAA,IAAAA,KACJC,UAAA,IAAAvS,MAAAuO,QAAA,EACJiE,sBAAA,CAAA,EA4FIC,YAAc,GA1FlBC,mBAAA,EACAC,gBAAA,GACAC,qBAAA,GAIAC,yBAAA,EACAC,kCAAA,GAGA,SAAAR,2BAAAxY,EAAAoC,EAAAM,GACA,YAAA,OAAA0D,OAAAjE,iBAAAnC,EAAAmC,iBAAAC,EAAAM,CAAA,EACA1C,EAAAiZ,YAAA7W,EAAAM,CAAA,CACA,CAEA,SAAAwW,2BAAAlZ,EAAAoC,EAAAM,GACgB,YAAV6U,OAAUnR,OAAA+S,oBAAAnZ,EAAAmZ,oBAAA/W,EAAAM,CAAA,EAAA1C,EAAAuX,YAAAnV,EAAAM,CAAA,CA6FhB,CAGA,IA7FQ+U,mBAAkB,SAAArV,GA+FtBgX,YA7FIzB,mBADahP,KAAAC,OAAA,IAAA1C,MAAAuO,QAAA,EAAA,GAAA,CACO,EA8FxB4E,uBA7FuB,CA8F3B,EAmCMC,qBA7BNC,iBA7Faza,GAAA,EAGbsJ,kBAAAE,eAAA,4BAAA,GACA,GAAAF,kBAAAoR,4BACIpR,kBAAAqR,eAAkB,iCAAA,GAAA,GA+FlBrR,kBA/FkBsR,iCAiGlBC,gCA/FsB1B,GAAOrX,EAOjC2Q,SAAA4F,kBAFI/X,oBAAAwa,YAAA,WAAAva,sBAGY+P,CAAAA,CAkGZ,EAlGe,GAAAgJ,EAqGff,yBAlGyBI,YAAkB,WACnC2B,YAAE,kBAAA9R,KAAAC,UAAAoR,WAAA,CAAA,CAmGV,EAlGK,IAAC,GAKI,SAAAvW,GAkGVyX,gBAjGM,EAEkB,CAAA,IAApBnB,wBACIT,YAAM9V,KAAAA,CACFiW,KAAKrU,MAAM3B,EAAE0V,OAAU,EACvBnP,KAAI9C,MAASzD,EAAI8D,OAAM,EACvByC,KAAI0P,OAAAA,IAAYnS,MAAIuO,QAAA,EAAAgE,QAAA,EAiG3B,EAGDC,sBA/FY,CAAA,EACJ,IA6FRE,EAAAA,qBA3FQP,gBAAexS,CAiG/B,GAMA,SAAS0T,mBACLjT,WA7FY,WACJsT,YAAE,WACJE,uBAAA,EACNC,mCAAA,CAAC,EAAA,GAAA,CAAA,EAJwC1B,EAAAA,UAAAA,QAAAA,KAAAA,IAAAA,UAAAA,GAAAA,UAAAA,GAAAA,GAO7C,CACA,CAQA,SAAIhB,kCAAwB,IAAA2C,EAAA,EAAAhY,UAAAnB,QAAAoB,KAAAA,IAAAD,UAAA,GAAAA,UAAA,GAAA,IAAAiY,EAAA,EAAAjY,UAAAnB,QAAAoB,KAAAA,IAAAD,UAAA,GAAAA,UAAA,GAAA,IACxBsV,WAAAA,WACAyB,YAAAA,WACAC,IAAAA,EAAAA,kBAAsC/E,IAAA,mCAAA,EA6F1BiG,0BAA0BC,CAAU,IA3FpDpB,yBAAAoB,EAAAC,gBAEehU,uBAAuB,GAAK,CAAAiL,gBAAiBlP,CAAAA,CAAAA,CAAAA,EAG5D,EAAA8X,CAAA,CACA,EAAAD,CAASd,CA4FT,CAOA,SA1FIG,0BAAwBc,GAC3B,GA2FOA,GAAcA,EAAW7R,eAAe,iBAAiB,GAzFjEyQ,2BAAAoB,EAAAC,gBAEA,IACA,IAAA,IAAAxZ,EAAA,EAAAA,EAAAuZ,EAAAE,QAAAxZ,OAAAD,CAAA,GAAA,CACgB,IAAM0Z,EAAAH,EAAAE,QAAAzZ,GAAA2Z,cAAAC,SAEtB,GAAAvY,KAAAA,IAAAqY,GAAAtB,CAAAA,kCAAAyB,SAAAH,CAAA,EAUA,OADAtB,kCAAA/Y,KAAAqa,CAAA,EACA,CAAA,CACA,CAGI/I,CAmFM,MAAO5N,GApFjBwH,QAAAxE,IAAA,6CAAAhD,EAAAiK,SAAA,CAAA,CACI2D,CAEA6F,MAAAA,CAAAA,CAsFJ,CAKA,SArFQgC,qCAIR,IAcQsB,EAdRC,EACmD,EAA7CrB,SAAAA,uBAA+BsB,gBAAc,EAAA/Z,QAC9B,EAAjBgZ,SAAegB,uBAAE,4BAAA,EAAAha,QACmB,OAAhC6X,SAAAA,eAA0B,kBAAM,EAQhCA,IACIE,IAEJ8B,EAAAzJ,kBAAAgD,IAAA,0BAAA,EACJ,YAAA,OAAA6G,qBAAA7Y,KAAAA,IAAAyY,GAAA,KAAAA,EAAA7Z,QACHia,mBAAAJ,CAAA,CAMD,CAFA,MAAA/W,GACAwH,QAAAxE,IAAAhD,EAAAiK,SAAA,CAAA,CACA,CAiFA,CAKA,SAjFWmN,kBACN7B,2BAAmBtZ,SAAA,YAAA0Z,mBAAA,EACxB0B,cAAA5D,mBAAA,EAkFI4D,cAAc3D,wBAAwB,CAhF1C,CAKA,SAAAgC,yBACAH,2BAASS,SAA+B,YAA2CsB,kBAAA,EAAA/B,2BAA1BlX,SAAA,UAAAA,kBAAAC,CAmFzD,CAKA,SAnFgB8W,WAAAA,GAoFZ,IAnFYmC,EAAAvX,EAAApB,OAAAlD,MAC4BgS,CAAAA,6BAAiB8J,KAAAD,CAAA,GAGtDlB,CAAAA,GAAiBkB,KAAArC,kBAuF2B,SAAtCzQ,kBAAkBC,gBApF/BgO,sBACA,0BACA,CACA/M,OAAA,OACAvF,KAAA,CAAAqX,MAAAF,CAAA,EACShB,SAAAA,SAA0BC,GAEbA,EAAW7R,SAGrBuQ,gBAAAqC,GAAA,CACoBf,OAAWE,EAAQxZ,OACfsZ,UAAmBvZ,KAAG2Z,IAAAA,EAAAA,IAAcC,CACxD,EACoBvY,YAAS,oBAAI+W,KAAAA,UAAkCyB,eAASH,CAAAA,EAE5E,CACA,CACAtB,EAEJ,eAAA5Q,kBAAAC,iBACF0K,sBACUpM,CACZqM,OAAA,gCACJoI,MAAAF,CACY,EAChB,CAmFoBxY,SAAU,SAAS4T,GAjFvCA,EAAAA,SACAuC,gBAAAqC,GAAA,CACA5E,OAAAA,EAAAA,OACSyD,UAAkC7T,KAAGmV,IAAA,EAAA,IAAA,CAC1C,EACAjC,YAAA,oBAAA9R,KAAAC,UAAAsR,eAAA,CAAA,EAGIjZ,CAKA,CACK+a,EAgFb,CAKA,SA7EMW,gBAAU3X,GACRwH,IAQJ+N,EARI/N,EAAcyC,EAAAA,OAAWvO,MAgFxB6b,GAAiBA,EAAara,OAjEvC,6BAAAsa,KAAAD,CAAA,IAIAA,KAAApC,sBA8EQxC,EAASwC,qBAAqBoC,GA5EtCK,yBAAA5X,EAAA2S,EAAA4E,CAAA,IAMIM,oBAAM7X,EAAA,MAAA,GAINyE,kBAAoBC,gBAAkBwQ,UAClCzQ,kBAAAC,gBACKD,sBACDiO,yBAGQ/M,CACMA,OAAA,OAACvF,KAASmX,CAAAA,MAAAA,CAAAA,EAAaxY,SAAA,SAAA4T,GACnBiF,yBAAiB5X,EAAA2S,EAAA4E,CAAA,CACnB5E,CACAuC,CA4EpB,EAtEY,eAAAzQ,kBAAAC,iBAEP0K,sBACD,CACQ3K,OAAAA,+BACR2K,MAAAA,CAEQC,EACAoI,CAEJ1Y,SAAA,SAAA4T,GACciF,yBAAiB5X,EAAA2S,EAAA4E,CAAA,CACnB5E,CACAuC,CAyEpB,MAjIR4C,EAAA7b,SAAA8b,eAAA,+BAAA,IAEAD,EAAAja,OAAA,GAEI0X,EAAAA,SAA0BwC,eAAW,2CAAiC,IAEtEV,EAAc3D,OAAAA,EA6HlB,CAhEA,SAAAkE,yBAAA5X,EAAA2S,EAAA4E,GAwES5E,GAAWA,EAAOA,SAnE3BA,EAASgF,EAAAA,OAELxC,qBAAUoC,GAAA,CAELA,OAAAA,EACGO,UAAW7b,KAAAA,IAAS8b,EAAAA,IAAAA,CACxB,EAEA,UAAApF,EAAAA,OACIqF,oBAAgBD,EAAAA,aAAepF,EAAAsF,WAAA,EAE/BD,oBAAahY,EAAA,YAAA2S,EAAAsF,WAAA,EAGrBxC,YAAA,0BAAA9R,KAAAC,UAAAuR,oBAAA,CAAA,EAuEJ,CAOA,SAnEI0C,oBAAA7X,EAAAkY,EAAAC,GAEAN,IASYzX,EAAO4X,EATnBH,EAAqB7X,EAAEpB,OAAOwC,cAmE1BgX,EAAahX,EAAcvC,cAAc,iBAAiB,EAhE9D4F,GAAAA,EAiDIoT,OAzCYD,SAAAA,eAAwB,+BAAyB,EACrDE,EAAA7b,SAAA8b,eAAA,+BAAA,IAIRD,EAAA7b,SAAAqE,cAAA,KAAA,GACJsR,aAAA,QAAA,+BAAA,EAEInN,EAAAA,aAAkBC,KAAAA,+BAAkC,EACpD0K,OAAAA,iBACI,SAAA,WACU0I,EAAEtb,MAAA6b,IAAAD,EAA8BE,sBAAA,EAAAD,IAAA,IACtCZ,CAAAA,EAEJrW,EAAAU,MAAAgW,CAAA,GAKH7b,SAAA8b,eAAA,2CAAA,EACLC,EAAA/b,SAAA8b,eAAA,2CAAA,IA8DIC,EAAO/b,SAASqE,cAAc,KAAK,GA3D3CsR,aAAA,QAAA,2CAAA,EACAoG,EAAApG,aAAA,KAAA,2CAAA,EACAnP,OAAAjE,iBAAA,SAAA,WACAwZ,EAAAxb,MAAA6b,IAAAP,EAAAQ,sBAAA,EAAAD,IAAA,IACA,CAAA,EAES1F,EAAU7Q,MAAC6Q,CAAOA,GAIvBA,iCAAsB,EAGlBlQ,OAAAjE,iBAAgB,SAAA,SAAAC,GAChB8Z,iCAAgC,CACnC,CAAA,EAGGV,GACH,IAAM,OACHA,EAAAA,UAAuBha,OAAA,qCAAgC,mCAAA,EAC3Dia,EAAApa,UAAAC,IAAA,8BAAA,EAEA8X,MA0DA,IAAK,aAvDTqC,EAAApa,UAAAG,OAAA,+BAAA,mCAAA,EACAia,EAAApa,UAAAC,IAAA,oCAAA,EAEAma,EAAAU,YAAA,WACAR,EAAAS,YAAAN,EACSN,EAAAA,MAAAA,QAAuBK,QACxB9W,EAAAA,MAAiBiX,IAACzZ,EAAOwC,sBAAa,EAAAiX,IAAAL,EAAAM,sBAAA,EAAAI,OAAA,KACtCN,EAAU5b,MAAG4E,MAAAA,SAEZgX,EAELN,EAAAa,WAAA,WAEIb,EAAQtb,MAAAiB,QAAA,MACRua,EAEJ,MAEIF,IAAAA,YACHA,EAAMpa,UAAAG,OAAA,+BAAA,oCAAA,EACHia,EAAW7b,UAASqE,IAAAA,mCAAoB,EAExCwX,EAASlG,YAAiB,WACnBpT,EAAAA,YAAiB2Z,EACpBL,EAAStb,MAAM6b,QAAMD,QACvBJ,EAAAxb,MAAA6b,IAAAD,EAAAE,sBAAA,EAAAD,IAAAL,EAAAM,sBAAA,EAAAI,OAAA,KACFtX,EAAa5E,MAAMoc,MAACd,SACxB,EAEAA,EAAAa,WAAA,WACI1c,EAAS8b,MAAAA,QAAe,MACpB,CA4DR,CACJ,CAOA,SAlDIQ,mCACA,IAgBIT,EAfAA,EAASpa,SAAiBmB,cAAA,gDAAsC,EAChEiZ,KAIAA,EAASpa,SAAUG,eAAO,+BAAgC,KAG1Dia,EAASU,MAAAA,IAAcJ,EAAAE,sBAAW,EAAAD,IAAA,KAC9BL,EAAKS,MAAAA,KAAcN,EAAUG,sBAAA,EAAAO,MAV1B,GAU0B,GAAA,KAC7Bb,EAAKxb,MAAMiB,OAAU2a,EAAOU,aAAA,KAC5Bd,EAAKxb,MAASuc,MAAGX,QAIrBN,EAASa,SAAUZ,eAAc,2CAAA,KAEhCC,EAAAxb,MAAAuc,MAAAX,EAAAY,YAAA,KAEDhB,EAAAxb,MAAAyc,KAAAb,EAAAE,sBAAA,EAAAW,KAAA,KAgDR,CAKA,SA5CYjB,gBA6CR,OA5C2B,KAAnBA,SAAKxb,gBAAuB,KAAAoR,SAAAsL,wCAK/B,CAAAtL,SAAAuL,gBAED,SAAAvL,SAAAT,oBAAA,IAAAlR,SAAAC,iBAAA,iBAAA,EAAAgB,QAEJ,gBAAA0Q,SAAAT,oBAAA,IAAAlR,SAAAC,iBAAA,iBAAA,EAAAgB,OA0CJ,CAnCA,SAAAkc,cAAAC,GACA,GAAA,KAAAzL,SAAA0L,gBAAA,KAAA1L,SAAAsL,qCACA,MAAA,CAAA,EAGI,IAEIK,EAHJ9D,YAAM+D,kBAAkBH,CAAA,EAClBjB,cAAanc,GACdmc,CAAAA,SAAYL,eAAA,aAAA,KACbwB,EAAAtd,SAAAqE,cAAA,KAAA,GACJsR,aAAA,MAAA,iBAAA,EACMkG,EAAW7b,aAAS8b,QAAe,iBAAA,EACrCD,EAAUlG,aAAA,KAAA,aAAA,EACF2H,EAAU3H,aAAc0G,QAAAA,+BAAkC,EAC1DiB,EAAW3H,aAAc0G,MAAAA,CAAAA,EACzBxT,MAAM,MAAC4T,EAAMzW,OAAGmW,CAAWU,EA4C3C,CAMA,SAASW,8BAA8BJ,GAvCvC,GAAA,KAAAzL,SAAA0L,gBAAA,KAAA1L,SAAAsL,qCACA,MAAA,CAAA,EAEA,IAEoBK,EAFXG,cAAa,GACLJ,CAAAA,SAAAA,eAAqB,aAAaJ,KAC/BK,EAAAtd,SAAAqE,cAAA,KAAA,GAChBsR,aAAA,MAAA,iBAAA,EAEQhE,EAASuL,aACZvL,QAAST,iBAAAA,EAElBoM,EAAA3H,aAAA,KAAA,aAAA,EAsCY2H,EAAY3H,aAAa,QAAS,+BAA+B,EApC7E2H,EAAA3H,aAAA,MAAAzC,mBAAAkK,CAAA,CAAA,EACAvU,MAAA,MAAA,EAAA7C,OAAAsX,CAAA,EAGA,CA2CA,SArCetd,gBAsCX,GArCmCqE,KAA3BsN,SAAI2L,gBAA2C,KAApBjZ,SAAc4Y,qCACzCK,MAAAA,CAAAA,EAyCR,IArCQA,EAAyBjM,kBAAgBgD,IAAA,iBAAA,EAsCjD,GArC6BiJ,CAAAA,IAArBzU,EAAiC,CACrC,GAAAwI,kBAAAqM,QAAA,kBAAA,KAAA,EAKR,OADAF,KAAAA,8BAAAG,CAAA,EAHItM,kBAAA0D,OAAA,iBAAA,CAMJ,CAE0CpD,SAAlCA,kBAAS0L,gBACT5G,sBACJ,sBACKgH,CACMzd,OAAS8b,OACRwB,SAActd,SAASqE,GACfsR,IACsB,UAAtBA,OAAae,GAASA,aAAkBkH,SAAA,IAAAlH,EAAAhS,QAAA,OAAA,IAE3B2M,kBAASgD,IAAA,iBAAA,IAEbiJ,kBAAYhM,IAAA,kBAAAoF,CAAA,EAEzChF,oCAAA,GAGJyL,cAAAzG,CAAA,EAEA,CACA,CACA,EAGIvD,sBAsCQ,CApCRC,OAAA,qBACIuK,EACCA,CACMtM,QAAAA,CAAAA,EACHA,SAAkB0D,SAAO2B,GACtBA,IACH,UAAA,OAAAA,GAAAA,aAAAkH,SAAA,IAAAlH,EAAAhS,QAAA,OAAA,IAEA2M,kBAAAgD,IAAA,iBAAA,IAERhD,kBAAAC,IAAA,kBAAAoF,CAAA,EAEuBjO,oCAA6B,GAK9B0U,cAASzG,CAAQ,EAGnB,EACOrF,WAAAA,SAAsBvH,GACzBA,EAAA4D,iBAAA,eAAA,mBAAA,CACA2D,CACA,CAmCpB,CAER,CAKA,SAjCQwM,mBACGxM,kBAAA4D,MAAA,iBAAA,GAAA5D,kBAAAgD,IAAA,iBAAA,IACHlB,YAAAA,kBACI,MAAA,EACIC,kBAAQ9B,IAAA,kBAAA,CAAA,CAAA,GAIiB,WAAzBxO,SAAUoO,oBAEiB7O,KAAAA,IADvBiR,YAAU,iBACQ,GAgC9BkG,YA9BuBnI,kBAAsB,MAAA,CAgCrD,CAKA,SAAS4I,kBA7BW5I,kBAAA4D,MAAA,gBAAA,GAAA5D,kBAAAgD,IAAA,gBAAA,IACHmF,YAAA,iBAAA,MAAA,EACDnG,kBAAY/B,IAAZ+B,iBAA0B,CAAA,CAAA,GAIjC,WAAA1B,SAAAT,oBACL7O,KAAAA,IAAAiR,YAAA,gBAAA,GA+BIkG,YAAY,iBAAkB,MAAM,CA3B5C,CAkCA,SA7BQnI,yBACJA,kBAAA4D,MAAA,sBAAA,GAAA5D,kBAAA4D,MAAA,eAAA,GAEItD,uBAAST,CA8BjB,CArBA,SAAA4M,yBACA,GACWzM,CAAAA,kBAAkB4D,MAAM,eAAiB,GAAM5D,CAAAA,kBAAkBgD,IAAI,eAAA,GACxEmF,CAAAA,kBAAYvE,MAAgB,sBAAS,GAAA5D,CAAAA,kBAAAgD,IAAA,sBAAA,GAEzC,WAAA1C,SAAAT,oBAGIoC,KAAAA,IADA3B,YAAST,sBAA+B,GAGH7O,KAAAA,IAArCmX,YAAY,eAAkB,EATtC,CAgBA,IAAAuE,EAAS7D,eAAsBA,EAG3B,GAFAvI,SAAKN,eAAuB,GAE5B,EAAA0M,EAAA9c,OACJ,IAAA,IAAAD,EAAA,EAAAA,EAAA+c,EAAA9c,OAAAD,CAAA,GAGA,IADA,IAAAgd,EAAAD,EAAA/c,GAAAf,iBAAA,gBAAA,EACAe,EAAA,EAAAA,EAAAgd,EAAA/c,OAAAD,CAAA,GACA,WAAAgd,EAAAhd,GAAA4O,OAGSyB,SAAkB4D,eAAM5U,KAAgB2d,EAAI3M,EAAkBgD,EAS/DuE,2BAAAoF,EAAAhd,GAAA,QAAAid,yBAAA,EACJrF,2BAAAoF,EAAAhd,GAAA,QAAAkd,kBAAA,EAvBJ,CA2CA,CAOA,SAASC,sBAbWvF,EAA2BoF,GAc3C,GAb2CA,KAAAA,IAA3BpF,SAAAA,gBAA6E,EAA/BjH,SAAGyM,eAASF,OAC9D,IAAA,IAAAld,EAAA,EAAAA,EAAA2Q,SAAAyM,eAAAnd,OAAAD,CAAA,GACJsY,2BAAA3H,SAAAyM,eAAApd,GAAAqd,EAAAC,CAAA,CAGZ,CAEA,IAAAL,0BAAA,SAAAzb,GACA+b,qBAAA,EACAJ,sBAAA,QAAAF,yBAAA,CACA,EAEAC,mBAASC,SAA+B3b,GACpCgc,cAAW7M,EACPwM,sBAAoBxM,QAASyM,kBAAend,CAcpD,EAKA,SAZIsd,uBACAJ,kBAAsBlJ,MAASgJ,sBAAAA,GAA0B5M,kBAAAgD,IAAA,sBAAA,GAC5DhD,kBAAAC,IAAA,uBAAA,CAAA,CAAA,GAiB+C,WAAhCK,SAAST,oBAVzB7O,KAAAA,IAAAiR,YAAA,sBAAA,GAEA,gBAAA3B,SAAAT,oBAG8B,SAAtBG,SAAiBH,qBAMToC,KAAAA,IADSpC,SAAAA,mBAa0B7O,KAAAA,IAA/BsP,SAAAH,mBAA+BG,SAAAH,qBAInDgI,YAAA,uBAAA,MAAA,CAEA,CACA,SAOgB7H,gBAaR6H,kBAAYvE,MAAiB,eAAO,GAAA5D,kBAAAgD,IAAA,eAAA,GACxChD,kBAAAC,IAAA,gBAAA,CAAA,CAAA,GAM8C,WAA9CsH,SAAAA,oBAC+CiF,KAAAA,IAA/CjF,YAA0B,eAAW,GAlBG,gBAAhCjH,SAAST,oBAuBrB,SAAAS,SAAAT,qBAEI,KAAA,IAAAS,SAAAH,mBACoCnP,KAAAA,IAA3Boc,SAAAA,mBAA2B9M,SAAAH,qBAO1BgI,YAAU,gBAAA,MAAA,CArBxB,CAYA,SAwBckF,gCAET,SAAMD,EAAA3U,GACH,GAAAA,EAAA6U,cAC2C,CAAA,IAAvC7U,EAAOT,aAAc3E,QAAK,QAAW,GACrC,CAAA,IAAAoF,EAAA6U,aAAAja,QAAA,SAAA,EAEQlC,IACAic,oBAAsBjc,KAAMG,MAAOmH,EAAA6U,YAAA,CAAA,CAG/C,CAFQ,MAAA5a,GACFwH,QAAAxE,IAAAhD,EAAAiK,SAAA,CAAA,CACN,CAER,CAEA,aAAA,OAAA4Q,OAEA,YAAA,OAAAA,OAAA5e,QAAA,EAAA6e,aAAA,EACAD,OAAA5e,QAAA,EAAA+C,GAAA,eAAA,SAAAP,EAAAsH,EAAAgV,GACSC,EAAAA,CAA+B,CACpCrH,CAAAA,EAEQ0D,OAAapb,QAAC0X,EAAAA,aAAuB,SAAAlV,EAAAsH,EAAAgV,GACrCL,EAAA3U,CAAA,CACJ,CAAA,EAG4F,aAAjB2H,OAAAA,gBACvEJ,SAAAA,iBAAsB,mBAA8B,SAAA7O,GACf,IAAvBkV,EAAAA,OAAAA,YAElB+G,EAAAjc,EAAAG,MAAA,CAER,CAAA,CAIA,CAlBA,SA2BY+O,kCA1BRgG,uBA2BmBwD,YAAuB,WAC9BA,IAILvJ,EAJoD,MAA/CuJ,kBAAmB8D,IAAAA,wBAA4B,EACnD5D,cAAA1D,sBAAA,GAGD/F,EAASsN,kBAAsB5K,IAAA,0BAAA,KAEtC9C,uBAAA,CAAA,CAAA,8BAAA2N,IAAA,CAAAzN,gBAAA,CAAA,CAAA,CAAA,EAEAiN,kBAAAA,IAA+B,yBAAA,GAAA,EA3BvBtD,cAAc1D,sBAAsB,EA+BxC,EAAA,GAAMyH,CA3Bd,CAOA,SA4BQC,cACHpf,SAAMuC,iBAAA,oBAAA,WAEP,KAAA,IAAAoP,SAAAH,oBAEqC,cAArC6N,SAAAA,mBAAqC1N,SAAAH,qBAG9B8N,oCAAwCpO,EACFS,YAAzCN,OAAkBC,qBAAmD,YAAnBJ,OAAAA,yBAClDG,mBAAyB2N,wBAAiB3K,IAAA,0BAAA,CAAA,CAI9C,CAAA,EACIyJ,SAAAA,qBACAyB,yBAAA,EAIJ/Y,8BAAwB,EAGxBxG,oBAAoB6Z,MAAAA,kBAAiB,EAkBrCxI,kBAAsBC,IAAA,kBAAsBkO,OAAAA,kBAAyBnL,IAAI,iBAAA,CAAA,EAAA,CAAA,GAjBhEoL,EAAWjQ,sBAAc,EA/B9B4F,oBAAoB9D,IAAI,mBAAoB6N,EAAW,CAAA,CAAK,EAiChE9N,kBAAAC,IAAA,kBAAA,CAAA,EACMoO,SACFlJ,UAGA,IAAAmJ,IAAA3f,SAAAwW,QAAA,EACuBgJ,OAAAA,SAAmBI,MAK9CvO,oBAAsBC,IAAA,qBAAsCtR,SAAG6U,SAAgB,CAAA,CAAE,GAQjFwK,oCAAqC,EAtBrCrf,IAwBOsf,EAAAjO,kBAAAgD,IAAA,iBAAA,EAyBD1C,GAxBF2N,GAAAA,IAAA3N,SAAAT,qBACI2O,kBAAe7f,IAAAA,kBAA0B2R,SAAAT,kBAAA,EACxC2O,kBAAa5e,OAAY,gBAAG,EAC7BoQ,kBAAqBwO,OAAAA,iBAAwB,GAGjB,gBAAxBlO,SAAK6C,qBAvCbsJ,uBAwC2BtJ,EAEvB9N,WAAAoX,uBAAA,GAAA,GAIRtX,OACKmL,iBAAS0L,iBACEA,sBAAuB1L,CAAAA,CAAAA,EAEnCnL,OAAKiX,iBAAkB,QAAAjI,aAAA,CAAA,CAAA,EA3C3BxV,SA4CQ8f,WAAe,IAAAnI,WACnB3X,SAAOyf,WAAA5F,gBAAA,EA3CX7Z,SA4CQ0f,WAAkBlQ,aAAA,EAIXuQ,CACXL,CAAAA,kBAAkB3W,KAAAC,OAAA,IAAqB1C,MAAKuO,QAAA,EAAA,GAAA,GAC5ChM,CAAK,mBAAC,KACV,CAAA,kBAAA,KAGI6W,CAAAA,cAAkBM,OAAAR,kBAA2B,EAAA,GAAK,CAAA,GAClD3W,CAAK,iBAACoX,mBAAA,GACV,CAAA,iBAAAjY,UAAAkY,aAYA,GARC7O,kBAAMC,IAAA,kBAAAvI,KAAAC,OAAA,IAAA1C,MAAAuO,QAAA,EAAA,GAAA,CAAA,EACH6K,kBAAkBpO,IAAA,mBAAiB,GAAA,EACvCD,kBAAAC,IAAA,kBAAA,GAAA,EAEAD,kBAAAC,IAAA,cAAA0O,OAAAR,kBAAA,EAAA,GAAA,CAAA,CAAA,EACAhM,kBAAAA,IAAAA,iBAA+ByM,mBAAA,CAAA,EA9C/B5O,kBAAkBC,IAAI,iBAAkBtJ,UAAUkY,SAAS,EAiDpC7O,WAAnB8O,SAAAA,mBACAT,EAAO/N,KAASH,CAAAA,uBAAsB,IAAA,MAItCH,CAEIqO,IAAAA,EAAkB1f,SAAA+R,OAAAqO,MAAA,GAAA,EAClB/O,GAAsB,IAAtBA,EAAkBC,OACf,IAAA,IAAAtQ,EAAA,EAAAA,EAAA6e,EAAA5e,OAAAD,CAAA,GAAA,CACH+d,IACJvK,EADIuK,EAAiC/d,GAAAqf,KAAA,EACrCD,MAAA,GAAA,EAAA,GACJ,IAAA5L,EAAA9P,QAAA,uBAAA,GAEYgb,eAAYlL,CAAA,CAIhB,CAIJ,CAOI8L,CAAAA,CAAAA,SAAAA,gBACJ,GAAA,CAAA3O,SAAA0L,gBAAA,GAAA1L,SAAAsL,uCAGQhG,cAAgB8G,EA3DpB+B,cAAc,EA8DVS,EAAAA,KAAAA,CAAAA,kBAAuCxC,SAAOyC,WAAG,GAOjD,CAAA7O,SAAAoO,gCACJL,EAAArf,KAAA,CAAA,oBAAA,IAAA,EA9DJwI,MAAM,+BAAiC,EAAE9F,GAAG,OAAQ0d,UAAU,GAqEtD,CAAA9O,SAAA+O,+BACJhB,EAAArf,KAAA,CAAA,0BAAA,IAAA,EAEAwI,MAAQ,iDAAmD,EAAC9F,GAAE,OAAA2Y,eAAA,GAG9DrK,kBAAA4D,MAAA,YAAA,EAEAyK,EAAIiB,KAAc3gB,CAAAA,aAASqE,kBAAwBgQ,IAAA,YAAA,EAAA,EAEnDsM,EAAYhL,KAAAA,CAAAA,aAAoB,EAAA,EAhExCnC,8BAoEiC9L,EAjEjC,IAsEQuP,EAAmBjW,kBAACqT,IAAA,0BAAA,EAmGhCuM,GAlG4C,KAAA,IAA3BC,SAAWrP,mBACZG,SAAKA,mBArEbA,SAsEYmP,uCAGJzP,kBAAaH,IAAAA,yBAAiC6P,GAAAA,EAC1Cva,GACIkZ,EAAIsB,KAAY,CAAA,8BAAoBb,EAAA,EACpCa,kBAAe1P,IAAA,yBAAA,GAAA,GAEf5K,gCAAiB,GAnErC8S,YAuEYkG,CAAA,EArEZhZ,WAuEY,WAEmCrE,KAAAA,IAAtBsP,SAAQlQ,oBACS,cAAtBe,SAAMye,mBAAgBtP,SAAAH,oBAE1B9K,oCAAsB,EAI7B,KAAA,IAAAiL,SAAAT,oBACL,SAAAS,SAAAT,qBArEIgQ,0CAA0C,EAwElDZ,mBAAA,GAGIM,IAAAA,IAAAA,EAAAA,EAAkB3f,EAAAA,SAAQ8c,MAAA9c,OAAAD,CAAA,GAAA,CACrB,IAgCR2f,EA1BDQ,EANclK,EAAMjW,SAAI4f,MAAAA,GAGxBL,8BAAAvgB,SAAA+d,MAAA/c,GAAA,gBAAA,GAEAiW,EAAAxT,cAAAA,qCACkC,GAAAwT,EAAArU,cAAA,8CAAA,GAAAqU,EAAArU,cAAA,8CAAA,GAa1BP,KAAAA,IAAArC,SAAA+d,MAAA/c,GAAAjB,SAAAqhB,sBAIUle,EADNme,SAAMne,MAAAA,GAAanD,SAAUqhB,qBAAkBngB,SAO7CqgB,EAAAA,cAAAA,oCAAwC,IACxCT,EAAW5J,EAAErU,cAAA,oCAAA,EAAAqU,EAAKsK,YAAAA,CAA2B,IAE1DZ,EAAA3gB,SAAAqE,cAAA,OAAA,GAAAsR,aAAA,OAAA,QAAA,EA1BD6L,EAAA7L,aAAA6L,KAAAA,wBAAAxgB,CAAA,EAAA2f,EAAAhL,aAAA,OAAA,sBAAA,GAAAwL,EAYY,IAAS,GAAAM,6BAAAxK,CAAA,EAzDb0J,EAAYlhB,MAAQiiB,KAAKha,KAAKC,UAAUwZ,CAAoB,CAAC,EAyErElK,EAAAjR,OAAA2a,CAAA,EAAAa,EAAA1d,cAAAmT,EAAA4J,SAAAW,EAAAG,YAAA3gB,EAAAiW,EAAA4J,SAAA,SAAAre,GAC0B,WAA1Bof,SAA0B1Q,oBAAA,KAAA,IAAA1O,EAAAG,OAAAgf,aAlEVb,gCAAiCW,6BAA6BpiB,IAAI,EAAGmD,EAAMG,OAAOgf,WAAY,EAG9D,SAAhChQ,SAAST,oBAAiC6P,uBAAuBve,EAAMG,MAAM,IAoE7F6D,OAAA6C,eAAA1J,UAAAkM,KAAA,SAAA1H,GACa0d,IAAAA,EAA2BC,gBAAE,EAE1CC,YAAAliB,KAAAR,KAD2B,uCAAA2hB,EAAA,IAC3B7c,CAAA,EACJuC,WAAA,WAlE4BF,OAAO6C,eAAe1J,UAAUkM,KAAOkW,WAoEnE,EAAA,CAAA,CACA,GAIcC,EAAAA,OAAyBC,yBAAeC,UAAM,CAAAC,0BAAA3f,EAAAG,MAAA,IACPyf,KAAAA,IAArCC,EAAAA,OAAwBla,WAAaia,EAAAA,OAA2B3gB,UAAY6gB,SAAA,iBAAA,GAE5ED,EAAAA,eAAuB,EAEvBjH,WAAc4G,WAClBxf,EAAAG,OAAAsf,cAAApiB,KAAA2C,EAAAG,OAAAH,CAAA,CACG,EAAA,CAAA,EAEf,EAnEQ,CAqER,EAAA,GAAA,EAG2BxC,SAAGC,iBAAA,wBAAA,GAEtB,IADJ0R,SAAM4Q,kBAAqB3B,GACL3f,OAGd,IAAOuhB,IAAIxhB,EAACyhB,EAAAA,EAAQ7B,EAAA3f,OAAA,EAAAD,EACxB4f,EAAA5f,GAAAuB,iBAAA,QAAAmgB,yBAAA,EAlEJ,IA2EsCC,EA3EtCnB,EAAA/d,2BA2EqBmf,SAAYze,KAAKwe,EAAAA,IA1EtC,IAAAnB,EAAA9d,EAAA,EAAA,EAAAmf,EAAArB,EAAA7d,EAAA,GAAAC,OA0EsC+e,KAAAA,IAAtBxe,EAAKye,EAAAA,MACjB,GAzEwB,aAApB,OAAOjR,UA2EX,GAAA,CAAAA,SAAAmR,+BAE0C,eAA9B3e,EAAK4e,aAAAA,IAAAA,GAC2BxO,OAAhCpQ,EAAKwe,aAAcxa,OAAAA,GAAgD,CAAA,IAA3BkZ,EAAAne,aAAA,OAA2B,EAAAwB,QAAA,aAAA,GAC/E,OAAA2c,EAAAne,aAAA,MAAA,GAAA,CAAA,IAAAme,EAAAne,aAAA,MAAA,EAAAwB,QAAA,QAAA,GASUse,EAAQpgB,cAAK2f,8BAAmB,GAKlD,qBAAAlB,EAAAne,aAAA,IAAA,GACA,2BAAAme,EAAAne,aAAA,OAAA,IAUYme,EAAAC,wBAAAD,EAAAR,SAEInW,EACAmW,SAAW,SAAA9c,GAAA,OAAKwd,4BAECxd,EAAAsd,CAAA,CAAA,EArF7B,GA1BA,CA4BA,CAAA,MAAAvd,GAAA0d,EAAAzd,EAAAD,CAAA,CAAA,CAAA,QAAA0d,EAAAxd,EAAA,CAAA,CACA4d,yBA0FoB,EAvFpB,IA0FYrS,4BAQAoC,SAAAkQ,6BAEAoB,sBAAmBnB,CA9FnC,CAKA,SAkGImB,wBACJ,IAjGcjB,EAiGd,CAAArQ,SAAAsL,uCAjGc+E,EAA4BhI,YAAY,WAmGtD7R,CAAAA,aAAAia,2BAGA5I,YAAA,2BAAA,IAAA,MAAA,EACA4B,cAAA4G,CAAA,EAEA,EAAA,GAAA,EAEA,CA7FA,SAkGS1B,qBAvED9Z,OAyGoBkC,eAAI,IAAA,GAxGxBlC,OAAO0c,GAyGiBhE,eAAiB,UAAOA,GACpB,YAzG5B,OAyGqB1Y,OAAC0c,GAAAC,SAAMC,KAvG5B5c,OAyGoB0c,GAAAF,SAAAI,IArCH,SAAAX,EAAAD,GA3EjB,MA4EInP,WAAAA,QAAYoP,CAAA,GAAwB,OAAV3D,GAClBuE,EAAAA,eAAkB,MAAA,GAAAZ,EAAA/Z,eAAA,MAAA,IAOlB+Z,EAAI3D,KAAS3a,eAAa,UAAA,GACQ,EAA9Bkf,EAAAA,KAAaT,SAAA3hB,QACjBwhB,EAAAte,KAAAye,SAAA,GAAAla,eAAA,MAAA,GAG0B,+BAD1B+Z,EACI3D,KAAS3a,SAAKO,GAAQ4e,OAI1Bb,EAAAte,KAAAye,SAAA,GAAAze,KAAA4e,0BAAAjB,gBAAA,EAEAW,EAAI3D,KAAS3a,SAAKO,GAAQP,KAAAwe,YAAAxa,aAAiCoM,QAAI,0BAAA,GAK9C,0BAAb8O,EAAAA,QACJZ,EAAAte,KAAA4e,0BAAAjB,gBAAA,EACJW,EAAAte,KAAAwe,YAAAxa,aAAAoM,QAAA,0BAAA,GAGQ8O,EAAAA,CAAa,CAxGjC,CA+GwB,CAvG5B,CAKA,SA0GgBzB,2BAxGZ,IA+GgBZ,EAJiB,OA1G7BhhB,SA0GgBkf,cAAa,mBAAA,GACV,OA1GnBlf,SA0GmB4C,cAAA,qBAAA,GACY,OA1G/B5C,SA0GgBkf,cAAe,iCAAA,IAEnB8B,EAAe3X,eAAA1J,UAAAkM,KAzG3BxC,eA2GyB1J,UAAGqhB,KAAY,SAAG9B,GAEvC,GACFxU,CAAAA,GACN,UAAA,OAAAA,GAzGsE,CAAC,IAAvDA,EAAKhG,QAAQ,mCAAmC,GA4GpE,CAAA,IAAAgG,EAAAhG,QAAA,wBAAA,EAiCQ,OAAA6e,EAAAC,MAAAnkB,KAAA,CAAAqL,EAAA,EA9BW,IAAA+Y,EAAA,GACfvE,EAAA/W,aAAAoM,QAAA,0BAAA,EAEY,IAChB2K,EAAAxX,KAAAU,MAAA8W,CAAA,CAIoB,CAFP3H,MAAAA,GACIrL,EAAe,CAAA,CACZ,CAEelM,OAA3B4Y,GACJ,CAAA,IAAAsG,GAEkB5N,EAAI5I,eAAsB,OAACgb,GACjD,KAAAxE,EAAAzf,QAGAgkB,GAAA,2CADAvE,EAAAA,EAAAzf,QAIS8hB,EAAAA,gBAAyC,EAMtCoC,OAAaJ,EACbI,MAAAA,KAAclkB,CAJZkkB,GAFNF,GAAA,wCAAAzC,EAMuB,CA7GvB,EAER,CAUA,SAASE,4CAIL,IAiHYhC,EAAO,CAAA,EACavf,aAjH3B,OAiHWikB,QAAiD,YAAjB,OAAMC,OAAAA,WAC1CjF,OAAAkF,UAAA,CACHzQ,WAAA,SAAAvJ,EAAAgV,GAEGe,IAAAA,EAAekE,CAAAA,EA4BP,GA1BZ,UAAA,OAAAjF,EAAA3a,OACwB,CAAA,IAAP2a,EAAO3a,KAAAO,QAAA,eAAA,IACPsf,EAAAA,iBAGjB,CAAA,IAAAlF,EAAA3a,KAAAO,QAAA,iBAAA,IACauf,EAAAA,mBAOsDhR,CAAAA,IAAlDA,EAAAA,KAAevO,QAAGwO,0BAAgCD,GACnE,CAAA,IAAA6L,EAAA3a,KAAAO,QAAA,wBAAA,IAEA2e,EAAA,4BAGA,CAAA,IAAAvE,EAAA3a,KAAAO,QAAA,2BAAA,IACYwf,EAAkB,6BAGwB,CAAA,IAAzBzY,EAAiB0Y,KAAQzf,QAAA,6BAAA,KAAE+M,EAAiB,+BAG3D,UAAA,OAAAqN,EAAAlX,KACd,CAAA,IAAAkX,EAAAlX,IAAAlD,QAAA,qBAAA,IACJ2e,EAAA,sBACY,OAAAlb,aAAAoM,QAAA,0BAAA,GAAA,CACC2K,EAAA/W,aAAAoM,QAA4C,0BAAS,EACtE,IACJ2K,EAAAxX,KAAAU,MAAA8W,CAAA,CAGA,CAtH8B,MAAAiE,GAqH9BjE,EAAA,CAAA,CACA,CACA,CAAA,IAAAA,GAAAA,EAAAxW,eAAA,OAAA,GAAA,KAAAwW,EAAAzf,QACAyf,EAAAA,EAAAzf,MAC8C2C,CAI3BgiB,IACAC,EAAa/Q,gBAAY9K,EAEzB8b,EADmBhR,UAAnBiR,OAAAA,EACkBjR,yCAA6C4L,EAAA,IAE9C5L,GAI1BkR,EAAAA,MArHUxD,EAAe,uCAAyCA,EAAe,KAqHpC3M,EAAI7L,EAAkBwJ,KAEnEyS,CACAC,CAAAA,CAjHV,CAGA,SAmHUC,0BAAgBtT,GACtB,MAAMuT,CAAAA,CAAAA,EAAAA,UAAAA,SAAAA,wBAAiDvQ,CA9G3D,CAgBA,SA8HIwQ,4BAAiC9gB,EAAG+gB,GACpCD,IAGIA,IAqBRV,EAWgB/V,EAsBhB8V,EAtDQW,EAAe5R,EAAkBtB,cAAS6O,4BAAU,EACxDuE,EAAA,KAUIhB,GAPoBiB,OAAfrB,GAC8B,OAA1B7jB,EAAQklB,QAETH,EAAclB,EAAclkB,OAIpCwlB,6BAAA,GAGJC,EAAA7T,kBAAAgD,IAAA,0BAAA,EAGyC,OAAzCwQ,GAAyD,OAAfA,GAAe,OAAAK,IAGlDxd,EAAKC,eAAUkd,EAC1BV,EAAA,WAjIsC,OAAlBR,GAmIpBA,EAAAwB,WAAAC,YAAAzB,CAAA,EAEA,YAAA,OAAAE,EAAAvC,wBACAuC,EAAAvC,wBAAA,EAEAsC,gBAAAjkB,UAAA0lB,OAAAxlB,KAAAgkB,CAAA,CAEA,EAEgBzV,EAAW2V,EAGf,OAAAgB,IACKjlB,EAAcuO,kCAAyB0W,GAI5ClF,EAAAoE,4BAAAiB,EAM2C,UAAlCplB,OAAOwO,EAAW2E,iBACY,CAAA,IAAzB4M,EAAW5M,gBAAcvO,QAAA,KAAA,IAEvCmb,EAAA5M,gBAAAC,mBAAA2M,EAAA5M,eAAA,GAQ+B,KAAA,KAH3CiR,EAAAxc,KAAAC,UAAAkY,CAAA,IAG8C,IAAAqE,EAAAjjB,OAC1CsQ,uBACe2S,EACE,CAAAphB,SAAKqhB,EAAA1Y,gBAAA0Y,EAAA1S,gBAAA,CAAA,CAAA,CAClB6T,EAEAC,EAAAA,EAMA,CAFA,MAAKC,GACDC,QAAUC,KAAIzO,6CAAkBnP,CAAA,CACpC,CArIR,CAMA,SAsIYiL,0BAAY,IAAAiS,EAAA,EAAA5iB,UAAAnB,QAAAoB,KAAAA,IAAAD,UAAA,GAAAA,UAAA,GAAA,GAChByiB,EAAA,GAaIzkB,GAXJykB,EAAac,kBAAqBjhB,YAAcxB,kBAAmB8O,aAAK,mBAAA,EArI5E6S,EAsIQe,wBAAoC1iB,YAAasF,kBAASwJ,aAAA,yBAAA,EArIlE6S,EAsIoBR,WAAA/Q,YAAA9K,kBAAAwJ,aAAA,YAAA,EAChB6S,EAAAN,iBAAAjR,YAAA9K,kBAAAwJ,aAAA,kBAAA,EACA6S,EAAWP,gBAAAhR,YAAA9K,kBAAAwJ,aAAA,iBAAA,EACb6S,EAAAgB,gBAAAvS,YAAA9K,kBAAAwJ,aAAA,iBAAA,EArIF6S,EAAeiB,eAAiBxS,YAAY9K,kBAAkBwJ,aAAe,gBAAgB,EAuI7F6S,EAAAkB,YAAAzS,YAAA9K,kBAAAwJ,aAAA,aAAA,EAIiCX,kBAAagD,IAAA7L,kBAAAwJ,aAAA,gBAAA,GAAIgU,EAAA3U,kBAAAgD,IAAA7L,kBAAAwJ,aAAA,iBAAA,EACrC9O,EAA6BmO,kBAC7BnO,IAAasF,kBAAYwJ,aAChC,iBAAA,EACE0S,EAAArT,kBAAAgD,IAAA,iBAAA,EACJ4R,EAAA7Q,oBAAAf,IAAA,oBAAA,EACAyQ,EAAA1P,oBAAAf,IAAA,oBAAA,EAEI6R,EAAuB1kB,kBAAkB6S,IAAA7L,kBAAAwJ,aAAA,cAAA,EAAImU,EAAA9U,kBAAAgD,IAAA7L,kBAAAwJ,aAAA,iBAAA,EAC7CkU,EAAsB7U,kBAAgBgD,IAAA7L,kBAAQwJ,aAAA,gBAAA,EAAI4S,EAAAvT,kBAAAgD,IAClD6R,kBAAsBlU,aAAa,mCAAO,EAGrC5R,EAAekiB,YAAS9Z,kBAAoBwJ,aAAA,gBAAA,EAC7CoU,EAAuBhmB,YAAK8C,kBAAoB8O,aAAA,iBAAA,EAChDsT,EAAoBhS,YAAA9K,kBAAAwJ,aAAA,iBAAA,EACvBqU,EAAM/S,YAAA9K,kBAAAwJ,aAAA,iBAAA,EACHsU,EAAsB,CAAGlmB,CAAAA,YAAK8C,kBAAoB8O,aAAA,gBAAA,EAxG9D,GA3BA6S,EAsIQ0B,eAAAlkB,KAAAA,IAAAmiB,EACJA,EAAAgC,EACA3B,EAAA4B,gBAAApkB,KAAAA,IAAA2jB,EAAAA,EACKU,EArIT7B,EAsIqB8B,gBAAmCtkB,KAAAA,IAApBa,EAC5BoiB,EAAoBsB,EACxB/B,EAAA5R,gBAAA5Q,KAAAA,IAAA8jB,EACFA,EAAAE,EAEFC,EAAeO,eAAyBxkB,KAAAA,IAANge,EAClC+F,EAAgBA,EAEhBvB,EAAOiC,kCAAAzkB,KAAAA,IAAAuiB,EACHmC,EAA6B,GAC7BC,EAAAA,iBAAwC,UAAlB1B,OAAkBT,EAAA5R,iBACxCgU,EAAkBX,gBAAe5hB,QAAA,QAAA,IACjCwiB,EAAsBjU,gBAAEsS,mBAAAA,EAAAA,eAAAA,GAIhCV,EAAAsC,gBAAAzC,EACAG,EAAS/D,mBAA+BA,EACpC+D,EAAiB/kB,mBAAOsnB,EAGxBvC,EAAc3T,mBAAuBmW,EAE3BxC,EAASyC,kBACXzC,EAAc5R,gBAAAtB,SAAA6O,YAGd,WAAA1gB,QAAAklB,CAAA,EACA,IAAIuC,IAAAA,EAAAA,EAAAA,EAAkBC,EAAWnlB,OAAS,EAAGmlB,EACPD,WAA3BznB,QAACklB,EAAAhkB,GAAuB,EAAGumB,EAEvC1C,EAAAG,EAAAhkB,GAAA,GAAA,IAAAgkB,EAAAhkB,GAAA,GAAA,GAEP6jB,EAAAG,EAAAhkB,GAAA,IAAAgkB,EAAAhkB,GAAA,QAIJuK,QAASkc,IAAAA,+CAA0D,EAOnE,OA7II5C,EA0IoBplB,yBAAqBolB,CAAA,EAG7Cnd,KAAAC,UAAAkd,CAAA,CAzIA,CAUA,SA8IM6C,yBAAAtZ,GACN,GAAA,WAAAtO,QAAAsO,CAAA,EAEA,IAAA,IAAAC,KAAAD,EAAA,CAOQ,IAIalH,EATL,WAAApH,QAAAsO,EAAAC,EAAA,IACDvC,EAASjD,GAAU6e,yBAAatZ,EAAAC,EAAA,GAK3C,UAAA,OAAAD,EAAAC,IAC0C,OAA/BvC,EAAS3H,GAASU,MAAA,iBAAa,GAGZ,WAAPqC,QADNA,EAAY7E,KAAW+F,MAAAgG,EAAAC,EAAA,CACV,IAC1BD,EAAAC,GAAAC,EAIAtO,CA5IJ,OA+IqBkH,CA9IzB,CAGA,SA+IQua,6BAAAxK,GAEA0Q,IAQRnoB,EARQmoB,EAAAA,GAEIvB,EAAUwB,GACVphB,EAAa,EACjB8f,EAAA,GACJf,EAAA,EACJK,EAAA,GAEA,IAAApmB,KAAAyX,EAAAlX,SACS8nB,MAAAA,CAAAA,CAAAA,IACLpC,EAAAjmB,GAAAyX,EAAAlX,SAAAP,IAmDJ,OA9CAimB,EAASqC,EAAAA,OAAAA,SAAAA,GAEDlY,MAAmB,CAAA,IAAfgW,EAAelhB,QAAAtE,EAAA8C,aAAA,MAAA,CAAA,IAKnB8d,CAAAA,IAAY,CAAGiE,QAAAA,YAAAA,QAA8B7kB,EAAA8C,aAAA,MAAA,CAAA,IACjD8d,EAA8BA,KAAAA,EAAa9d,aAAA,MAAA,CAAA,EAC5B,CAAA,GAGfmV,CAAAA,GAGM5W,QAAUC,SAAItB,EAAAY,EAAAjB,GA9IkB,WAA9BK,EAAK8C,aAAa,MAAM,GAkJpC,OAAA9C,EAAA8C,aAAA,MAAA,GACA,eAAA9C,EAAA8C,aAAA,MAAA,IAMiD,SAAzC6kB,iBAAsB3S,CAAAA,EAAAA,SAEH,WAAnB4S,iBAAmB5nB,CAAA,EAAA6nB,YAAO,MAAA/B,iBAAA9lB,CAAA,EAAAiG,SAAG,WAAAjG,EAAA8C,aAAA,MAAA,GAE7B8kB,EAAgBvmB,UAAG6gB,SAAA,gBAAA,GAOuE8D,GAAA,IAAAhmB,EAAA8C,aAAA,MAAA,EAC9FoiB,CAAA,KALI4C,GAA4B,IAAG9nB,EAAA8C,aAAA,MAAA,EAACilB,CAA+B,IAQvE,CAAA,EAEA7B,EAAAA,EAAAjG,KAAA,EAGS+H,CACDrK,eAHRqI,EAAAA,EAAA/F,KAAA,EAIQtC,qBAAOuH,EACP2B,iBAAYX,EAChBY,uBAAA3B,CACA,CACJ,CAGA,SAAAzE,gCAAAsG,EAAAI,GACA,IAAAF,EAAA,WAAAxnB,QAAAsnB,CAAA,GAAA,OAAAA,EACAA,EAAA,GAEA,GAAwCnQ,WAA/BoR,SAAAA,mBAED3R,IAAM,IAAG1V,KAAAsmB,EAAA,CAAC,GAAc,GAADtmB,EAAuB,OAOzCmE,YAAc1D,yBAD2BY,KAAAA,IAAAmlB,EAAAA,EAAAxmB,GAEzCoS,KAAOpF,UAAWtJ,EAAQ1D,EAAA,CAAA,CAA8B,MACpBwY,YAAA,uBAAA9R,KAAAC,UAAA2f,CAAA,CAAA,CA3IjD,CAGA,SA2IgBG,+BAAgB/Q,EAAAvS,EAA2B2E,EAAA4K,GAAI,GAAA,EAAA1T,SAAAC,iBAAA,oBAAA,EAAAgB,OACe,IAAhEqnB,IAAEvoB,EAAYiO,SAAWtJ,iBAAQ,oBAA2B,EAAI1D,EAAA,EAAAA,EAAAjB,EAAAkB,OAAAD,CAAA,GAC9DjB,EAAYiO,GAAAA,MAAWtJ,EAAO6jB,MAtI9C,CAKA,SAuIcllB,qBAAkE,OAAAqE,KAAAC,UAAA,CAClE2gB,UAAWA,SAAOE,gBAAiBC,YAAIC,WAAA3f,KAAA4f,IACrC3oB,SACG0K,KAAKke,aAAA5oB,SACRwoB,gBAAgBI,aAA2C5oB,SAAA0K,KAAAmS,aAAA7c,SAAAwoB,gBAAA3L,aAC3D7c,SAAW0K,KAAKme,aAAA7oB,SAAuBwoB,gBAAAK,YAAI,EAC7CP,aAAatoB,SAAKwoB,gBAAUM,YAAIC,cAAA/oB,SAAAwoB,gBAAAK,YACtC5R,CAAAA,CAnIR,CAGA,SAAS+R,oBAAoBld,GAsIzB,IAAA7E,EAAA,GACgC,KAAA,IAA5BgiB,EAAAA,QAEAA,EAAAA,EAAqBpgB,OAGLqgB,UACpBjiB,EAAA6E,EAAAqd,UAQAliB,EAJ2Bqb,KAAAA,IAAfrL,EAAKxV,MAGOY,KAAAA,KADpBqU,EAAOqQ,EAAiB5iB,MACR+C,QACpB4E,EAAA5E,QAKJD,KACAjH,SAAAgW,cACA,IAAAJ,YAAA,qBAAA,CACAC,QAAA,CAAA,EACAE,OAAA,CAAA7O,QAAAD,CAAA,CACA,CAAA,CACA,EAGUmiB,eAAaC,OAAYjW,EAC/BuU,eAAAle,KAAA,EAEe,GAAJ,CAAAqC,EAAI8b,cACfphB,OAAA8iB,KAAA,CAxIJ,CAGA,SA2IQF,0BAAmBG,GAEvB/P,YAAA,kBAAA+P,CAAA,CA1IJ,CAGA,SA6IQH,+BAAmBxZ,GACnB,IAAA6F,EAAW,SAMX4C,GALJ,WAAAzI,IAEI6F,EAAQ+T,UAGDC,IAGXzI,EAAYiE,6BAAA,EAChBjE,EAAAtZ,KAAAC,UAAAqZ,CAAA,EAQI,OAvJAA,EAAe,sBAAwBU,KAAKV,CAAY,GAiJ5D3I,EAAArY,SAAAqE,cAAA,OAAA,GACAsR,aAAA,OAAA,2BAAA,EACA0C,EAAA1C,aAAA,QAAAqL,CAAA,EACA3I,EAAS3G,aAAAA,OAAAA,CAAAA,EACL2G,EAAI1G,UAAST,IAAAA,qBAA6B,EACtCmH,EAAA5W,UAAAC,IAAA,2BAAA,EACJ2W,CA/IJ,CAOA,SAkJY4M,+BAjJR,IAkJQyE,EAAsBxmB,kBAAaiS,iBAC/BnV,EACA+nB,EAAA3S,oBAAAD,iBAAA,EAEA6S,EAAkB,CAAG5P,KAAM,EAACnX,EAKhCinB,GAvJJloB,SAmJmB2pB,YAAY3pB,SAAKyf,WAAAtb,OAC5B6jB,EAAA,CAAA4B,KAAA5pB,SAAAyf,WAAAtb,IAAA,GAGJ,CAAAgkB,8BAAA,EAAA,GASR0B,OAPA7pB,SAAAuQ,+BAGEuZ,EAA2B,CAAA3B,8BAFjCzgB,KAAAU,MAAAV,KAAAC,UAAA3H,SAAAuQ,4BAAA,CAAA,CAEiC,GAI7BsZ,cAAAA,cAAAA,cAAAA,cAAAA,GAAAA,CAA4B,EAAA9B,CAAA,EAAAC,CAAA,EAAAE,CAAA,CAChC,CAKA,SAAAE,iBACA,IAAArK,EAAA/d,SAAA+d,MACA,OAAAA,GAGYvX,CAAAA,CApJZ,CAOA,SAAS6hB,+BAsJ+BpR,GApJpC,IAsJgBP,EACF,CAAAqT,UAAA,EAAAhD,eAAA,CAAA,EA8BbiD,IA3BoD,GAxJjD,CAACrY,SAwJmBsY,+BACgB,QAxJnChT,EAwJenK,OAAQpC,SAAK1E,EAAOpB,YAAA,GACxB,IAxJZqS,EAwJYhX,iBAAA,kBAAA,EAAAgB,QACJ,kBAAAgW,EAAAqR,IAEArR,EAAAxV,UAAOqoB,SAAatG,iBAAmB,GAC1CvM,EAAA9R,cAAA1D,UAAA6gB,SAAA,aAAA,GACL,CAAA,IAAArL,EAAA7D,OAAApF,SAAA,EAAAtJ,QAAA,kBAAA,GACGuS,EAACqR,IAAA,eAAArR,EAAAqR,IACZrR,EAAAxV,WAAAwV,EAAAxV,UAAA6gB,SAAA,eAAA,GAxJSrL,EAAKxV,WAAawV,EAAKxV,UAAU6gB,SAAS,WAAW,GA0J9DrL,EAAAqR,IAAA,6BAAArR,EAAAqR,IACArR,EAAAqR,IAAA,CAAA,IAAArR,EAAAqR,GAAAta,SAAA,EAAAtJ,QAAA,kBAAA,GACAuS,EAAAqR,IAAA,CAAA,IAAArR,EAAAqR,GAAAta,SAAA,EAAAtJ,QAAA,UAAA,GACSwlB,EAAAA,IAGJ,CAAA,IAFKC,EAAW7B,GAAGta,SAChB,EAAAtJ,QAAA,wBACH,GACG0lB,EAAAA,MAEwB,CAAA,IAAjBnT,EAAGjX,KAAQgO,SAAM,EAAAtJ,QAAA,wBAAA,GAACjB,iDAAAumB,EAAAA,OAAAvmB,SAAAA,GACP4mB,EAAAhnB,MAAA,CAAA,IAAA4T,EAAA5T,KAAA2K,SAAA,EAAAtJ,QAAA,gBAAA,GAAAuS,EAAAqR,IAAA,mBAAArR,EAAAqR,IAAAgC,EAAAhC,IAAT7oB,mBAAJwX,EAAIoT,IAC+B,CAAA,IAAxCF,EAAW/W,OAACjC,SAAQ,EAAAzM,QAAS6lB,mBAAW,GACpCtT,EAAIA,IAAeqL,yBAAV7gB,EAAAA,IAvJZwV,EAwJOmT,IAAkB,YAAlBA,EAAc9B,IAClB,CAAA,IAAArR,EAAA7D,OAAApF,SAAA,EAAAtJ,QAAA,+CAAA,GACF,OAAAuS,EAAArU,cAAA,iBAAA,KALN8T,EAAAsT,eAAAK,GAMCpT,EAAAkO,YAcG,OAdH6E,GAAAf,EAAAxnB,UAAA6gB,SAAA,UAAA,GAAA,YAAArL,EAAA5T,MAAA4T,EAAAxV,UAAA6gB,SAAA,cAAA,KAGL5L,EAAAqT,UAAA,GAKA9S,GAAAA,EAAAxV,UAAA6gB,SAAA,wBAAA,IAEQtiB,EAAS4C,eAAc,EACvB8T,EAAOqT,UAAK,GAGLrT,CAhJf,CAUA,SAkJQsK,8BAAYwJ,EAAAA,GAChBxJ,IAAAA,EAA2C,UAAvBrZ,OAAAA,EAAUqZ,OAAa/J,EAAA7D,OAAA,GAG/C,MAAAtO,CAAAA,CAAAA,QAAAmS,EAAArU,cAAA,0BAAA,CAAA,GAIAqU,CAAAA,CAAAA,EAAAxV,UAAA6gB,SAAA,wBAAA,GA/IkD,CAAC,IAA3C8G,EAAW1kB,QAAQ,iBAAiB,GAuJxC,CAAA,IAAA0kB,EAAA1kB,QAAA,SAAA,GAIJ,CAAA,IAAA0kB,EAAA1kB,QAAA,wBAAA,GAIA,UAAA,OAAA8kB,GACoC,CAAA,IAApC,CAASjK,iBAAAA,aAA2B7a,QAAA8kB,CAAA,GAEN,IAD1BnB,+BAAApR,CAAA,EACShX,EA/Ib,CAKA,SAASyR,sCACL,GAmJY,SAAAC,SAAAT,mBAnJZ,CAuJI,IAAE6M,EAAAqK,eAAA,EAEV,GAAArK,EAlJQ,IAAM,IAAI/c,EAAI,EAAGA,EAAI+c,EAAM9c,OAAQD,CAAC,GAoJ5C,GAAAuf,CAAAA,8BAAAvgB,SAAA+d,MAAA/c,GAAA,WAAA,IAMiB,OAAAhB,SAAA+d,MAAA/c,GAAAkC,aAAA,QAAA,GACC,SAAAlD,SAAA+d,MAAA/c,GAAAkC,aAAA,QAAA,EAAA0B,YAAA,GAAA,CAIR,IADN,IAAAwT,EAAA2F,EAAA/c,GAAAf,iBAAA,4BAAA,EACgBmT,EAAS,EAAAuW,EAAAvR,EAAAnX,OAAA0oB,CAAA,GACHvR,EAAGuR,GAAA3Z,UAAA,GAGb2X,SAAe8C,MAAOzpB,GAAGgF,OAAK8hB,+BAAA,CAAA,CAC9BH,CAzKZ,CAuBJ,CA7hCIhW,SAAA4F,kBAEAqB,2BAAsB5Y,SAAa,YAAA0Z,mBAAA,EAC/Bd,2BAAA5Y,SAAA,YAAAqb,kBAAA,EACAzC,2BAA2B5Y,SAAC6e,UAAmBxD,kBAAY,EAvB/DzC,2BAwB4B5Y,SAAc,SAAE6d,gBAAqBiB,GA6mBjEnN,SAAM+Y,kBAGuB,YAA7B7F,SAAe0B,WAEf1B,YAAe4B,EAIf5B,2BAAiCsB,SAAU,mBACvCA,WAAaE,EAKjBhV,kBAAmB4B,IAAAA,aAAmBtB,SAAOkT,eAAe5R,CAAAA,CAAAA,GA8ZhE,IAuJY6W,aAAAtjB,OAAAmkB,MACA5I,YAAY6I,eAAAA,UAAyB/e,KA5IjD,SAASge,6BACLnjB,WA8I8E,WAAkBwjB,oBAAA,IACxF1jB,OAAAmkB,MAAA,WAAA,IAAA,IAca3J,EAdb6J,EAAAzoB,UAAAnB,OAAA6L,EAAA,IAAApN,MAAAmrB,CAAA,EAAAC,EAAA,EAAAA,EAAAD,EAAAC,CAAA,GAAAhe,EAAAge,GAAA1oB,UAAA0oB,GAqBY,OApBhBhe,GACHA,EAAA,IAEgB,YAAjBrD,OAAiBqD,EAAA,GAAA+N,WACb/N,EAAA,GAAA+N,SAAA,mBAAA,GACgBrS,kBAAHyG,YAAc,KACR,IACf,OAAAnC,EAAA,GAAA+N,SAAA,IAAA8E,IAAAnX,kBAAAyG,SAAA,EAAA8b,SAAA,UAAA,CAGA,CAFuB,MAAOhnB,IAGjB,GAAA,KAEAid,EAAAc,gBAAA,EAEEhV,IAAYA,EAAA,IAAAA,EAAA,GAAApC,MACXoC,EAAO,GAAApC,KAAA1E,OAAA,4BAAAgb,CAAA,EAIT8I,aAAMtG,MAAAhd,OAAAsG,CAAA,CAChB,EA5IZ,EAAG,GA8IS,CA7IhB,CAKA,SA8IYke,sBA7IR,IAoJSX,EANGF,EAAY,CACZ,wBAEAC,EAAU,CAAA,EAEIJ,EAAAvmB,2BAAdzD,SAAc+d,KACjB,EAAA,IA9IT,IAAAiM,EAAAtmB,EAAA,EAAA,EAAA2mB,EAAAL,EAAArmB,EAAA,GAAAC,OA8IS,KAAA,IAAAqT,EAAAoT,EAAA5qB,MACDuO,EAAUid,QAAAA,SAAAA,GACbhU,EAAAxV,UAAA6gB,SAAAiI,CAAA,IACWH,EAAG,CAAA,EAEP,CAAA,CA7IZ,GANA,CAMC,CAAA,MAAAtmB,GAAAkmB,EAAAjmB,EAAAD,CAAA,CAAA,CAAA,QAAAkmB,EAAAhmB,EAAA,CAAA,CAED,OA8IYomB,CA7IhB,CAMA,SA8IarJ,uBAAA9J,GA7IT,OA8IkBgU,MAAVjd,SAAUid,cAAAA,4CAAAA,GAGVD,EAAAA,CAAAA,GAAQ/T,CAAAA,EAAA7D,QAAA,CAAA,IAAA6D,EAAA7D,OAAApF,SAAA,EAAAtJ,QAAA,4BAAA,EAzIpB,CAKA,SA8IgBod,kBA7IZ,IA8IS4H,EAAArY,kBAAA8D,iBAAA,EACDnH,EAAUid,oBAAAA,iBAAAA,EACbjK,EAAAwJ,cAAAA,cAAA,GAAAd,CAAA,EAAA3B,CAAA,EACD/G,EAAIkK,KAAgBvjB,UAAAqZ,CAAA,EA5IxB,MA8IY,sBAAeU,KAAAV,CAAA,CA7I/B,CAMA,SA8IgB3B,sCA7IZ,IA8IY8L,EAAa/V,oBAAAf,IAAA,4BAAA,EAGP4W,CAAAA,IAAVjd,GAAUid,SAAAA,SAAAA,OAAAA,GACb7V,oBAAA9D,IAAA,qBAAA6Z,EAAA,CAAA,CAAA,EA1IL/V,oBA8IS9D,IAAA,6BAAAtR,SAAA+H,SAAAwO,KAAA,CAAA,CAAA,CA7Ib,CAKA,SA8IQ6U,2BAEAA,SAAAA,iBAAoBlb,uEAAoE,EAAAiB,QAAA,SAAAka,GACxFD,EAAAA,iBAAoBlb,QAAa,SAAAnM,GACzB,IAAC2G,EAAK1E,EAAQolB,aAAAA,MAAqB,EA5InClM,EAAa7N,kBAAkBgD,IAAI,0BAA0B,EA+I1D6K,IACiB,CAAA,IAApBvJ,EAAcjR,QAAM,GAAA,EACdsB,GAAQslB,IAIVtrB,GAASqE,IAGb2B,EAAQulB,aAAO,OADjB5V,GAAc,+BAAmBuJ,CAChB,EAGvBsM,CAAK,CACLD,CAAAA,CAhJR,CA2BiDnY,YAtJ7CpT,SAsJmCkM,WArJnC2d,2BAqJsD,EAnJtDjR,2BAmJwF5Y,SAAA,mBAAA6pB,0BAAA,EAxB5F,IAAIlC,eAkJc8D,CA/IdpC,OAkJS,CAAA,EAjJToB,QAkJY/kB,CAAAA,EAjJZgmB,OAkJQ,CAAA,EACJC,QAAO,CAAA,EAjJXC,iBAkJgB1b,CAAAA,EAGZ2b,KAAA,SAAAzY,GACA1N,IAGW5C,EAHH6S,KAAAA,SACF3P,KAAQN,QAAS,CAAA,EAEZ5C,EAAO,SAAA4T,EAAAvS,EAAA2E,EAAA4K,GACrBiU,eAAA8C,QAAA,CAAA,EAEM9C,eAAW0B,OAAA3S,EACLhM,SAAKjJ,cACLqa,IAAAA,YAAgB,8BAAoC,CACpDA,QAAgB,CAAA,CAChB9F,CAAAA,CAEQ,CAEhB,GAGR,YAAA,OAAA4U,qBAtJeA,qBAyJProB,uBAzJ6B,CAAC6Q,OAAUA,CAAM,EAAG,CAACtQ,SAAYA,EAAU6J,QAAW,CAAA,CAAI,CAAE,EA4J9F,EAEJ3M,KAASuC,WAEQuZ,SAADmP,IACZ,IAGK1oB,EAHLupB,EAAA,GAGKvpB,IAAAA,KAAiBlD,KAAA2rB,OAA+Bc,GAAAtsB,EAAA,IAAAH,KAAA2rB,OAAAxrB,GAAA,IAEjDusB,OAAAA,CAEC,CARD/rB,IASKgsB,EAAe,CAChBC,OAAa,CACjBC,UAAA,aAEWD,SAAa,QAIpBA,IAAgBE,IAChBJ,KAAAA,IACJjP,MAAA,OACJL,OAAA,OAEOwP,WAAgB,kBACnBzqB,QAAA,OACJ4qB,kBAAA,SA5JYC,cAAe,QA8J3B,EACIC,SAAAA,CACCtsB,EACDusB,EAAA,CACAD,OAAAA,CACJE,SAAA,WACIC,QAAAA,OACAC,WAAAA,OACEC,OAAc3sB,6BAKf2sB,gBAA2B,MAC5BC,aAAA,qCACJ,EAEAD,SAAoB1B,CAChB,EAEI4B,EAAc,CAId7B,OAAA,CACJwB,SAAA,WAEIM,WAAqBzoB,OACfsR,MAAAA,OAEE8G,OAAGzc,OACN2V,OAAa,6BACbA,gBAAoB,OAEzBoX,OAAiB/sB,UACrB+sB,IAAepX,OAEXqX,MAAAA,OACJA,aAAsBrX,aACtBqX,EAEIC,SAAAA,CACJA,EAEIC,EAAAA,CACJA,OAAAA,CACAA,QAAAA,KAEKnB,QAAAA,QACGoB,SAAgBntB,WACpBmtB,WAAcxX,OACdwX,gBAA2B,MAC3BA,MAAkB,MAClBD,OAAAA,OACAA,IAAAA,MACJlQ,KAAA,MAEAiQ,UAAsBjnB,eACtB+mB,EACAD,SAAiBM,CACjB1X,EACQ1P,EAAO+mB,CACjB/B,OAAA,CAEahrB,QAASC,KAEVuB,QAAE6rB,QACRC,SAAcjrB,WAERE,WAAAA,OAEAI,gBAAiB+B,MAGnB6oB,MAAiB,MACrB9Q,OAAA,OACFL,IAAA,MAEI7Z,KAAAA,MACSirB,UAAQC,gBACfC,EACAA,SAAMjsB,CACV,EACFksB,EAAA,CAEIprB,OAAAA,CACFgrB,SAAkB,QACZG,EACFA,SAASA,CACTA,EACJtC,EAAAprB,SAAAqE,cAAA,OAAA,EAUFinB,GATAF,EAAAzV,aAAA,KAAA,wBAAA,EAEF0X,EAAuBnd,UAAY,+BAAayd,EAAA,IAAAvC,EAAAlb,WAAA,4BAAA8b,EAAA,IAC5CsB,EAAc5mB,WAAW,0BAAMmmB,EAAA,IAC3BzB,EAAmBqC,WAAAA,iCAAkBG,EAAA,IACrCxC,EAAmB3pB,WAAU6gB,gCAAmC4I,EAAA,IArLxElrB,SAsLkByB,KAAAA,OAAUG,CAAiB,EAG3C5B,SAAAqE,cAAA,KAAA,GAQI9B,GANAmrB,EAAQL,aAAMI,KAAAA,yBAAkB,EACtCC,SAAMnrB,KAAAA,OAAiB+oB,CAAA,EAEnBoC,SAAMjsB,KAAUC,UAAIA,IAAU,wBAAA,EAG5Ba,SAAiB8B,cAAc,KAAA,GAK9BmnB,GAJH8B,EAAAA,aAAc5mB,KAAW,uBAAM,EAC3B6kB,EAAImC,aAAgBpL,QAASiK,CAAA,EAvLrCjB,EAwLkB7pB,OAAAA,CAAUG,EAEhB5B,SAAAqE,cAAA,KAAA,GAIN9B,GAHJipB,EAAA7V,aAAA,KAAA,uBAAA,EAvLF4V,EAAMvlB,OAAQwlB,CAAM,EA0LdjpB,SAAiB8B,cAAY,KAAW,GAAAwpB,KAAAxE,OAEnBoE,WACM9d,KAAAA,KAAc0Z,MAAA,GAAAhqB,KAAAusB,iBACvClmB,EAAAwK,UAAA7Q,KAAAgqB,OAIU5nB,EAAAA,UAAiBpC,KAAAgqB,OAAUzoB,QAP3B8F,uBAO2B,qCAAA,GAGjC1G,EAASuC,UAAAA,aAELlD,KAAIyuB,KAAAA,sBAAuB9f,GAvL3CtI,EAyLoB4nB,aAAc5mB,KAAAA,yBAAiB,EAxLnD6kB,EAAMvlB,OAyLwB0nB,CAAQL,EAvLtChuB,KAAKqsB,OAyLuBgC,CAAAA,CAxLhC,EAEAlC,MAAO,WACHxrB,SAyLgB0K,KAAAjJ,UAAAG,OAAA,wBAAA,EAxLhB5B,SAyLc8b,eAAA,yBAAA,EAAAla,OAAA,EACN5B,SAAA8b,eAAA,wBAAA,EAAAla,OAAA,EACH5B,SAAOgW,cACV,IAAAJ,YAAA,uBAAA,CACJC,QAAA,CAAA,CACJ,CAAA,CAxLM,CA0LR,CAEA,EACA,SAAS0X,mBACL,IAAIQ,EAAkB/tB,SAASC,iBAAiB,gCAAgC,EACnD,EAAzB8tB,EAAgB9sB,QAChB8sB,EAAgB5c,QAAQ,SAACuE,GACrBA,EAAQjU,UAAUG,OAAO,SAAS,CACtC,CAAC,CAET,CA9LA5B,SAyLQ+tB,iBAAgB9sB,QAAY,SAAA8C,GAC5BgqB,CAAAA,EAAAA,QAAyBrY,4BAATvE,EAAAA,OAAQmX,IAAa,0BAAAvkB,EAAApB,OAAA2lB,IACjC5S,eAAiB8V,MAAC5pB,CAvL9B,CAAC,EA0LD5B,SAAAuC,iBAAA,8BAAA,SAAAwB,GAxLS4jB,eAAe+D,QAAU/D,eAAe0B,SACzCrpB,SAAS8b,eAAgB,yBAA0B,EAAE5L,UAAYyX,eAAe0B,OAExF,CAAC,EAEDrpB,SAASuC,iBAAiB,mBAAoB,WAAW,IA8B/CoqB,EA9B+CqB,EAAA3uB,KACjD4sB,EAAgB5pB,KAAAA,EAChB0pB,EAA2B,CAAA,EAEN,aAApB,OAAOpa,UAA0D,aAA9B,OAAOwa,oBAKd,KAAA,KAHzBF,EADqB,aAApB,OAAOta,UAA4BA,SAASsc,cAC7Btc,SAASsc,cAGlBhC,IACuB,aAA9B,OAAOE,oBACPA,mBAAmB8B,gBAEnBhC,EAAgBE,mBAAmB8B,cACnClC,EAA2B,CAAA,GAI5BE,IAKHK,EAAyB,wCACxBtsB,SAAS4C,cAAc,iDAAiD,IAEzE0pB,EAAyB,8CASD,KALtBK,EAAc3sB,SAASC,iBACzBqsB,EAF4B,uFAIH,GAEZrrB,UAIjB0rB,EAAYxb,QAAQ,SAAEuE,EAASwY,GAE3B,IAQIpB,EAGAM,EAIAL,EAGAC,EAIAC,EAGAC,EAKIC,EA7Bc,aAAlB,OAAOgB,SACPzY,EAAQvQ,cAAcxD,UAAU+C,QAAQ,OAAO,EAAI,GAChC,OAAnBgR,EAAQ/Q,WAKRmoB,EAAY9sB,SAASqE,cAAc,KAAK,GAClCsR,aAAa,QAAS,uBAAuB,GAEnDyX,EAAWptB,SAASqE,cAAc,KAAK,GAClCsR,aAAa,MAAOsW,EAAcmC,YAAY,EACvDhB,EAASzX,aAAa,QAAS,2BAA2B,GAEtDoX,EAAiB/sB,SAASqE,cAAc,KAAK,GAClCsR,aAAa,QAAS,uBAAuB,GAExDqX,EAAwBhtB,SAASqE,cAAc,GAAG,GAChCsR,aAAa,QAAS,8BAA8B,EAC1EqX,EAAsBhnB,OAAOimB,EAAcoC,QAAQC,UAAU,GAEzDrB,EAAwBjtB,SAASqE,cAAc,KAAK,GAClCsR,aAAa,QAAS,mCAAmC,GAE3EuX,EAA4BltB,SAASqE,cAAc,MAAM,GACnC2B,OAAOimB,EAAcoC,QAAQE,YAAc,GAAG,EACxErB,EAA0BlnB,OAAOimB,EAAcoC,QAAQG,WAAW,EAE7DzC,KACGoB,EAAgBntB,SAASqE,cAAc,GAAG,GAChCsR,aAAa,OAAQsW,EAAcwC,cAAc,EAC/DtB,EAAcxX,aAAa,SAAU,QAAQ,EAC7CwX,EAAcuB,KAAOzC,EAAcoC,QAAQM,oBAC3CzB,EAA0BlnB,OAAO,GAAG,EACpCknB,EAA0BlnB,OAAOmnB,CAAa,GAGlDF,EAAsBjnB,OAAOknB,CAAyB,EACtDH,EAAe/mB,OAAOgnB,EAAuBC,CAAqB,EAClEH,EAAU9mB,OAAOonB,CAAQ,EACzB1X,EAAQ1P,OAAO8mB,CAAS,EACxBpX,EAAQ1P,OAAO+mB,CAAc,EACjC,CAAC,EAEc/sB,SAASC,iBAAiB,wBAAwB,EAE1DkR,QAAQ,SAACkc,GACZ,IAAIC,EAAcjrB,KAAAA,EAmCZqrB,GAjCNM,EAAKtjB,KAAKnI,iBAAiB,QAAS,SAASwB,GAEY,CAAC,GAAlDA,EAAEpB,OAAOhB,UAAU+C,QAAQ,iBAAiB,GACmB,CAAC,GAAhEX,EAAEpB,OAAOwC,cAAcxD,UAAU+C,QAAQ,iBAAiB,GAE1D6oB,iBAAiB,CAEzB,CAAC,EAEDF,EAAM9qB,iBAAiB,QAAS,WAC5B,IAAMmrB,EAAQruB,KAAKouB,mBACfC,GAASA,EAAMjsB,UAAU6gB,SAAS,uBAAuB,GACzDoL,EAAMjsB,UAAUI,OAAO,SAAS,CAExC,CAAC,EAEDwrB,EAAM9qB,iBAAiB,aAAc,WACjCgrB,iBAAiB,EACjB,IAAMG,EAAQruB,KAAKouB,mBACfC,GAASA,EAAMjsB,UAAU6gB,SAAS,uBAAuB,GACzDoL,EAAMjsB,UAAUC,IAAI,SAAS,CAErC,CAAC,EAED2rB,EAAM9qB,iBAAiB,aAAc,WAAW,IAAAqsB,EAAAvvB,KAC5CiuB,EAAc5mB,WAAW,WACrB,IAAMgnB,EAAQkB,EAAKnB,mBACfC,GAASA,EAAMjsB,UAAU6gB,SAAS,uBAAuB,GACzDoL,EAAMjsB,UAAUG,OAAO,SAAS,CAExC,EAAG,GAAI,CACX,CAAC,EAEayrB,EAAMI,oBACpBC,EAAMnrB,iBAAiB,aAAc,WACjCssB,aAAavB,CAAW,EACxBI,EAAMjsB,UAAUC,IAAI,SAAS,CACjC,CAAC,EAEDgsB,EAAMnrB,iBAAiB,aAAc,WACjC+qB,EAAc5mB,WAAW,WACjBgnB,EAAMjsB,UAAU6gB,SAAS,uBAAuB,GAChDoL,EAAMjsB,UAAUG,OAAO,SAAS,CAExC,EAAG,GAAI,CACX,CAAC,EAGDyrB,EAAM9qB,iBAAiB,WAAY,WAAW,IAAAsrB,EAAAxuB,KAC1CiuB,EAAc5mB,WAAW,WACrB,IAAMgnB,EAAQG,EAAKJ,mBACbK,EAAYtnB,OAAOmJ,aAAa,EAElC+d,GAASI,GAAaJ,EAAMjsB,UAAU6gB,SAAS,uBAAuB,GACtC,IAAhCwL,EAAU9f,SAAS,EAAE/M,OAErBysB,EAAMjsB,UAAUG,OAAO,SAAS,GAEhCitB,aAAavB,CAAW,EACxBttB,SAASuC,iBAAiB,kBAAmB,SAASusB,IAClD,IAAMhB,EAAYtnB,OAAOmJ,aAAa,EAClCme,GAA6C,IAAhCA,EAAU9f,SAAS,EAAE/M,SAElCqsB,EAAc5mB,WAAW,WACrB,IAAMgnB,EAAQL,EAAMI,mBAChBC,GAASA,EAAMjsB,UAAU6gB,SAAS,uBAAuB,GACzDoL,EAAMjsB,UAAUG,OAAO,SAAS,CAExC,EAAG,GAAI,EACP5B,SAASuZ,oBAAoB,kBAAmBuV,CAAiB,EAEzE,CAAC,EAET,EAAG,GAAI,CACX,CAAC,CACL,CAAC,EACL,CAAC","file":"apbct-public-bundle.min.js","sourcesContent":["/**\n * Base class\n */\nclass ApbctCore {\n    ajax_parameters = {};\n    restParameters = {};\n\n    selector = null;\n    elements = [];\n\n    // Event properties\n    eventCallback;\n    eventSelector;\n    event;\n\n    /**\n     * Default constructor\n     * @param {string} selector\n     */\n    constructor(selector) {\n        this.select(selector);\n    }\n\n    /**\n     * Get elements by CSS selector\n     *\n     * @param {string} selector\n     * @return {*}\n     */\n    select(selector) {\n        if (selector instanceof HTMLCollection) {\n            this.selector = null;\n            this.elements = [];\n            this.elements = Array.prototype.slice.call(selector);\n        } else if ( typeof selector === 'object' ) {\n            this.selector = null;\n            this.elements = [];\n            this.elements[0] = selector;\n        } else if ( typeof selector === 'string' ) {\n            this.selector = selector;\n            this.elements = Array.prototype.slice.call(document.querySelectorAll(selector));\n            // this.elements = document.querySelectorAll(selector)[0];\n        } else {\n            this.deselect();\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {object|string} elemToAdd\n     */\n    addElement(elemToAdd) {\n        if ( typeof elemToAdd === 'object' ) {\n            this.elements.push(elemToAdd);\n        } else if ( typeof elemToAdd === 'string' ) {\n            this.selector = elemToAdd;\n            this.elements = Array.prototype.slice.call(document.querySelectorAll(elemToAdd));\n        } else {\n            this.deselect();\n        }\n    }\n\n    /**\n     * @param {object} elem\n     */\n    push(elem) {\n        this.elements.push(elem);\n    }\n\n    /**\n     * reduce\n     */\n    reduce() {\n        this.elements = this.elements.slice(0, -1);\n    }\n\n    /**\n     * deselect\n     */\n    deselect() {\n        this.elements = [];\n    }\n\n    /**\n     * Set or get CSS for/of currently selected element\n     *\n     * @param {object|string} style\n     * @param {boolean} getRaw\n     *\n     * @return {boolean|*}\n     */\n    css(style, getRaw) {\n        getRaw = getRaw || false;\n\n        // Set style\n        if (typeof style === 'object') {\n            const stringToCamelCase = (str) =>\n                str.replace(/([-_][a-z])/g, (group) =>\n                    group\n                        .toUpperCase()\n                        .replace('-', '')\n                        .replace('_', ''),\n                );\n\n            // Apply multiple styles\n            for (const styleName in style) {\n                if (Object.hasOwn(style, styleName)) {\n                    const DomStyleName = stringToCamelCase(styleName);\n\n                    // Apply to multiple elements (currently selected)\n                    for (let i=0; i<this.elements.length; i++) {\n                        this.elements[i].style[DomStyleName] = style[styleName];\n                    }\n                }\n            }\n\n            return this;\n        }\n\n        // Get style of first currently selected element\n        if (typeof style === 'string') {\n            let computedStyle = getComputedStyle(this.elements[0])[style];\n\n            // Process\n            if ( typeof computedStyle !== 'undefined' && ! getRaw) {\n                // Cut of units\n                computedStyle = computedStyle.replace(/(\\d)(em|pt|%|px){1,2}$/, '$1');\n                // Cast to INT\n                computedStyle = Number(computedStyle) == computedStyle ? Number(computedStyle) : computedStyle;\n                return computedStyle;\n            }\n\n            // Return unprocessed\n            return computedStyle;\n        }\n    }\n\n    /**\n     * hide\n     */\n    hide() {\n        this.prop('prev-display', this.css('display'));\n        this.css({'display': 'none'});\n    }\n\n    /**\n     * show\n     */\n    show() {\n        this.css({'display': this.prop('prev-display')});\n    }\n\n    /**\n     * addClass\n     */\n    addClass() {\n        for (let i=0; i<this.elements.length; i++) {\n            this.elements[i].classList.add(className);\n        }\n    }\n\n    /**\n     * removeClass\n     */\n    removeClass() {\n        for (let i=0; i<this.elements.length; i++) {\n            this.elements[i].classList.remove(className);\n        }\n    }\n\n    /**\n     * @param {string} className\n     */\n    toggleClass(className) {\n        for (let i=0; i<this.elements.length; i++) {\n            this.elements[i].classList.toggle(className);\n        }\n    }\n\n    /**\n     * Wrapper for apbctAJAX class\n     *\n     * @param {object|array} ajaxParameters\n     * @return {ApbctAjax}\n     */\n    ajax(ajaxParameters) {\n        this.ajax_parameters = ajaxParameters;\n        return new ApbctAjax(ajaxParameters);\n    }\n\n    /**\n     * Wrapper for apbctREST class\n     *\n     * @param {object|array} restParameters\n     * @return {ApbctRest}\n     */\n    rest(restParameters) {\n        this.restParameters = restParameters;\n        return new ApbctRest(restParameters);\n    }\n\n    /**\n     * ************ EVENTS *************\n     */\n\n    /**\n     *\n     * Why the mess with arguments?\n     *\n     * Because we need to support the following function signatures:\n     *      on('click',                   function(){ alert('some'); });\n     *      on('click', 'inner_selector', function(){ alert('some'); });\n     *\n     * @param {object|array} args\n     */\n    on(...args) {\n        this.event = args[0];\n        this.eventCallback = args[2] || args[1];\n        this.eventSelector = typeof args[1] === 'string' ? args[1] : null;\n\n        for (let i=0; i<this.elements.length; i++) {\n            this.elements[i].addEventListener(\n                this.event,\n                this.eventSelector !== null ?\n                    this.onChecker.bind(this) :\n                    this.eventCallback,\n            );\n        }\n    }\n\n    /**\n     * Check if a selector of an event matches current target\n     *\n     * @param {object} event\n     * @return {*}\n     */\n    onChecker(event) {\n        if (event.target === document.querySelector(this.eventSelector)) {\n            event.stopPropagation();\n            return this.eventCallback(event);\n        }\n    }\n\n    /**\n     * @param {object|function|string} callback\n     */\n    ready(callback) {\n        document.addEventListener('DOMContentLoaded', callback);\n    }\n\n    /**\n     * @param {object|function|string} callback\n     */\n    change(callback) {\n        this.on('change', callback);\n    }\n\n    /**\n     * ATTRIBUTES\n     */\n\n    /**\n     * Get an attribute or property of an element\n     *\n     * @param {string} attrName\n     * @return {*|*[]}\n     */\n    attr(attrName) {\n        let outputValue = [];\n\n        for (let i=0; i<this.elements.length; i++) {\n            // Use property instead of attribute if possible\n            if (typeof this.elements[i][attrName] !== 'undefined') {\n                outputValue.push(this.elements[i][attrName]);\n            } else {\n                outputValue.push(this.elements[i].getAttribute(attrName));\n            }\n        }\n\n        // Return a single value instead of array if only one value is present\n        return outputValue.length === 1 ? outputValue[0] : outputValue;\n    }\n\n    /**\n     * @param {string} propName\n     * @param {mixed} value\n     * @return {*|*[]|ApbctCore}\n     */\n    prop(propName, value) {\n        // Setting values\n        if (typeof value !== 'undefined') {\n            for (let i=0; i<this.elements.length; i++) {\n                this.elements[i][propName] = value;\n            }\n\n            return this;\n\n            // Getting values\n        } else {\n            const outputValue = [];\n\n            for (let i=0; i<this.elements.length; i++) {\n                outputValue.push(this.elements[i][propName]);\n            }\n\n            // Return a single value instead of array if only one value is present\n            return outputValue.length === 1 ? outputValue[0] : outputValue;\n        }\n    }\n\n    /**\n     * Set or get inner HTML\n     *\n     * @param {string} value\n     * @return {*|*[]}\n     */\n    html(value) {\n        return typeof value !== 'undefined' ?\n            this.prop('innerHTML', value) :\n            this.prop('innerHTML');\n    }\n\n    /**\n     * Set or get value of input tags\n     *\n     * @param {mixed} value\n     * @return {*|*[]|undefined}\n     */\n    val(value) {\n        return typeof value !== 'undefined' ?\n            this.prop('value', value) :\n            this.prop('value');\n    }\n\n    /**\n     * @param {string} name\n     * @param {mixed} value\n     * @return {*|*[]|ApbctCore}\n     */\n    data(name, value) {\n        return typeof value !== 'undefined' ?\n            this.prop('apbct-data', name, value) :\n            this.prop('apbct-data');\n    }\n\n    /**\n     * END OF ATTRIBUTES\n     */\n\n    /**\n     * FILTERS\n     */\n\n    /**\n     * Check if the current elements are corresponding to filter\n     *\n     * @param {mixed} filter\n     * @return {boolean}\n     */\n    is(filter) {\n        let outputValue = false;\n\n        for (let elem of this.elements) {\n            outputValue ||= this.isElem(elem, filter);\n        }\n\n        return outputValue;\n    }\n\n    /**\n     * @param {string|object} elemToCheck\n     * @param {mixed} filter\n     * @return {boolean}\n     */\n    isElem(elemToCheck, filter) {\n        let is = false;\n        let isRegisteredTagName = function(name) {\n            let newlyCreatedElement = document.createElement(name).constructor;\n            return ! Boolean( ~[HTMLElement, HTMLUnknownElement].indexOf(newlyCreatedElement) );\n        };\n\n        // Check for filter function\n        if (typeof filter === 'function') {\n            is ||= filter.call(this, elemToCheck);\n        }\n\n        // Check for filter function\n        if (typeof filter === 'string') {\n            // Filter is tag name\n            if ( filter.match(/^[a-z]/) && isRegisteredTagName(filter) ) {\n                is ||= elemToCheck.tagName.toLowerCase() === filter.toLowerCase();\n\n                // Filter is property\n            } else if ( filter.match(/^[a-z]/) ) {\n                is ||= Boolean(elemToCheck[filter]);\n\n                // Filter is CSS selector\n            } else {\n                is ||= this.selector !== null ?\n                    document.querySelector(this.selector + filter) !== null : // If possible\n                    this.isWithoutSelector(elemToCheck, filter); // Search through all elems with such selector\n            }\n        }\n\n        return is;\n    }\n\n    /**\n     * @param {object|string} elemToCheck\n     * @param {mixed} filter\n     * @return {boolean}\n     */\n    isWithoutSelector(elemToCheck, filter) {\n        const elems = document.querySelectorAll(filter);\n        let outputValue = false;\n\n        for (let elem of elems) {\n            outputValue ||= elemToCheck === elem;\n        }\n\n        return outputValue;\n    }\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    filter(filter) {\n        this.selector = null;\n\n        for ( let i = this.elements.length - 1; i >= 0; i-- ) {\n            if ( ! this.isElem(this.elements[i], filter) ) {\n                this.elements.splice(Number(i), 1);\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * NODES\n     */\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    parent(filter) {\n        this.select(this.elements[0].parentElement);\n\n        if ( typeof filter !== 'undefined' && ! this.is(filter) ) {\n            this.deselect();\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    parents(filter) {\n        this.select(this.elements[0]);\n\n        for ( ; this.elements[this.elements.length - 1].parentElement !== null; ) {\n            this.push(this.elements[this.elements.length - 1].parentElement);\n        }\n\n        this.elements.splice(0, 1); // Deleting initial element from the set\n\n        if ( typeof filter !== 'undefined' ) {\n            this.filter(filter);\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    children(filter) {\n        this.select(this.elements[0].children);\n\n        if ( typeof filter !== 'undefined' ) {\n            this.filter(filter);\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {mixed} filter\n     * @return {ApbctCore}\n     */\n    siblings(filter) {\n        let current = this.elements[0]; // Remember current to delete it later\n\n        this.parent();\n        this.children(filter);\n        this.elements.splice(this.elements.indexOf(current), 1); // Remove current element\n\n        return this;\n    }\n\n    /** ************ DOM MANIPULATIONS **************/\n    remove() {\n        for (let elem of this.elements) {\n            elem.remove();\n        }\n    }\n\n    /**\n     * @param {string} content\n     */\n    after(content) {\n        for (let elem of this.elements) {\n            elem.after(content);\n        }\n    }\n\n    /**\n     * @param {string} content\n     */\n    append(content) {\n        for (let elem of this.elements) {\n            elem.append(content);\n        }\n    }\n\n    /** ************  ANIMATION  **************/\n    /**\n     * @param {number} time\n     */\n    fadeIn(time) {\n        for (let elem of this.elements) {\n            elem.style.opacity = 0;\n            elem.style.display = 'block';\n\n            let last = +new Date();\n            const tick = function() {\n                elem.style.opacity = +elem.style.opacity + (new Date() - last) / time;\n                last = +new Date();\n\n                if (+elem.style.opacity < 1) {\n                    (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16);\n                }\n            };\n\n            tick();\n        }\n    }\n\n    /**\n     * @param {number} time\n     */\n    fadeOut(time) {\n        for (let elem of this.elements) {\n            elem.style.opacity = 1;\n\n            let last = +new Date();\n            const tick = function() {\n                elem.style.opacity = +elem.style.opacity - (new Date() - last) / time;\n                last = +new Date();\n\n                if (+elem.style.opacity > 0) {\n                    (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16);\n                } else {\n                    elem.style.display = 'none';\n                }\n            };\n\n            tick();\n        }\n    }\n}\n\n/**\n * Hack\n *\n * Make a proxy to keep both properties and methods from:\n *  - the native object and\n *  - the new one from ApbctCore for selected element.\n *\n * For example:\n * apbct('#id).innerHTML = 'some';\n * apbct('#id).css({'backgorund-color': 'black'});\n */\n// apbct = new Proxy(\n//         apbct,\n//         {\n//             get(target, prop) {\n//                 if (target.elements.length) {\n//                     return target.elements[0][prop];\n//                 } else {\n//                     return null;\n//                 }\n//             },\n//             set(target, prop, value){\n//                 if (target.elements.length) {\n//                     target.elements[0][prop] = value;\n//                     return true;\n//                 } else {\n//                     return false;\n//                 }\n//             },\n//             apply(target, thisArg, argArray) {\n//\n//             }\n//         }\n//     );\n\n/**\n * @param {mixed} msg\n * @param {string} url\n */\nfunction ctProcessError(msg, url) {\n    let log = {};\n    if (msg && msg.message) {\n        log.err = {\n            'msg': msg.message,\n            'file': !!msg.fileName ? msg.fileName : false,\n            'ln': !!msg.lineNumber ? msg.lineNumber : !!lineNo ? lineNo : false,\n            'col': !!msg.columnNumber ? msg.columnNumber : !!columnNo ? columnNo : false,\n            'stacktrace': !!msg.stack ? msg.stack : false,\n            'cause': !!url ? JSON.stringify(url) : false,\n            'errorObj': !!error ? error : false,\n        };\n    } else {\n        log.err = {\n            'msg': msg,\n        };\n\n        if (!!url) {\n            log.err.file = url;\n        }\n    }\n\n    log.url = window.location.href;\n    log.userAgent = window.navigator.userAgent;\n\n    let ctJsErrors = 'ct_js_errors';\n    let errArray = localStorage.getItem(ctJsErrors);\n    if (errArray === null) errArray = '[]';\n    errArray = JSON.parse(errArray);\n    for (let i = 0; i < errArray.length; i++) {\n        if (errArray[i].err.msg === log.err.msg) {\n            return;\n        }\n    }\n\n    errArray.push(log);\n    localStorage.setItem(ctJsErrors, JSON.stringify(errArray));\n}\n\nif (Math.floor(Math.random() * 100) === 1) {\n    window.onerror = function(exception, url) {\n        let filterWords = ['apbct', 'ctPublic'];\n        let length = filterWords.length;\n        while (length--) {\n            if (exception.indexOf(filterWords[length]) !== -1) {\n                ctProcessError(exception, url);\n            }\n        }\n\n        return false;\n    };\n}\n\n/**\n * Select actual WP nonce depending on the ajax type and the fresh nonce provided.\n * @return {string} url\n */\nfunction selectActualNonce() {\n    let defaultNonce = '';\n    // return fresh nonce immediately if persists\n    if (\n        ctPublicFunctions.hasOwnProperty('_fresh_nonce') &&\n        typeof ctPublicFunctions._fresh_nonce === 'string' &&\n        ctPublicFunctions._fresh_nonce.length > 0\n    ) {\n        return ctPublicFunctions._fresh_nonce;\n    }\n    // select from default rest/ajax nonces\n    if (\n        ctPublicFunctions.data__ajax_type === 'admin_ajax' &&\n        ctPublicFunctions.hasOwnProperty('_ajax_nonce') &&\n        typeof ctPublicFunctions._ajax_nonce === 'string' &&\n        ctPublicFunctions._ajax_nonce.length > 0\n    ) {\n        defaultNonce = ctPublicFunctions._ajax_nonce;\n    }\n    if (\n        ctPublicFunctions.data__ajax_type === 'rest' &&\n        ctPublicFunctions.hasOwnProperty('_rest_nonce') &&\n        typeof ctPublicFunctions._rest_nonce === 'string' &&\n        ctPublicFunctions._rest_nonce.length > 0\n    ) {\n        defaultNonce = ctPublicFunctions._rest_nonce;\n    }\n\n    return defaultNonce;\n}\n\n/**\n * Enter point to ApbctCore class\n *\n * @param {array|object} params\n * @return {*}\n */\n// eslint-disable-next-line no-unused-vars, require-jsdoc\nfunction apbct(params) {\n    return new ApbctCore()\n        .select(params);\n}\n\n/**\n * ApbctXhr\n */\nclass ApbctXhr {\n    xhr = new XMLHttpRequest();\n\n    // Base parameters\n    method = 'POST'; // HTTP-request type\n    url = ''; // URL to send the request\n    async = true;\n    user = null; // HTTP-authorization username\n    password = null; // HTTP-authorization password\n    data = {}; // Data to send\n\n    // Optional params\n    button = null; // Button that should be disabled when request is performing\n    spinner = null; // Spinner that should appear when request is in process\n    progressbar = null; // Progress bar for the current request\n    context = this; // Context\n    callback = null;\n    onErrorCallback = null;\n\n    responseType = 'json'; // Expected data type from server\n    headers = {};\n    timeout = 15000; // Request timeout in milliseconds\n\n    methods_to_convert_data_to_URL = [\n        'GET',\n        'HEAD',\n    ];\n\n    body = null;\n    http_code = 0;\n    status_text = '';\n\n    // eslint-disable-next-line require-jsdoc\n    constructor(parameters) {\n        // Set class properties\n        for ( let key in parameters ) {\n            if ( typeof this[key] !== 'undefined' ) {\n                this[key] = parameters[key];\n            }\n        }\n\n        // Modifying DOM-elements\n        this.prepare();\n\n        // Modify URL with data for GET and HEAD requests\n        if ( Object.keys(this.data).length ) {\n            this.deleteDoubleJSONEncoding(this.data);\n            this.convertData();\n        }\n\n        if ( ! this.url ) {\n            console.log('%cXHR%c not URL provided',\n                'color: red; font-weight: bold;', 'color: grey; font-weight: normal;');\n            return false;\n        }\n\n        // Configure the request\n        this.xhr.open(this.method, this.url, this.async, this.user, this.password);\n        this.setHeaders();\n\n        this.xhr.responseType = this.responseType;\n        this.xhr.timeout = this.timeout;\n\n        /* EVENTS */\n        // Monitoring status\n        this.xhr.onreadystatechange = function() {\n            if (this.isWpNonceError()) {\n                this.getFreshNonceAndRerunXHR(parameters);\n                return;\n            }\n            this.onReadyStateChange();\n        }.bind(this);\n\n        // Run callback\n        this.xhr.onload = function() {\n            this.onLoad();\n        }.bind(this);\n\n        // On progress\n        this.xhr.onprogress = function(event) {\n            this.onProgress(event);\n        }.bind(this);\n\n        // On error\n        this.xhr.onerror = function() {\n            this.onError();\n        }.bind(this);\n\n        this.xhr.ontimeout = function() {\n            this.onTimeout();\n        }.bind(this);\n\n        // Send the request\n        this.xhr.send(this.body);\n    }\n\n    /**\n     * prepare\n     */\n    prepare() {\n        // Disable button\n        if (this.button) {\n            this.button.setAttribute('disabled', 'disabled');\n            this.button.style.cursor = 'not-allowed';\n        }\n\n        // Enable spinner\n        if (this.spinner) {\n            this.spinner.style.display = 'inline';\n        }\n    }\n\n    /**\n     * complete\n     */\n    complete() {\n        this.http_code = this.xhr.status;\n        this.status_text = this.xhr.statusText;\n\n        // Disable button\n        if (this.button) {\n            this.button.removeAttribute('disabled');\n            this.button.style.cursor = 'auto';\n        }\n\n        // Enable spinner\n        if (this.spinner) {\n            this.spinner.style.display = 'none';\n        }\n\n        if ( this.progressbar ) {\n            this.progressbar.fadeOut('slow');\n        }\n    }\n\n    /**\n     * onReadyStateChange\n     */\n    onReadyStateChange() {\n        if (this.on_ready_state_change !== null && typeof this.on_ready_state_change === 'function') {\n            this.on_ready_state_change();\n        }\n    }\n\n    /**\n     * @param {object} event\n     */\n    onProgress(event) {\n        if (this.on_progress !== null && typeof this.on_progress === 'function') {\n            this.on_progress();\n        }\n    }\n\n    /**\n     * onError\n     */\n    onError() {\n        console.log('error');\n\n        this.complete();\n        this.error(\n            this.http_code,\n            this.status_text,\n        );\n\n        if (this.onErrorCallback !== null && typeof this.onErrorCallback === 'function') {\n            this.onErrorCallback(this.status_text);\n        }\n    }\n\n    /**\n     * onTimeout\n     */\n    onTimeout() {\n        this.complete();\n        this.error(\n            0,\n            'timeout',\n        );\n\n        if (this.onErrorCallback !== null && typeof this.onErrorCallback === 'function') {\n            this.onErrorCallback('Timeout');\n        }\n    }\n\n    /**\n     * @return {boolean}\n     */\n    onLoad() {\n        this.complete();\n\n        if (this.responseType === 'json' ) {\n            if (this.xhr.response === null) {\n                this.error(this.http_code, this.status_text, 'No response');\n                return false;\n            } else if ( typeof this.xhr.response.error !== 'undefined') {\n                this.error(this.http_code, this.status_text, this.xhr.response.error);\n                return false;\n            }\n        }\n\n        if (this.callback !== null && typeof this.callback === 'function') {\n            this.callback.call(this.context, this.xhr.response, this.data);\n        }\n    }\n\n    /**\n     * Check if 403 code of WP nonce error\n     * @return {bool}\n     */\n    isWpNonceError() {\n        let restErrror = false;\n        let ajaxErrror = false;\n        // check rest error\n        if (this.xhr.readyState == 4) {\n            restErrror = (\n                typeof this.xhr.response === 'object' && this.xhr.response !== null &&\n                this.xhr.response.hasOwnProperty('data') &&\n                this.xhr.response.data.hasOwnProperty('status') &&\n                this.xhr.response.data.status === 403\n            );\n            ajaxErrror = this.xhr.response === '-1' && this.xhr.status === 403;\n        }\n        // todo check AJAX error\n        return restErrror || ajaxErrror;\n    }\n\n    /**\n     * Get the fresh nonce and rerun the initial XHR with params\n     * @param {[]} initialRequestParams\n     */\n    getFreshNonceAndRerunXHR(initialRequestParams) {\n        let noncePrev = '';\n\n        // Check if initialRequestParams['headers']['X-WP-Nonce'] exists.\n        if (\n            initialRequestParams.hasOwnProperty('headers') &&\n            initialRequestParams.headers.hasOwnProperty('X-WP-Nonce')\n        ) {\n            noncePrev = initialRequestParams['headers']['X-WP-Nonce'];\n        }\n\n        // Check if initialRequestParams['data']['_ajax_nonce'] exists.\n        if (\n            initialRequestParams.hasOwnProperty('data') &&\n            initialRequestParams.data.hasOwnProperty('_ajax_nonce')\n        ) {\n            noncePrev = initialRequestParams['data']['_ajax_nonce'];\n        }\n\n        // Nonce is not provided. Exit.\n        if ( noncePrev === '' ) {\n            return;\n        }\n\n        // prepare params for refreshing nonce\n        let params = {};\n        params.method = 'POST';\n        params.data = {\n            'spbc_remote_call_action': 'get_fresh_wpnonce',\n            'plugin_name': 'antispam',\n            'nonce_prev': noncePrev,\n            'initial_request_params': initialRequestParams,\n        };\n        params.notJson = true;\n        params.url = ctPublicFunctions.host_url;\n        // this callback will rerun the XHR with initial params\n        params.callback = function(...args) {\n            // the refresh result itself\n            let freshNonceResult = args[0];\n            let newRequestParams = false;\n            // provided initial params\n            if (args[1] !== undefined && args[1].hasOwnProperty('initial_request_params')) {\n                newRequestParams = args[1].initial_request_params;\n            }\n            if (newRequestParams && freshNonceResult.hasOwnProperty('wpnonce')) {\n                ctPublicFunctions._fresh_nonce = freshNonceResult.wpnonce;\n                if (ctPublicFunctions.data__ajax_type === 'rest') {\n                    new ApbctCore().rest(newRequestParams);\n                } else {\n                    new ApbctCore().ajax(newRequestParams);\n                }\n            }\n        };\n        // run the nonce refreshing call\n        new ApbctXhr(params);\n    }\n\n    /**\n     * @param {number} httpCode\n     * @param {string} statusText\n     * @param {string} additionalMsg\n     */\n    error(httpCode, statusText, additionalMsg) {\n        let errorString = '';\n\n        if ( statusText === 'timeout' ) {\n            errorString += 'Server response timeout';\n        } else if ( httpCode === 200 ) {\n            if ( statusText === 'parsererror' ) {\n                errorString += 'Unexpected response from server. See console for details.';\n            } else {\n                errorString += 'Unexpected error. Status: ' + statusText + '.';\n                if ( typeof additionalMsg !== 'undefined' ) {\n                    errorString += ' Additional error info: ' + additionalMsg;\n                }\n            }\n        } else if (httpCode === 500) {\n            errorString += 'Internal server error.';\n        } else {\n            errorString += 'Unexpected response code:' + httpCode;\n        }\n\n        this.errorOutput( errorString );\n\n        if (this.onErrorCallback !== null && typeof this.onErrorCallback === 'function') {\n            this.onErrorCallback(this.status_text);\n        }\n    }\n\n    /**\n     * @param {string} errorMsg\n     */\n    errorOutput(errorMsg) {\n        console.log( '%c ctXHR error: %c' + errorMsg, 'color: red;', 'color: grey;' );\n    }\n\n    /**\n     * setHeaders\n     */\n    setHeaders() {\n        // Set headers if passed\n        for ( let headerName in this.headers ) {\n            if ( typeof this.headers[headerName] !== 'undefined' ) {\n                this.xhr.setRequestHeader(headerName, this.headers[headerName]);\n            }\n        }\n    }\n\n    /**\n     * @return {string|*}\n     */\n    convertData() {\n        // GET, HEAD request-type\n        if ( ~this.methods_to_convert_data_to_URL.indexOf( this.method ) ) {\n            return this.convertDataToURL();\n\n            // POST request-type\n        } else {\n            return this.convertDataToBody();\n        }\n    }\n\n    /**\n     * @return {string}\n     */\n    convertDataToURL() {\n        let paramsAppendix = new URLSearchParams(this.data).toString();\n        let paramsPrefix = this.url.match(/^(https?:\\/{2})?[a-z0-9.]+\\?/) ? '&' : '?';\n        this.url += paramsPrefix + paramsAppendix;\n\n        return this.url;\n    }\n\n    /**\n     * @return {null}\n     */\n    convertDataToBody() {\n        this.body = new FormData();\n        for (let dataKey in this.data) {\n            if (Object.hasOwn(this.data, dataKey)) {\n                this.body.append(\n                    dataKey,\n                    typeof this.data[dataKey] === 'object' ?\n                        JSON.stringify(this.data[dataKey]) :\n                        this.data[dataKey],\n                );\n            }\n        }\n\n        return this.body;\n    }\n\n    /**\n     * Recursive\n     *\n     * Recursively decode JSON-encoded properties\n     *\n     * @param {object} object\n     * @return {*}\n     */\n    deleteDoubleJSONEncoding(object) {\n        if ( typeof object === 'object') {\n            for (let objectKey in object) {\n                if (Object.hasOwn(object, objectKey)) {\n                    // Recursion\n                    if ( typeof object[objectKey] === 'object') {\n                        object[objectKey] = this.deleteDoubleJSONEncoding(object[objectKey]);\n                    }\n\n                    // Common case (out)\n                    if (\n                        typeof object[objectKey] === 'string' &&\n                        object[objectKey].match(/^[\\[{].*?[\\]}]$/) !== null // is like JSON\n                    ) {\n                        let parsedValue = JSON.parse(object[objectKey]);\n                        if ( typeof parsedValue === 'object' ) {\n                            object[objectKey] = parsedValue;\n                        }\n                    }\n                }\n            }\n        }\n\n        return object;\n    }\n}\n// eslint-disable-next-line require-jsdoc\nclass ApbctAjax extends ApbctXhr {\n    // eslint-disable-next-line require-jsdoc\n    constructor(...args) {\n        args = args[0];\n        args.data._ajax_nonce = selectActualNonce();\n        super(args);\n    }\n}\n// eslint-disable-next-line require-jsdoc\nclass ApbctRest extends ApbctXhr {\n    static default_route = ctPublicFunctions._rest_url + 'cleantalk-antispam/v1/';\n    route = '';\n\n    // eslint-disable-next-line require-jsdoc\n    constructor(...args) {\n        args = args[0];\n        const nonce = selectActualNonce();\n        args.url = ApbctRest.default_route + args.route;\n        args.headers = {\n            'X-WP-Nonce': nonce,\n        };\n        super(args);\n    }\n}\n\n// add hasOwn\nif (!Object.prototype.hasOwn) {\n    Object.defineProperty(Object.prototype, 'hasOwn', { // eslint-disable-line\n        value: function(property) {\n            return Object.prototype.hasOwnProperty.call(this, property);\n        },\n        enumerable: false,\n        configurable: true,\n        writable: true,\n    });\n}\n\n/**\n * Class collecting user activity data\n *\n */\n// eslint-disable-next-line no-unused-vars, require-jsdoc\nclass ApbctCollectingUserActivity {\n    elementBody = document.querySelector('body');\n    collectionForms = document.forms;\n    /**\n     * Constructor\n     */\n    constructor() {\n        this.setListeners();\n    }\n\n    /**\n     * Set listeners\n     */\n    setListeners() {\n        this.elementBody.addEventListener('click', (event) => {\n            this.checkElementInForms(event, 'addClicks');\n        });\n\n        this.elementBody.addEventListener('mouseup', (event) => {\n            const selectedType = document.getSelection().type.toString();\n            if (selectedType == 'Range') {\n                this.addSelected();\n            }\n        });\n\n        this.elementBody.addEventListener('mousemove', (event) => {\n            this.checkElementInForms(event, 'trackMouseMovement');\n        });\n    }\n\n    /**\n     * Checking if there is an element in the form\n     * @param {object} event\n     * @param {string} addTarget\n     */\n    checkElementInForms(event, addTarget) {\n        let resultCheck;\n        for (let i = 0; i < this.collectionForms.length; i++) {\n            if (\n                event.target.outerHTML.length > 0 &&\n                this.collectionForms[i].innerHTML.length > 0\n            ) {\n                resultCheck = this.collectionForms[i].innerHTML.indexOf(event.target.outerHTML);\n            } else {\n                resultCheck = -1;\n            }\n        }\n\n        switch (addTarget) {\n        case 'addClicks':\n            if (resultCheck < 0) {\n                this.addClicks();\n            }\n            break;\n        case 'trackMouseMovement':\n            if (resultCheck > -1) {\n                this.trackMouseMovement();\n            }\n            break;\n        default:\n            break;\n        }\n    }\n\n    /**\n     * Add clicks\n     */\n    addClicks() {\n        if (document.ctCollectingUserActivityData) {\n            if (document.ctCollectingUserActivityData.clicks) {\n                document.ctCollectingUserActivityData.clicks++;\n            } else {\n                document.ctCollectingUserActivityData.clicks = 1;\n            }\n            return;\n        }\n\n        document.ctCollectingUserActivityData = {clicks: 1};\n    }\n\n    /**\n     * Add selected\n     */\n    addSelected() {\n        if (document.ctCollectingUserActivityData) {\n            if (document.ctCollectingUserActivityData.selected) {\n                document.ctCollectingUserActivityData.selected++;\n            } else {\n                document.ctCollectingUserActivityData.selected = 1;\n            }\n            return;\n        }\n\n        document.ctCollectingUserActivityData = {selected: 1};\n    }\n\n    /**\n     * Track mouse movement\n     */\n    trackMouseMovement() {\n        if (!document.ctCollectingUserActivityData) {\n            document.ctCollectingUserActivityData = {};\n        }\n        if (!document.ctCollectingUserActivityData.mouseMovementsInsideForm) {\n            document.ctCollectingUserActivityData.mouseMovementsInsideForm = false;\n        }\n\n        document.ctCollectingUserActivityData.mouseMovementsInsideForm = true;\n    }\n}\n\n/**\n * @param {object|array|string} cookies\n * @param {object|array|string} value\n * @param {string|number} expires\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction ctSetCookie( cookies, value, expires ) {\n    let listOfCookieNamesToForceAlt = [\n        'ct_sfw_pass_key',\n        'ct_sfw_passed',\n        'wordpress_apbct_antibot',\n        'apbct_anticrawler_passed',\n        'apbct_bot_detector_exist',\n        'apbct_antiflood_passed',\n        'apbct_email_encoder_passed',\n    ];\n\n    let skipAlt = false;\n\n    if ( typeof cookies === 'string') {\n        skipAlt = cookies === 'ct_pointer_data';\n        if ( typeof value === 'string' || typeof value === 'number' ) {\n            cookies = [[cookies, value, expires]];\n        }\n    }\n\n    // Cookies disabled\n    if ( ctPublicFunctions.data__cookies_type === 'none' ) {\n        let forcedAltCookiesSet = [];\n        cookies.forEach( function(item) {\n            if (listOfCookieNamesToForceAlt.indexOf(item[0]) !== -1) {\n                forcedAltCookiesSet.push(item);\n            } else {\n                apbctLocalStorage.set(item[0], item[1]);\n            }\n        });\n\n        // if cookies from list found use alt cookies for this selection set\n        if ( forcedAltCookiesSet.length > 0 ) {\n            ctSetAlternativeCookie(forcedAltCookiesSet);\n        }\n\n        // If problem integration forms detected use alt cookies for whole cookies set\n        if ( ctPublic.force_alt_cookies && !skipAlt) {\n            // do it just once\n            ctSetAlternativeCookie(cookies, {forceAltCookies: true});\n        } else {\n            ctNoCookieAttachHiddenFieldsToForms();\n        }\n\n        // Using traditional cookies\n    } else if ( ctPublicFunctions.data__cookies_type === 'native' ) {\n        // If problem integration forms detected use alt cookies for whole cookies set\n        if ( ctPublic.force_alt_cookies && !skipAlt) {\n            // do it just once\n            ctSetAlternativeCookie(cookies, {forceAltCookies: true});\n        }\n        cookies.forEach( function(item) {\n            const _expires = typeof item[2] !== 'undefined' ? 'expires=' + expires + '; ' : '';\n            let ctSecure = location.protocol === 'https:' ? '; secure' : '';\n            document.cookie = ctPublicFunctions.cookiePrefix +\n                item[0] +\n                '=' +\n                encodeURIComponent(item[1]) +\n                '; ' +\n                _expires +\n                'path=/; samesite=lax' +\n                ctSecure;\n        });\n\n        // Using alternative cookies\n    } else if ( ctPublicFunctions.data__cookies_type === 'alternative' && !skipAlt ) {\n        ctSetAlternativeCookie(cookies);\n    }\n}\n\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction ctDetectForcedAltCookiesForms() {\n    let ninjaFormsSign = document.querySelectorAll('#tmpl-nf-layout').length > 0;\n    let elementorUltimateAddonsRegister = document.querySelectorAll('.uael-registration-form-wrapper').length > 0;\n    let smartFormsSign = document.querySelectorAll('script[id*=\"smart-forms\"]').length > 0;\n    let jetpackCommentsForm = document.querySelectorAll('iframe[name=\"jetpack_remote_comment\"]').length > 0;\n    let cwginstockForm = document.querySelectorAll('.cwginstock-subscribe-form').length > 0;\n    let userRegistrationProForm = document.querySelectorAll('div[id^=\"user-registration-form\"]').length > 0;\n    let etPbDiviSubscriptionForm = document.querySelectorAll('div[class^=\"et_pb_newsletter_form\"]').length > 0;\n    let fluentBookingApp = document.querySelectorAll('div[class^=\"fluent_booking_app\"]').length > 0;\n    let bloomPopup = document.querySelectorAll('div[class^=\"et_bloom_form_container\"]').length > 0;\n    let pafeFormsFormElementor = document.querySelectorAll('div[class*=\"pafe-form\"]').length > 0;\n    let otterForm = document.querySelectorAll('div [class*=\"otter-form\"]').length > 0;\n    let smartQuizBuilder = document.querySelectorAll('form .sqbform, .fields_reorder_enabled').length > 0;\n    ctPublic.force_alt_cookies = smartFormsSign ||\n        ninjaFormsSign ||\n        jetpackCommentsForm ||\n        elementorUltimateAddonsRegister ||\n        cwginstockForm ||\n        userRegistrationProForm ||\n        etPbDiviSubscriptionForm ||\n        fluentBookingApp ||\n        pafeFormsFormElementor ||\n        bloomPopup ||\n        otterForm ||\n        smartQuizBuilder;\n\n    setTimeout(function() {\n        if (!ctPublic.force_alt_cookies) {\n            let bookingPress = document.querySelectorAll('main[id^=\"bookingpress_booking_form\"]').length > 0;\n            ctPublic.force_alt_cookies = bookingPress;\n        }\n    }, 1000);\n}\n\n// eslint-disable-next-line require-jsdoc\nfunction ctSetAlternativeCookie(cookies, params) {\n    if (typeof (getJavascriptClientData) === 'function' ) {\n        // reprocess already gained cookies data\n        if (Array.isArray(cookies)) {\n            cookies = getJavascriptClientData(cookies);\n        }\n    } else {\n        console.log('APBCT ERROR: getJavascriptClientData() is not loaded');\n    }\n\n    try {\n        cookies = JSON.parse(cookies);\n    } catch (e) {\n        console.log('APBCT ERROR: JSON parse error:' + e);\n        return;\n    }\n\n    const callback = params && params.callback || null;\n    const onErrorCallback = params && params.onErrorCallback || null;\n\n    if ( params && params.forceAltCookies ) {\n        cookies.apbct_force_alt_cookies = true;\n    }\n\n    // Using REST API handler\n    if ( ctPublicFunctions.data__ajax_type === 'rest' ) {\n        // fix for url encoded cookie apbct_pixel_url on REST route\n        if (typeof cookies.apbct_pixel_url === 'string' &&\n            cookies.apbct_pixel_url.indexOf('%3A') !== -1\n        ) {\n            cookies.apbct_pixel_url = decodeURIComponent(cookies.apbct_pixel_url);\n        }\n        apbct_public_sendREST(\n            'alt_sessions',\n            {\n                method: 'POST',\n                data: {cookies: cookies},\n                callback: callback,\n                onErrorCallback: onErrorCallback,\n            },\n        );\n\n        // Using AJAX request and handler\n    } else if ( ctPublicFunctions.data__ajax_type === 'admin_ajax' ) {\n        apbct_public_sendAJAX(\n            {\n                action: 'apbct_alt_session__save__AJAX',\n                cookies: cookies,\n            },\n            {\n                notJson: 1,\n                callback: callback,\n                onErrorCallback: onErrorCallback,\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader('X-Robots-Tag', 'noindex, nofollow');\n                },\n            },\n        );\n    }\n}\n\n/**\n * Get cookie by name\n * @param name\n * @return {string|undefined}\n */\n// eslint-disable-next-line require-jsdoc,no-unused-vars\nfunction ctGetCookie(name) {\n    let matches = document.cookie.match(new RegExp(\n        '(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)',\n    ));\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\n// eslint-disable-next-line require-jsdoc,no-unused-vars\nfunction ctDeleteCookie(cookieName) {\n    // Cookies disabled\n    if ( ctPublicFunctions.data__cookies_type === 'none' ) {\n        return;\n\n    // Using traditional cookies\n    } else if ( ctPublicFunctions.data__cookies_type === 'native' ) {\n        let ctSecure = location.protocol === 'https:' ? '; secure' : '';\n        document.cookie = cookieName + '=\"\"; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; samesite=lax' + ctSecure;\n\n    // Using alternative cookies\n    } else if ( ctPublicFunctions.data__cookies_type === 'alternative' ) {\n        // @ToDo implement this logic\n    }\n}\n\n// eslint-disable-next-line require-jsdoc,camelcase\nfunction apbct_public_sendAJAX(data, params, obj) {\n    // Default params\n    let _params = [];\n    _params['callback'] = params.callback || null;\n    _params['onErrorCallback'] = params.onErrorCallback || null;\n    _params['callback_context'] = params.callback_context || null;\n    _params['callback_params'] = params.callback_params || null;\n    _params['async'] = params.async || true;\n    _params['notJson'] = params.notJson || null;\n    _params['responseType']= params.notJson ? 'text' : 'json';\n    _params['timeout'] = params.timeout || 15000;\n    _params['obj'] = obj || null;\n    _params['button'] = params.button || null;\n    _params['spinner'] = params.spinner || null;\n    _params['progressbar'] = params.progressbar || null;\n    _params['silent'] = params.silent || null;\n    _params['no_nonce'] = params.no_nonce || null;\n    _params['data'] = data;\n    _params['url'] = ctPublicFunctions._ajax_url;\n    const nonce = selectActualNonce();\n\n    if (typeof (data) === 'string') {\n        if ( ! _params['no_nonce'] ) {\n            _params['data'] = _params['data'] + '&_ajax_nonce=' + nonce;\n        }\n        _params['data'] = _params['data'] + '&no_cache=' + Math.random();\n    } else {\n        if ( ! _params['no_nonce'] ) {\n            _params['data']._ajax_nonce = nonce;\n        }\n        _params['data'].no_cache = Math.random();\n    }\n\n    new ApbctCore().ajax(_params);\n}\n\n// eslint-disable-next-line require-jsdoc,camelcase\nfunction apbct_public_sendREST( route, params ) {\n    let _params = [];\n    _params['route'] = route;\n    _params['callback'] = params.callback || null;\n    _params['onErrorCallback'] = params.onErrorCallback || null;\n    _params['data'] = params.data || [];\n    _params['method'] = params.method || 'POST';\n\n    new ApbctCore().rest(_params);\n}\n\n/**\n * Generate unique ID\n * @return {string}\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction apbctGenerateUniqueID() {\n    return Math.random().toString(36).replace(/[^a-z]+/g, '').substr(2, 10);\n}\n\nlet apbctLocalStorage = {\n    get: function(key, property) {\n        if ( typeof property === 'undefined' ) {\n            property = 'value';\n        }\n        const storageValue = localStorage.getItem(key);\n        if ( storageValue !== null ) {\n            try {\n                const json = JSON.parse(storageValue);\n                if ( json.hasOwnProperty(property) ) {\n                    try {\n                        // if property can be parsed as JSON - do it\n                        return JSON.parse( json[property] );\n                    } catch (e) {\n                        // if not - return string of value\n                        return json[property].toString();\n                    }\n                } else {\n                    return json;\n                }\n            } catch (e) {\n                return storageValue;\n            }\n        }\n        return false;\n    },\n    set: function(key, value, isJson = true) {\n        if (isJson) {\n            let objToSave = {'value': JSON.stringify(value), 'timestamp': Math.floor(new Date().getTime() / 1000)};\n            localStorage.setItem(key, JSON.stringify(objToSave));\n        } else {\n            localStorage.setItem(key, value);\n        }\n    },\n    isAlive: function(key, maxLifetime) {\n        if ( typeof maxLifetime === 'undefined' ) {\n            maxLifetime = 86400;\n        }\n        const keyTimestamp = this.get(key, 'timestamp');\n        return keyTimestamp + maxLifetime > Math.floor(new Date().getTime() / 1000);\n    },\n    isSet: function(key) {\n        return localStorage.getItem(key) !== null;\n    },\n    delete: function(key) {\n        localStorage.removeItem(key);\n    },\n    getCleanTalkData: function() {\n        let data = {};\n        for (let i=0; i<localStorage.length; i++) {\n            let key = localStorage.key(i);\n            if (key.indexOf('ct_') !==-1 || key.indexOf('apbct_') !==-1) {\n                data[key.toString()] = apbctLocalStorage.get(key);\n            }\n        }\n        return data;\n    },\n\n};\n\nlet apbctSessionStorage = {\n    get: function(key, property) {\n        if ( typeof property === 'undefined' ) {\n            property = 'value';\n        }\n        const storageValue = sessionStorage.getItem(key);\n        if ( storageValue !== null ) {\n            try {\n                const json = JSON.parse(storageValue);\n                return json.hasOwnProperty(property) ? JSON.parse(json[property]) : json;\n            } catch (e) {\n                return storageValue;\n            }\n        }\n        return false;\n    },\n    set: function(key, value, isJson = true) {\n        if (isJson) {\n            let objToSave = {'value': JSON.stringify(value), 'timestamp': Math.floor(new Date().getTime() / 1000)};\n            sessionStorage.setItem(key, JSON.stringify(objToSave));\n        } else {\n            sessionStorage.setItem(key, value);\n        }\n    },\n    isSet: function(key) {\n        return sessionStorage.getItem(key) !== null;\n    },\n    delete: function(key) {\n        sessionStorage.removeItem(key);\n    },\n    getCleanTalkData: function() {\n        let data = {};\n        for (let i=0; i<sessionStorage.length; i++) {\n            let key = sessionStorage.key(i);\n            if (key.indexOf('ct_') !==-1 || key.indexOf('apbct_') !==-1) {\n                data[key.toString()] = apbctSessionStorage.get(key);\n            }\n        }\n        return data;\n    },\n};\n\n/**\n * Handler for -webkit based browser that listen for a custom\n * animation create using the :pseudo-selector in the stylesheet.\n * Works with Chrome, Safari\n *\n * @param {AnimationEvent} event\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction apbctOnAnimationStart(event) {\n    ('onautofillstart' === event.animationName) ?\n        apbctAutocomplete(event.target) : apbctCancelAutocomplete(event.target);\n}\n\n/**\n * Handler for non-webkit based browser that listen for input\n * event to trigger the autocomplete-cancel process.\n * Works with Firefox, Edge, IE11\n *\n * @param {InputEvent} event\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction apbctOnInput(event) {\n    ('insertReplacementText' === event.inputType || !('data' in event)) ?\n        apbctAutocomplete(event.target) : apbctCancelAutocomplete(event.target);\n}\n\n/**\n * Manage an input element when its value is autocompleted\n * by the browser in the following steps:\n * - add [autocompleted] attribute from event.target\n * - create 'onautocomplete' cancelable CustomEvent\n * - dispatch the Event\n *\n * @param {HtmlInputElement} element\n */\nfunction apbctAutocomplete(element) {\n    if (element.hasAttribute('autocompleted')) return;\n    element.setAttribute('autocompleted', '');\n\n    let event = new window.CustomEvent('onautocomplete', {\n        bubbles: true, cancelable: true, detail: null,\n    });\n\n    // no autofill if preventDefault is called\n    if (!element.dispatchEvent(event)) {\n        element.value = '';\n    }\n}\n\n/**\n * Manage an input element when its autocompleted value is\n * removed by the browser in the following steps:\n * - remove [autocompleted] attribute from event.target\n * - create 'onautocomplete' non-cancelable CustomEvent\n * - dispatch the Event\n *\n * @param {HtmlInputElement} element\n */\nfunction apbctCancelAutocomplete(element) {\n    if (!element.hasAttribute('autocompleted')) return;\n    element.removeAttribute('autocompleted');\n\n    // dispatch event\n    element.dispatchEvent(new window.CustomEvent('onautocomplete', {\n        bubbles: true, cancelable: false, detail: null,\n    }));\n}\n\n/**\n * ApbctForceProtection\n */\nclass ApbctForceProtection {\n    wrappers = [];\n\n    /**\n     * Constructor\n     */\n    constructor() {\n        this.wrappers = this.findWrappers();\n\n        if (this.wrappers.length < 1) {\n            return;\n        }\n\n        this.checkBot();\n    }\n\n    /**\n     * Find wrappers\n     * @return {HTMLElement[]}\n     */\n    findWrappers() {\n        return document.querySelectorAll('div.ct-encoded-form-wrapper');\n    }\n\n    /**\n     * Check bot\n     * @return {void}\n     */\n    checkBot() {\n        let data = {\n            event_javascript_data: getJavascriptClientData(),\n            post_url: document.location.href,\n            referrer: document.referrer,\n        };\n\n        if (ctPublicFunctions.data__ajax_type === 'rest') {\n            apbct_public_sendREST('force_protection_check_bot', {\n                data,\n                method: 'POST',\n                callback: (result) => this.checkBotCallback(result),\n            });\n        } else if (ctPublicFunctions.data__ajax_type === 'admin_ajax') {\n            data.action = 'apbct_force_protection_check_bot';\n            apbct_public_sendAJAX(data, {callback: (result) => this.checkBotCallback(result)});\n        }\n    }\n\n    /**\n     * Check bot callback\n     * @param {Object} result\n     * @return {void}\n     */\n    checkBotCallback(result) {\n        // if error occurred\n        if (result.data && result.data.status && result.data.status !== 200) {\n            console.log('ApbctForceProtection connection error occurred');\n            this.decodeForms();\n            return;\n        }\n\n        if (typeof result === 'string') {\n            try {\n                result = JSON.parse(result);\n            } catch (e) {\n                console.log('ApbctForceProtection decodeForms error', e);\n                this.decodeForms();\n                return;\n            }\n        }\n\n        if (typeof result === 'object' && result.allow && result.allow === 1) {\n            this.decodeForms();\n            document.dispatchEvent(new Event('apbctForceProtectionAllowed'));\n        } else {\n            this.showMessageForBot(result.message);\n        }\n    }\n\n    /**\n     * Decode forms\n     * @return {void}\n     */\n    decodeForms() {\n        let form;\n\n        this.wrappers.forEach((wrapper) => {\n            form = wrapper.querySelector('div.ct-encoded-form').dataset.encodedForm;\n\n            try {\n                if (form && typeof(form) == 'string') {\n                    const urlDecoded = decodeURIComponent(form);\n                    wrapper.outerHTML = atob(urlDecoded);\n                }\n            } catch (error) {\n                console.log(error);\n            }\n        });\n    }\n\n    /**\n     * Show message for bot\n     * @param {string} message\n     * @return {void}\n     */\n    showMessageForBot(message) {\n        let form;\n\n        this.wrappers.forEach((wrapper) => {\n            form = wrapper.querySelector('div.ct-encoded-form').dataset.encodedForm;\n            if (form) {\n                wrapper.outerHTML = '<div class=\"ct-encoded-form-forbidden\">' + message + '</div>';\n            }\n        });\n    }\n}\n\n/**\n * Force protection\n */\nfunction apbctForceProtect() {\n    if (+ctPublic.settings__forms__force_protection && typeof ApbctForceProtection !== 'undefined') {\n        new ApbctForceProtection();\n    }\n}\n\nif (ctPublic.data__key_is_ok) {\n    if (document.readyState !== 'loading') {\n        apbctForceProtect();\n    } else {\n        apbct_attach_event_handler(document, 'DOMContentLoaded', apbctForceProtect);\n    }\n}\n\n/**\n * Class for gathering data about user typing.\n *\n * ==============================\n * isAutoFill       - only person can use auto fill\n * isUseBuffer      - use buffer for fill current field\n * ==============================\n * lastKeyTimestamp - timestamp of last key press in current field\n * speedDelta       - change for each key press in current field,\n *                    as difference between current and previous key press timestamps,\n *                    robots in general have constant speed of typing.\n *                    If speedDelta is constant for each key press in current field,\n *                    so, speedDelta will be roughly to 0, then it is robot.\n * ==============================\n */\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nclass CTTypoData {\n    fieldData = {\n        isAutoFill: false,\n        isUseBuffer: false,\n        speedDelta: 0,\n        firstKeyTimestamp: 0,\n        lastKeyTimestamp: 0,\n        lastDelta: 0,\n        countOfKey: 0,\n    };\n\n    fields = document.querySelectorAll('textarea[name=comment]');\n\n    data = [];\n\n    /**\n     * Gather fields.\n     */\n    gatheringFields() {\n        let fieldSet = Array.prototype.slice.call(this.fields);\n        fieldSet.forEach((field, i) => {\n            this.data.push(Object.assign({}, this.fieldData));\n        });\n    }\n\n    /**\n     * Set listeners.\n     */\n    setListeners() {\n        this.fields.forEach((field, i) => {\n            field.addEventListener('paste', () => {\n                this.data[i].isUseBuffer = true;\n            });\n        });\n\n        this.fields.forEach((field, i) => {\n            field.addEventListener('onautocomplete', () => {\n                this.data[i].isAutoFill = true;\n            });\n        });\n\n        this.fields.forEach((field, i) => {\n            field.addEventListener('input', () => {\n                this.data[i].countOfKey++;\n                let time = + new Date();\n                let currentDelta = 0;\n\n                if (this.data[i].countOfKey === 1) {\n                    this.data[i].lastKeyTimestamp = time;\n                    this.data[i].firstKeyTimestamp = time;\n                    return;\n                }\n\n                currentDelta = time - this.data[i].lastKeyTimestamp;\n                if (this.data[i].countOfKey === 2) {\n                    this.data[i].lastKeyTimestamp = time;\n                    this.data[i].lastDelta = currentDelta;\n                    return;\n                }\n\n                if (this.data[i].countOfKey > 2) {\n                    this.data[i].speedDelta += Math.abs(this.data[i].lastDelta - currentDelta);\n                    this.data[i].lastKeyTimestamp = time;\n                    this.data[i].lastDelta = currentDelta;\n                }\n            });\n        });\n    }\n}\n\n// eslint-disable-next-line camelcase\nconst ctDate = new Date();\nconst ctTimeMs = new Date().getTime();\nlet ctMouseEventTimerFlag = true; // Reading interval flag\nlet ctMouseData = [];\nlet ctMouseDataCounter = 0;\nlet ctCheckedEmails = {};\nlet ctCheckedEmailsExist = {};\nlet ctMouseReadInterval;\nlet ctMouseWriteDataInterval;\nlet tokenCheckerIntervalId;\nlet botDetectorLogLastUpdate = 0;\nlet botDetectorLogEventTypesCollected = [];\n\n// eslint-disable-next-line require-jsdoc,camelcase\nfunction apbct_attach_event_handler(elem, event, callback) {\n    if (typeof window.addEventListener === 'function') elem.addEventListener(event, callback);\n    else elem.attachEvent(event, callback);\n}\n// eslint-disable-next-line require-jsdoc,camelcase\nfunction apbct_remove_event_handler(elem, event, callback) {\n    if (typeof window.removeEventListener === 'function') elem.removeEventListener(event, callback);\n    else elem.detachEvent(event, callback);\n}\n\n// Writing first key press timestamp\nconst ctFunctionFirstKey = function output(event) {\n    let KeyTimestamp = Math.floor(new Date().getTime() / 1000);\n    ctSetCookie('ct_fkp_timestamp', KeyTimestamp);\n    ctKeyStopStopListening();\n};\n\n/**\n * Run cron jobs\n */\n// forms handler cron\ncronFormsHandler(2000);\n\n// bot_detector frontend_data log alt session saving cron\nif (\n    ctPublicFunctions.hasOwnProperty('data__bot_detector_enabled') &&\n    ctPublicFunctions.data__bot_detector_enabled == 1 &&\n    ctPublicFunctions.hasOwnProperty('data__frontend_data_log_enabled') &&\n    ctPublicFunctions.data__frontend_data_log_enabled == 1\n) {\n    sendBotDetectorLogToAltSessions(1000);\n}\n/**\n * Cron jobs end.\n */\n\n// mouse read\nif (ctPublic.data__key_is_ok) {\n    // Reading interval\n    ctMouseReadInterval = setInterval(function() {\n        ctMouseEventTimerFlag = true;\n    }, 150);\n\n    // Writting interval\n    ctMouseWriteDataInterval = setInterval(function() {\n        ctSetCookie('ct_pointer_data', JSON.stringify(ctMouseData));\n    }, 1200);\n}\n\n// Logging mouse position each 150 ms\nconst ctFunctionMouseMove = function output(event) {\n    ctSetMouseMoved();\n    if (ctMouseEventTimerFlag === true) {\n        ctMouseData.push([\n            Math.round(event.clientY),\n            Math.round(event.clientX),\n            Math.round(new Date().getTime() - ctTimeMs),\n        ]);\n\n        ctMouseDataCounter++;\n        ctMouseEventTimerFlag = false;\n        if (ctMouseDataCounter >= 50) {\n            ctMouseStopData();\n        }\n    }\n};\n\n/**\n * Do handle periodical actions.\n * @param {int} cronStartTimeout Time to go before cron start.\n */\nfunction cronFormsHandler(cronStartTimeout = 2000) {\n    setTimeout(function() {\n        setInterval(function() {\n            restartFieldsListening();\n            restartBotDetectorEventTokenAttach();\n        }, 2000);\n    }, cronStartTimeout);\n}\n\n/**\n * Send BotDetector logs data to alternative sessions.\n * If log_last_update has changed and log contains new event types, the log will be sent to the alternative sessions.\n * @param {int} cronStartTimeout delay before cron start\n * @param {int} interval check fires on interval\n */\nfunction sendBotDetectorLogToAltSessions(cronStartTimeout = 3000, interval = 1000) {\n    setTimeout(function() {\n        setInterval(function() {\n            const currentLog = apbctLocalStorage.get('ct_bot_detector_frontend_data_log');\n            if (needsSaveLogToAltSessions(currentLog)) {\n                botDetectorLogLastUpdate = currentLog.log_last_update;\n                // the log will be taken from javascriptclientdata\n                ctSetAlternativeCookie([], {forceAltCookies: true});\n            }\n        }, interval);\n    }, cronStartTimeout);\n}\n\n/**\n * Check if the log needs to be saved to the alt sessions. If the log has new event types, it will be saved.\n * @param {object} currentLog\n * @return {boolean}\n */\nfunction needsSaveLogToAltSessions(currentLog) {\n    if (\n        currentLog && currentLog.hasOwnProperty('log_last_update') &&\n        botDetectorLogLastUpdate !== currentLog.log_last_update\n    ) {\n        try {\n            for (let i = 0; i < currentLog.records.length; i++) {\n                const currentType = currentLog.records[i].frontend_data.js_event;\n                // check if this event type was already collected\n                if (currentType !== undefined && botDetectorLogEventTypesCollected.includes(currentType)) {\n                    continue;\n                }\n                // add new event type to collection, this type will be sent to the alt sessions further\n                botDetectorLogEventTypesCollected.push(currentType);\n                return true;\n            }\n        } catch (e) {\n            console.log('APBCT: bot detector log collection error: ' . e.toString());\n        }\n    }\n    return false;\n}\n\n/**\n * Restart event_token attachment if some forms load after document ready.\n */\nfunction restartBotDetectorEventTokenAttach() {\n    // List there any new conditions, right now it works only for LatePoint forms.\n    // Probably, we can remove this condition at all, because setEventTokenField()\n    // checks all the forms without the field\n    const doAttach = (\n        document.getElementsByClassName('latepoint-form').length > 0 ||\n        document.getElementsByClassName('mec-booking-form-container').length > 0 ||\n        document.getElementById('login-form-popup') !== null\n    );\n\n    try {\n        if ( doAttach ) {\n            // get token from LS\n            const token = apbctLocalStorage.get('bot_detector_event_token');\n            if (typeof setEventTokenField === 'function' && token !== undefined && token.length === 64) {\n                setEventTokenField(token);\n            }\n            // probably there we could use a new botDetectorInit if token is not found\n        }\n    } catch (e) {\n        console.log(e.toString());\n    }\n}\n\n/**\n * Stop mouse observing function\n */\nfunction ctMouseStopData() {\n    apbct_remove_event_handler(document, 'mousemove', ctFunctionMouseMove);\n    clearInterval(ctMouseReadInterval);\n    clearInterval(ctMouseWriteDataInterval);\n}\n\n/**\n * Stop key listening function\n */\nfunction ctKeyStopStopListening() {\n    apbct_remove_event_handler(document, 'mousedown', ctFunctionFirstKey);\n    apbct_remove_event_handler(document, 'keydown', ctFunctionFirstKey);\n}\n\n/**\n * @param {mixed} e\n */\nfunction checkEmail(e) {\n    let currentEmail = e.target.value;\n\n    if (! /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(currentEmail)) {\n        return;\n    }\n\n    if (currentEmail && !(currentEmail in ctCheckedEmails)) {\n        // Using REST API handler\n        if ( ctPublicFunctions.data__ajax_type === 'rest' ) {\n            apbct_public_sendREST(\n                'check_email_before_post',\n                {\n                    method: 'POST',\n                    data: {'email': currentEmail},\n                    callback: function(result) {\n                        if (result.result) {\n                            ctCheckedEmails[currentEmail] = {\n                                'result': result.result,\n                                'timestamp': Date.now() / 1000 |0,\n                            };\n                            ctSetCookie('ct_checked_emails', JSON.stringify(ctCheckedEmails));\n                        }\n                    },\n                },\n            );\n            // Using AJAX request and handler\n        } else if ( ctPublicFunctions.data__ajax_type === 'admin_ajax' ) {\n            apbct_public_sendAJAX(\n                {\n                    action: 'apbct_email_check_before_post',\n                    email: currentEmail,\n                },\n                {\n                    callback: function(result) {\n                        if (result.result) {\n                            ctCheckedEmails[currentEmail] = {\n                                'result': result.result,\n                                'timestamp': Date.now() / 1000 |0,\n                            };\n                            ctSetCookie('ct_checked_emails', JSON.stringify(ctCheckedEmails));\n                        }\n                    },\n                },\n            );\n        }\n    }\n}\n\n/**\n * @param {mixed} e\n */\nfunction checkEmailExist(e) {\n    let currentEmail = e.target.value;\n    let result;\n\n    if (!currentEmail || !currentEmail.length) {\n        let envelope = document.getElementById('apbct-check_email_exist-block');\n        if (envelope) {\n            envelope.remove();\n        }\n        let hint = document.getElementById('apbct-check_email_exist-popup_description');\n        if (hint) {\n            hint.remove();\n        }\n        return;\n    }\n\n    if (! /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(currentEmail)) {\n        return;\n    }\n\n    if (currentEmail in ctCheckedEmailsExist) {\n        result = ctCheckedEmailsExist[currentEmail];\n        getResultCheckEmailExist(e, result, currentEmail);\n\n        return;\n    }\n\n    viewCheckEmailExist(e, 'load');\n\n    // Using REST API handler\n    ctPublicFunctions.data__ajax_type = 'rest';\n    if (ctPublicFunctions.data__ajax_type === 'rest') {\n        apbct_public_sendREST(\n            'check_email_exist_post',\n            {\n                method: 'POST',\n                data: {'email': currentEmail},\n                callback: function(result) {\n                    getResultCheckEmailExist(e, result, currentEmail);\n                },\n            },\n        );\n\n        return;\n    }\n\n    if (ctPublicFunctions.data__ajax_type === 'admin_ajax') {\n        apbct_public_sendAJAX(\n            {\n                action: 'apbct_email_check_exist_post',\n                email: currentEmail,\n            },\n            {\n                callback: function(result) {\n                    getResultCheckEmailExist(e, result, currentEmail);\n                },\n            },\n        );\n    }\n}\n\n/**\n * @param {mixed} e\n * @param {mixed} result\n * @param {string} currentEmail\n */\nfunction getResultCheckEmailExist(e, result, currentEmail) {\n    if (!result || !result.result) {\n        return;\n    }\n\n    result = result.result;\n\n    ctCheckedEmailsExist[currentEmail] = {\n        'result': result,\n        'timestamp': Date.now() / 1000 |0,\n    };\n\n    if (result.result == 'EXISTS') {\n        viewCheckEmailExist(e, 'good_email', result.text_result);\n    } else {\n        viewCheckEmailExist(e, 'bad_email', result.text_result);\n    }\n\n    ctSetCookie('ct_checked_emails_exist', JSON.stringify(ctCheckedEmailsExist));\n}\n\n/**\n * @param {mixed} e\n * @param {string} state\n * @param {string} textResult\n */\nfunction viewCheckEmailExist(e, state, textResult) {\n    let parentElement = e.target.parentElement;\n    let inputEmail = parentElement.querySelector('[name*=\"email\"]');\n\n    if (!inputEmail) {\n        return;\n    }\n\n    let envelope;\n    let hint;\n\n    // envelope\n    if (document.getElementById('apbct-check_email_exist-block')) {\n        envelope = document.getElementById('apbct-check_email_exist-block');\n    } else {\n        envelope = document.createElement('div');\n        envelope.setAttribute('class', 'apbct-check_email_exist-block');\n        envelope.setAttribute('id', 'apbct-check_email_exist-block');\n        window.addEventListener('scroll', function() {\n            envelope.style.top = inputEmail.getBoundingClientRect().top + 'px';\n        });\n        parentElement.after(envelope);\n    }\n\n    // hint\n    if (document.getElementById('apbct-check_email_exist-popup_description')) {\n        hint = document.getElementById('apbct-check_email_exist-popup_description');\n    } else {\n        hint = document.createElement('div');\n        hint.setAttribute('class', 'apbct-check_email_exist-popup_description');\n        hint.setAttribute('id', 'apbct-check_email_exist-popup_description');\n        window.addEventListener('scroll', function() {\n            hint.style.top = envelope.getBoundingClientRect().top + 'px';\n        });\n\n        envelope.after(hint);\n    }\n\n    ctEmailExistSetElementsPositions();\n\n    window.addEventListener('resize', function(event) {\n        ctEmailExistSetElementsPositions();\n    });\n\n    switch (state) {\n    case 'load':\n        envelope.classList.remove('apbct-check_email_exist-good_email', 'apbct-check_email_exist-bad_email');\n        envelope.classList.add('apbct-check_email_exist-load');\n        break;\n\n    case 'good_email':\n        envelope.classList.remove('apbct-check_email_exist-load', 'apbct-check_email_exist-bad_email');\n        envelope.classList.add('apbct-check_email_exist-good_email');\n\n        envelope.onmouseover = function() {\n            hint.textContent = textResult;\n            hint.style.display = 'block';\n            hint.style.top = inputEmail.getBoundingClientRect().top - hint.getBoundingClientRect().height + 'px';\n            hint.style.color = '#1C7129';\n        };\n\n        envelope.onmouseout = function() {\n            hint.style.display = 'none';\n        };\n\n        break;\n\n    case 'bad_email':\n        envelope.classList.remove('apbct-check_email_exist-load', 'apbct-check_email_exist-good_email');\n        envelope.classList.add('apbct-check_email_exist-bad_email');\n\n        envelope.onmouseover = function() {\n            hint.textContent = textResult;\n            hint.style.display = 'block';\n            hint.style.top = inputEmail.getBoundingClientRect().top - hint.getBoundingClientRect().height + 'px';\n            hint.style.color = '#E01111';\n        };\n\n        envelope.onmouseout = function() {\n            hint.style.display = 'none';\n        };\n\n        break;\n\n    default:\n        break;\n    }\n}\n\n/**\n * Shift the envelope to the input field on resizing the window\n * @param {object} envelope\n * @param {object} inputEmail\n */\nfunction ctEmailExistSetElementsPositions() {\n    const envelopeWidth = 35;\n    const inputEmail = document.querySelector('comment-form input[name*=\"email\"], input#email');\n    if (!inputEmail) {\n        return;\n    }\n    const envelope = document.getElementById('apbct-check_email_exist-block');\n    if (envelope) {\n        envelope.style.top = inputEmail.getBoundingClientRect().top + 'px';\n        envelope.style.left = inputEmail.getBoundingClientRect().right - envelopeWidth - 10 + 'px';\n        envelope.style.height = inputEmail.offsetHeight + 'px';\n        envelope.style.width = envelopeWidth + 'px';\n    }\n\n    const hint = document.getElementById('apbct-check_email_exist-popup_description');\n    if (hint) {\n        hint.style.width = inputEmail.offsetWidth + 'px';\n        hint.style.left = inputEmail.getBoundingClientRect().left + 'px';\n    }\n}\n\n/**\n * @return {bool}\n */\nfunction ctIsDrawPixel() {\n    if (ctPublic.pixel__setting == '3' && ctPublic.settings__data__bot_detector_enabled == '1') {\n        return false;\n    }\n\n    return +ctPublic.pixel__enabled ||\n        (ctPublic.data__cookies_type === 'none' && document.querySelectorAll('img#apbct_pixel').length === 0) ||\n        (ctPublic.data__cookies_type === 'alternative' && document.querySelectorAll('img#apbct_pixel').length === 0);\n}\n\n/**\n * @param {string} pixelUrl\n * @return {bool}\n */\nfunction ctSetPixelImg(pixelUrl) {\n    if (ctPublic.pixel__setting == '3' && ctPublic.settings__data__bot_detector_enabled == '1') {\n        return false;\n    }\n    ctSetCookie('apbct_pixel_url', pixelUrl);\n    if ( ctIsDrawPixel() ) {\n        if ( ! document.getElementById('apbct_pixel') ) {\n            let insertedImg = document.createElement('img');\n            insertedImg.setAttribute('alt', 'CleanTalk Pixel');\n            insertedImg.setAttribute('title', 'CleanTalk Pixel');\n            insertedImg.setAttribute('id', 'apbct_pixel');\n            insertedImg.setAttribute('style', 'display: none; left: 99999px;');\n            insertedImg.setAttribute('src', pixelUrl);\n            apbct('body').append(insertedImg);\n        }\n    }\n}\n\n/**\n * @param {string} pixelUrl\n * @return {bool}\n */\nfunction ctSetPixelImgFromLocalstorage(pixelUrl) {\n    if (ctPublic.pixel__setting == '3' && ctPublic.settings__data__bot_detector_enabled == '1') {\n        return false;\n    }\n    if ( ctIsDrawPixel() ) {\n        if ( ! document.getElementById('apbct_pixel') ) {\n            let insertedImg = document.createElement('img');\n            insertedImg.setAttribute('alt', 'CleanTalk Pixel');\n            insertedImg.setAttribute('title', 'CleanTalk Pixel');\n            insertedImg.setAttribute('id', 'apbct_pixel');\n            insertedImg.setAttribute('style', 'display: none; left: 99999px;');\n            insertedImg.setAttribute('src', decodeURIComponent(pixelUrl));\n            apbct('body').append(insertedImg);\n        }\n    }\n}\n\n/**\n * ctGetPixelUrl\n * @return {bool}\n */\nfunction ctGetPixelUrl() {\n    if (ctPublic.pixel__setting == '3' && ctPublic.settings__data__bot_detector_enabled == '1') {\n        return false;\n    }\n\n    // Check if pixel is already in localstorage and is not outdated\n    let localStoragePixelUrl = apbctLocalStorage.get('apbct_pixel_url');\n    if ( localStoragePixelUrl !== false ) {\n        if ( ! apbctLocalStorage.isAlive('apbct_pixel_url', 3600 * 3) ) {\n            apbctLocalStorage.delete('apbct_pixel_url');\n        } else {\n            // if so - load pixel from localstorage and draw it skipping AJAX\n            ctSetPixelImgFromLocalstorage(localStoragePixelUrl);\n            return;\n        }\n    }\n    // Using REST API handler\n    if ( ctPublicFunctions.data__ajax_type === 'rest' ) {\n        apbct_public_sendREST(\n            'apbct_get_pixel_url',\n            {\n                method: 'POST',\n                callback: function(result) {\n                    if (result &&\n                        (typeof result === 'string' || result instanceof String) && result.indexOf('https') === 0) {\n                        // set  pixel url to localstorage\n                        if ( ! apbctLocalStorage.get('apbct_pixel_url') ) {\n                            // set pixel to the storage\n                            apbctLocalStorage.set('apbct_pixel_url', result);\n                            // update pixel data in the hidden fields\n                            ctNoCookieAttachHiddenFieldsToForms();\n                        }\n                        // then run pixel drawing\n                        ctSetPixelImg(result);\n                    }\n                },\n            },\n        );\n        // Using AJAX request and handler\n    } else {\n        apbct_public_sendAJAX(\n            {\n                action: 'apbct_get_pixel_url',\n            },\n            {\n                notJson: true,\n                callback: function(result) {\n                    if (result &&\n                        (typeof result === 'string' || result instanceof String) && result.indexOf('https') === 0) {\n                        // set  pixel url to localstorage\n                        if ( ! apbctLocalStorage.get('apbct_pixel_url') ) {\n                            // set pixel to the storage\n                            apbctLocalStorage.set('apbct_pixel_url', result);\n                            // update pixel data in the hidden fields\n                            ctNoCookieAttachHiddenFieldsToForms();\n                        }\n                        // then run pixel drawing\n                        ctSetPixelImg(result);\n                    }\n                },\n                beforeSend: function(xhr) {\n                    xhr.setRequestHeader('X-Robots-Tag', 'noindex, nofollow');\n                },\n            },\n        );\n    }\n}\n\n/**\n * ctSetHasScrolled\n */\nfunction ctSetHasScrolled() {\n    if ( ! apbctLocalStorage.isSet('ct_has_scrolled') || ! apbctLocalStorage.get('ct_has_scrolled') ) {\n        ctSetCookie('ct_has_scrolled', 'true');\n        apbctLocalStorage.set('ct_has_scrolled', true);\n    }\n    if (\n        ctPublic.data__cookies_type === 'native' &&\n        ctGetCookie('ct_has_scrolled') === undefined\n    ) {\n        ctSetCookie('ct_has_scrolled', 'true');\n    }\n}\n\n/**\n * ctSetMouseMoved\n */\nfunction ctSetMouseMoved() {\n    if ( ! apbctLocalStorage.isSet('ct_mouse_moved') || ! apbctLocalStorage.get('ct_mouse_moved') ) {\n        ctSetCookie('ct_mouse_moved', 'true');\n        apbctLocalStorage.set('ct_mouse_moved', true);\n    }\n    if (\n        ctPublic.data__cookies_type === 'native' &&\n        ctGetCookie('ct_mouse_moved') === undefined\n    ) {\n        ctSetCookie('ct_mouse_moved', 'true');\n    }\n}\n\n/**\n * Restart listen fields to set ct_has_input_focused or ct_has_key_up\n */\nfunction restartFieldsListening() {\n    if (!apbctLocalStorage.isSet('ct_has_input_focused') && !apbctLocalStorage.isSet('ct_has_key_up')) {\n        ctStartFieldsListening();\n    }\n}\n\n/**\n * init listeners for keyup and focus events\n */\nfunction ctStartFieldsListening() {\n    if (\n        (apbctLocalStorage.isSet('ct_has_key_up') || apbctLocalStorage.get('ct_has_key_up')) &&\n        (apbctLocalStorage.isSet('ct_has_input_focused') || apbctLocalStorage.get('ct_has_input_focused')) &&\n        (\n            ctPublic.data__cookies_type === 'native' &&\n            ctGetCookie('ct_has_input_focused') !== undefined &&\n            ctGetCookie('ct_has_key_up') !== undefined\n        )\n    ) {\n        // already set\n        return;\n    }\n\n    let forms = ctGetPageForms();\n    ctPublic.handled_fields = [];\n\n    if (forms.length > 0) {\n        for (let i = 0; i < forms.length; i++) {\n            // handle only inputs and textareas\n            const handledFormFields = forms[i].querySelectorAll('input,textarea');\n            for (let i = 0; i < handledFormFields.length; i++) {\n                if (handledFormFields[i].type !== 'hidden') {\n                    // collect handled fields to remove handler in the future\n                    ctPublic.handled_fields.push(handledFormFields[i]);\n                    // do attach handlers\n                    apbct_attach_event_handler(handledFormFields[i], 'focus', ctFunctionHasInputFocused);\n                    apbct_attach_event_handler(handledFormFields[i], 'keyup', ctFunctionHasKeyUp);\n                }\n            }\n        }\n    }\n}\n\n/**\n * stop listening keyup and focus\n * @param {string} eventName\n * @param {string} functionName\n */\nfunction ctStopFieldsListening(eventName, functionName) {\n    if (typeof ctPublic.handled_fields !== 'undefined' && ctPublic.handled_fields.length > 0) {\n        for (let i = 0; i < ctPublic.handled_fields.length; i++) {\n            apbct_remove_event_handler(ctPublic.handled_fields[i], eventName, functionName);\n        }\n    }\n}\n\nlet ctFunctionHasInputFocused = function output(event) {\n    ctSetHasInputFocused();\n    ctStopFieldsListening('focus', ctFunctionHasInputFocused);\n};\n\nlet ctFunctionHasKeyUp = function output(event) {\n    ctSetHasKeyUp();\n    ctStopFieldsListening('keyup', ctFunctionHasKeyUp);\n};\n\n/**\n * set ct_has_input_focused ct_has_key_up cookies on session period\n */\nfunction ctSetHasInputFocused() {\n    if ( ! apbctLocalStorage.isSet('ct_has_input_focused') || ! apbctLocalStorage.get('ct_has_input_focused') ) {\n        apbctLocalStorage.set('ct_has_input_focused', true);\n    }\n    if (\n        (\n            (\n                ctPublic.data__cookies_type === 'native' &&\n                ctGetCookie('ct_has_input_focused') === undefined\n            ) ||\n            ctPublic.data__cookies_type === 'alternative'\n        ) ||\n        (\n            ctPublic.data__cookies_type === 'none' &&\n            (\n                typeof ctPublic.force_alt_cookies !== 'undefined' ||\n                (ctPublic.force_alt_cookies !== undefined && ctPublic.force_alt_cookies)\n            )\n        )\n    ) {\n        ctSetCookie('ct_has_input_focused', 'true');\n    }\n}\n\n/**\n * ctSetHasKeyUp\n */\nfunction ctSetHasKeyUp() {\n    if ( ! apbctLocalStorage.isSet('ct_has_key_up') || ! apbctLocalStorage.get('ct_has_key_up') ) {\n        apbctLocalStorage.set('ct_has_key_up', true);\n    }\n    if (\n        (\n            (\n                ctPublic.data__cookies_type === 'native' &&\n                ctGetCookie('ct_has_key_up') === undefined\n            ) ||\n            ctPublic.data__cookies_type === 'alternative'\n        ) ||\n        (\n            ctPublic.data__cookies_type === 'none' &&\n            (\n                typeof ctPublic.force_alt_cookies !== 'undefined' ||\n                (ctPublic.force_alt_cookies !== undefined && ctPublic.force_alt_cookies)\n            )\n        )\n    ) {\n        ctSetCookie('ct_has_key_up', 'true');\n    }\n}\n\nif (ctPublic.data__key_is_ok) {\n    apbct_attach_event_handler(document, 'mousemove', ctFunctionMouseMove);\n    apbct_attach_event_handler(document, 'mousedown', ctFunctionFirstKey);\n    apbct_attach_event_handler(document, 'keydown', ctFunctionFirstKey);\n    apbct_attach_event_handler(document, 'scroll', ctSetHasScrolled);\n}\n\n/**\n * Prepare block to intercept AJAX response\n */\nfunction apbctPrepareBlockForAjaxForms() {\n    // eslint-disable-next-line require-jsdoc\n    function ctPrepareBlockMessage(xhr) {\n        if (xhr.responseText &&\n            xhr.responseText.indexOf('\"apbct') !== -1 &&\n            xhr.responseText.indexOf('DOCTYPE') === -1\n        ) {\n            try {\n                ctParseBlockMessage(JSON.parse(xhr.responseText));\n            } catch (e) {\n                console.log(e.toString());\n            }\n        }\n    }\n\n    if (typeof jQuery !== 'undefined') {\n        // Capturing responses and output block message for unknown AJAX forms\n        if (typeof jQuery(document).ajaxComplete() !== 'function') {\n            jQuery(document).on('ajaxComplete', function(event, xhr, settings) {\n                ctPrepareBlockMessage(xhr);\n            });\n        } else {\n            jQuery(document).ajaxComplete( function(event, xhr, settings) {\n                ctPrepareBlockMessage(xhr);\n            });\n        }\n    } else {\n        // if Jquery is not avaliable try to use xhr\n        if (typeof XMLHttpRequest !== 'undefined') {\n            // Capturing responses and output block message for unknown AJAX forms\n            document.addEventListener('readystatechange', function(event) {\n                if (event.target.readyState === 4) {\n                    ctPrepareBlockMessage(event.target);\n                }\n            });\n        }\n    }\n}\n\n/**\n * For forced alt cookies.\n * If token is not added to the LS on apbc_ready, check every second if so and send token to the alt sessions.\n */\nfunction startForcedAltEventTokenChecker() {\n    tokenCheckerIntervalId = setInterval( function() {\n        if (apbctLocalStorage.get('event_token_forced_set') === '1') {\n            clearInterval(tokenCheckerIntervalId);\n            return;\n        }\n        let eventToken = apbctLocalStorage.get('bot_detector_event_token');\n        if (eventToken) {\n            ctSetAlternativeCookie([['ct_bot_detector_event_token', eventToken]], {forceAltCookies: true});\n            apbctLocalStorage.set('event_token_forced_set', '1');\n            clearInterval(tokenCheckerIntervalId);\n        } else {\n        }\n    }, 1000);\n}\n\n\n/**\n * Ready function\n */\n// eslint-disable-next-line camelcase,require-jsdoc\nfunction apbct_ready() {\n    document.addEventListener('gform_page_loaded', function() {\n        if (\n            typeof ctPublic.force_alt_cookies === 'undefined' ||\n            (ctPublic.force_alt_cookies !== 'undefined' && !ctPublic.force_alt_cookies)\n        ) {\n            ctNoCookieAttachHiddenFieldsToForms();\n            if (typeof setEventTokenField === 'function' && typeof botDetectorLocalStorage === 'function') {\n                setEventTokenField(botDetectorLocalStorage.get('bot_detector_event_token'));\n            }\n        }\n    });\n    if ( ! ctPublic.wc_ajax_add_to_cart ) {\n        apbctCheckAddToCartByGet();\n    }\n\n    apbctPrepareBlockForAjaxForms();\n\n    // set session ID\n    if (!apbctSessionStorage.isSet('apbct_session_id')) {\n        const sessionID = apbctGenerateUniqueID();\n        apbctSessionStorage.set('apbct_session_id', sessionID, false);\n        apbctLocalStorage.set('apbct_page_hits', 1);\n        if (document.referrer) {\n            let urlReferer = new URL(document.referrer);\n            if (urlReferer.host !== location.host) {\n                apbctSessionStorage.set('apbct_site_referer', document.referrer, false);\n            }\n        }\n    } else {\n        apbctLocalStorage.set('apbct_page_hits', Number(apbctLocalStorage.get('apbct_page_hits')) + 1);\n    }\n\n    apbctWriteReferrersToSessionStorage();\n\n    const cookiesType = apbctLocalStorage.get('ct_cookies_type');\n    if ( ! cookiesType || cookiesType !== ctPublic.data__cookies_type ) {\n        apbctLocalStorage.set('ct_cookies_type', ctPublic.data__cookies_type);\n        apbctLocalStorage.delete('ct_mouse_moved');\n        apbctLocalStorage.delete('ct_has_scrolled');\n    }\n\n    if (ctPublic.data__cookies_type !== 'alternative') {\n        ctStartFieldsListening();\n        // 2nd try to add listeners for delayed appears forms\n        setTimeout(ctStartFieldsListening, 1000);\n    }\n\n    window.addEventListener('animationstart', apbctOnAnimationStart, true);\n    window.addEventListener('input', apbctOnInput, true);\n    document.ctTypoData = new CTTypoData();\n    document.ctTypoData.gatheringFields();\n    document.ctTypoData.setListeners();\n\n    // Collect scrolling info\n    const initCookies = [\n        ['ct_ps_timestamp', Math.floor(new Date().getTime() / 1000)],\n        ['ct_fkp_timestamp', '0'],\n        ['ct_pointer_data', '0'],\n        // eslint-disable-next-line camelcase\n        ['ct_timezone', ctDate.getTimezoneOffset()/60*(-1)],\n        ['ct_screen_info', apbctGetScreenInfo()],\n        ['apbct_headless', navigator.webdriver],\n    ];\n\n    apbctLocalStorage.set('ct_ps_timestamp', Math.floor(new Date().getTime() / 1000));\n    apbctLocalStorage.set('ct_fkp_timestamp', '0');\n    apbctLocalStorage.set('ct_pointer_data', '0');\n    // eslint-disable-next-line camelcase\n    apbctLocalStorage.set('ct_timezone', ctDate.getTimezoneOffset()/60*(-1) );\n    apbctLocalStorage.set('ct_screen_info', apbctGetScreenInfo());\n    apbctLocalStorage.set('apbct_headless', navigator.webdriver);\n\n    if ( ctPublic.data__cookies_type !== 'native' ) {\n        initCookies.push(['apbct_visible_fields', '0']);\n    } else {\n        // Delete all visible fields cookies on load the page\n        let cookiesArray = document.cookie.split(';');\n        if ( cookiesArray.length !== 0 ) {\n            for ( let i = 0; i < cookiesArray.length; i++ ) {\n                let currentCookie = cookiesArray[i].trim();\n                let cookieName = currentCookie.split('=')[0];\n                if ( cookieName.indexOf('apbct_visible_fields_') === 0 ) {\n                    ctDeleteCookie(cookieName);\n                }\n            }\n        }\n    }\n\n    if (\n        +ctPublic.pixel__setting &&\n        !(+ctPublic.pixel__setting == 3 && ctPublic.settings__data__bot_detector_enabled == 1)\n    ) {\n        if ( ctIsDrawPixel() ) {\n            ctGetPixelUrl();\n        } else {\n            initCookies.push(['apbct_pixel_url', ctPublic.pixel__url]);\n        }\n    }\n\n    if ( +ctPublic.data__email_check_before_post) {\n        initCookies.push(['ct_checked_emails', '0']);\n        apbct('input[type = \\'email\\'], #email').on('blur', checkEmail);\n    }\n\n    if ( +ctPublic.data__email_check_exist_post) {\n        initCookies.push(['ct_checked_emails_exist', '0']);\n        apbct('comment-form input[name = \\'email\\'], input#email').on('blur', checkEmailExist);\n    }\n\n    if (apbctLocalStorage.isSet('ct_checkjs')) {\n        initCookies.push(['ct_checkjs', apbctLocalStorage.get('ct_checkjs')]);\n    } else {\n        initCookies.push(['ct_checkjs', 0]);\n    }\n\n    // detect integrated forms that need to be handled via alternative cookies\n    ctDetectForcedAltCookiesForms();\n\n    // send bot detector event token to alt cookies on problem forms\n    let tokenForForceAlt = apbctLocalStorage.get('bot_detector_event_token');\n    if (typeof ctPublic.force_alt_cookies !== 'undefined' &&\n        ctPublic.force_alt_cookies &&\n        ctPublic.settings__data__bot_detector_enabled\n    ) {\n        apbctLocalStorage.set('event_token_forced_set', '0');\n        if (tokenForForceAlt) {\n            initCookies.push(['ct_bot_detector_event_token', tokenForForceAlt]);\n            apbctLocalStorage.set('event_token_forced_set', '1');\n        } else {\n            startForcedAltEventTokenChecker();\n        }\n    }\n\n    ctSetCookie(initCookies);\n\n    setTimeout(function() {\n        if (\n            typeof ctPublic.force_alt_cookies == 'undefined' ||\n            (ctPublic.force_alt_cookies !== 'undefined' && !ctPublic.force_alt_cookies)\n        ) {\n            ctNoCookieAttachHiddenFieldsToForms();\n        }\n\n        if (\n            typeof ctPublic.data__cookies_type !== 'undefined' &&\n            ctPublic.data__cookies_type === 'none'\n        ) {\n            ctAjaxSetupAddCleanTalkDataBeforeSendAjax();\n            ctAddWCMiddlewares();\n        }\n\n        for (let i = 0; i < document.forms.length; i++) {\n            let form = document.forms[i];\n\n            // Exclusion for forms\n            if (ctCheckHiddenFieldsExclusions(document.forms[i], 'visible_fields')) {\n                continue;\n            }\n            if (form.querySelector('input[name=\"wspsc_add_cart_submit\"]') ||\n                form.querySelector('input[name=\"option\"][value=\"com_vikrentcar\"]') ||\n                form.querySelector('input[name=\"option\"][value=\"com_vikbooking\"]')\n            ) {\n                continue;\n            }\n\n            // The Form has hidden field like apbct_visible_fields\n            if (\n                document.forms[i].elements.apbct_visible_fields !== undefined &&\n                document.forms[i].elements.apbct_visible_fields.length > 0\n            ) {\n                continue;\n            }\n\n            if (form.querySelector('input[name=\"apbct_visible_fields\"]')) {\n                let visibleFields = form.querySelector('input[name=\"apbct_visible_fields\"]');\n                form.removeChild(visibleFields);\n            }\n\n            let hiddenInput = document.createElement( 'input' );\n            hiddenInput.setAttribute( 'type', 'hidden' );\n            hiddenInput.setAttribute( 'id', 'apbct_visible_fields_' + i );\n            hiddenInput.setAttribute( 'name', 'apbct_visible_fields');\n            let visibleFieldsToInput = {};\n            visibleFieldsToInput[0] = apbct_collect_visible_fields(form);\n            hiddenInput.value = btoa(JSON.stringify(visibleFieldsToInput));\n            form.append( hiddenInput );\n\n            form.onsubmit_prev = form.onsubmit;\n\n            form.ctFormIndex = i;\n            form.onsubmit = function(event) {\n                if ( ctPublic.data__cookies_type !== 'native' && typeof event.target.ctFormIndex !== 'undefined' ) {\n                    apbct_visible_fields_set_cookie( apbct_collect_visible_fields(this), event.target.ctFormIndex );\n                }\n\n                if (ctPublic.data__cookies_type === 'none' && isFormThatNeedCatchXhr(event.target)) {\n                    window.XMLHttpRequest.prototype.send = function(data) {\n                        let noCookieData = getNoCookieData();\n                        noCookieData = 'data%5Bct_no_cookie_hidden_field%5D=' + noCookieData + '&';\n                        defaultSend.call(this, noCookieData + data);\n                        setTimeout(() => {\n                            window.XMLHttpRequest.prototype.send = defaultSend;\n                        }, 0);\n                    };\n                }\n\n                // Call previous submit action\n                if (event.target.onsubmit_prev instanceof Function && !ctOnsubmitPrevCallExclude(event.target)) {\n                    if (event.target.classList !== undefined && event.target.classList.contains('brave_form_form')) {\n                        event.preventDefault();\n                    }\n                    setTimeout(function() {\n                        event.target.onsubmit_prev.call(event.target, event);\n                    }, 0);\n                }\n            };\n        }\n    }, 1000);\n\n    // Listen clicks on encoded emails\n    let encodedEmailNodes = document.querySelectorAll('[data-original-string]');\n    ctPublic.encodedEmailNodes = encodedEmailNodes;\n    if (encodedEmailNodes.length) {\n        for (let i = 0; i < encodedEmailNodes.length; ++i) {\n            encodedEmailNodes[i].addEventListener('click', ctFillDecodedEmailHandler);\n        }\n    }\n\n    // WordPress Search form processing\n    for (const _form of document.forms) {\n        if (\n            typeof ctPublic !== 'undefined' &&\n            + ctPublic.settings__forms__search_test === 1 &&\n            (\n                _form.getAttribute('id') === 'searchform' ||\n                (_form.getAttribute('class') !== null && _form.getAttribute('class').indexOf('search-form') !== -1) ||\n                (_form.getAttribute('role') !== null && _form.getAttribute('role').indexOf('search') !== -1)\n            )\n        ) {\n            // fibosearch integration\n            if (_form.querySelector('input.dgwt-wcas-search-input')) {\n                continue;\n            }\n\n            if (\n                _form.getAttribute('id') === 'hero-search-form' ||\n                _form.getAttribute('class') === 'hb-booking-search-form'\n            ) {\n                continue;\n            }\n\n            // this handles search forms onsubmit process\n            _form.apbctSearchPrevOnsubmit = _form.onsubmit;\n            _form.onsubmit = (e) => ctSearchFormOnSubmitHandler(e, _form);\n        }\n    }\n\n    // Check any XMLHttpRequest connections\n    apbctCatchXmlHttpRequest();\n\n    // Initializing the collection of user activity\n    new ApbctCollectingUserActivity();\n\n    // Checking that the bot detector has loaded and received the event token for Anti-Crawler\n    if (ctPublic.settings__sfw__anti_crawler) {\n        checkBotDetectorExist();\n    }\n}\n\n/**\n * Checking that the bot detector has loaded and received the event token\n */\nfunction checkBotDetectorExist() {\n    if (+ctPublic.settings__data__bot_detector_enabled) {\n        const botDetectorIntervalSearch = setInterval(() => {\n            let botDetectorEventToken = localStorage.bot_detector_event_token ? true : false;\n\n            if (botDetectorEventToken) {\n                ctSetCookie('apbct_bot_detector_exist', '1', '3600');\n                clearInterval(botDetectorIntervalSearch);\n            }\n        }, 500);\n    }\n}\n\n/**\n * Insert no_cookies_data to rest request\n */\nfunction ctAddWCMiddlewares() {\n    const ctPinDataToRequest = (options, next) => {\n        if (typeof options !== 'object' || options === null ||\n            !options.hasOwnProperty('data') || !options.hasOwnProperty('path')\n        ) {\n            return next(options);\n        }\n\n        // add to cart\n        if (options.data.hasOwnProperty('requests') &&\n            options.data.requests.length > 0 &&\n            options.data.requests[0].hasOwnProperty('path') &&\n            options.data.requests[0].path === '/wc/store/v1/cart/add-item'\n        ) {\n            options.data.requests[0].data.ct_no_cookie_hidden_field = getNoCookieData();\n            options.data.requests[0].data.event_token = localStorage.getItem('bot_detector_event_token');\n        }\n\n        // checkout\n        if (options.path === '/wc/store/v1/checkout') {\n            options.data.ct_no_cookie_hidden_field = getNoCookieData();\n            options.data.event_token = localStorage.getItem('bot_detector_event_token');\n        }\n\n        return next(options);\n    };\n\n    if (window.hasOwnProperty('wp') &&\n        window.wp.hasOwnProperty('apiFetch') &&\n        typeof window.wp.apiFetch.use === 'function'\n    ) {\n        window.wp.apiFetch.use(ctPinDataToRequest);\n    }\n}\n\n/**\n * Insert event_token and no_cookies_data to some ajax request\n */\nfunction apbctCatchXmlHttpRequest() {\n    // 1) Check the page if it needed to catch XHR\n    if (\n        document.querySelector('div.wfu_container') !== null ||\n        document.querySelector('#newAppointmentForm') !== null ||\n        document.querySelector('.booked-calendar-shortcode-wrap') !== null\n    ) {\n        const originalSend = XMLHttpRequest.prototype.send;\n        XMLHttpRequest.prototype.send = function(body) {\n            // 2) Check the caught request fi it needed to modify\n            if (\n                body &&\n                typeof body === 'string' &&\n                (\n                    body.indexOf('action=wfu_ajax_action_ask_server') !== -1 ||\n                    body.indexOf('action=booked_add_appt') !== -1\n                )\n            ) {\n                let addidionalCleantalkData = '';\n                let eventToken = localStorage.getItem('bot_detector_event_token');\n                try {\n                    eventToken = JSON.parse(eventToken);\n                } catch {\n                    eventToken = false;\n                }\n                if (\n                    eventToken !== null &&\n                    eventToken !== false &&\n                    eventToken.hasOwnProperty('value') &&\n                    eventToken.value !== ''\n                ) {\n                    eventToken = eventToken.value;\n                    addidionalCleantalkData += '&' + 'data%5Bct_bot_detector_event_token%5D=' + eventToken;\n                }\n\n                let noCookieData = getNoCookieData();\n                addidionalCleantalkData += '&' + 'data%5Bct_no_cookie_hidden_field%5D=' + noCookieData;\n\n                body += addidionalCleantalkData;\n\n                return originalSend.apply(this, [body]);\n            }\n            return originalSend.apply(this, [body]);\n        };\n    }\n}\n\n/**\n * Prepare jQuery.ajaxSetup to add nocookie data to the jQuery ajax request.\n * Notes:\n * - Do it just once, the ajaxSetup.beforeSend will be overwritten for any calls.\n * - Signs of forms need to be caught will be checked during ajaxSetup.settings.data process on send.\n * - Any sign of the form HTML of the caller is insignificant in this process.\n * @return {void}\n */\nfunction ctAjaxSetupAddCleanTalkDataBeforeSendAjax() {\n    // jquery ajax call intercept\n    // this is the only place where we can found hard dependency on jQuery, if the form use it - the script\n    // will work independing if jQuery is loaded by CleanTalk or not\n    let eventToken = false;\n    if ( typeof jQuery !== 'undefined' && typeof jQuery.ajaxSetup === 'function') {\n        jQuery.ajaxSetup({\n            beforeSend: function(xhr, settings) {\n                let sourceSign = false;\n                // settings data is string (important!)\n                if ( typeof settings.data === 'string' ) {\n                    if (settings.data.indexOf('twt_cc_signup') !== -1) {\n                        sourceSign = 'twt_cc_signup';\n                    }\n\n                    if (settings.data.indexOf('action=mailpoet') !== -1) {\n                        sourceSign = 'action=mailpoet';\n                    }\n\n                    if (\n                        settings.data.indexOf('action=user_registration') !== -1 &&\n                        settings.data.indexOf('ur_frontend_form_nonce') !== -1\n                    ) {\n                        sourceSign = 'action=user_registration';\n                    }\n\n                    if (settings.data.indexOf('action=happyforms_message') !== -1) {\n                        sourceSign = 'action=happyforms_message';\n                    }\n\n                    if (settings.data.indexOf('action=new_activity_comment') !== -1) {\n                        sourceSign = 'action=new_activity_comment';\n                    }\n                }\n                if ( typeof settings.url === 'string' ) {\n                    if (settings.url.indexOf('wc-ajax=add_to_cart') !== -1) {\n                        sourceSign = 'wc-ajax=add_to_cart';\n                        if (localStorage.getItem('bot_detector_event_token') !== null) {\n                            eventToken = localStorage.getItem('bot_detector_event_token');\n                            try {\n                                eventToken = JSON.parse(eventToken);\n                            } catch {\n                                eventToken = false;\n                            }\n                            if (eventToken !== false && eventToken.hasOwnProperty('value') && eventToken.value !== '') {\n                                eventToken = eventToken.value;\n                            }\n                        }\n                    }\n                }\n\n                if (sourceSign) {\n                    let noCookieData = getNoCookieData();\n                    if (typeof eventToken === 'string') {\n                        eventToken = 'data%5Bct_bot_detector_event_token%5D=' + eventToken + '&';\n                    } else {\n                        eventToken = '';\n                    }\n                    noCookieData = 'data%5Bct_no_cookie_hidden_field%5D=' + noCookieData + '&';\n\n                    settings.data = noCookieData + eventToken + settings.data;\n                }\n            },\n        });\n    }\n}\n\n// eslint-disable-next-line require-jsdoc\nfunction ctOnsubmitPrevCallExclude(form) {\n    if (form.classList.contains('hb-booking-search-form')) {\n        return true;\n    }\n\n    return false;\n}\n\nif (ctPublic.data__key_is_ok) {\n    if (document.readyState !== 'loading') {\n        apbct_ready();\n    } else {\n        apbct_attach_event_handler(document, 'DOMContentLoaded', apbct_ready);\n    }\n\n    apbctLocalStorage.set('ct_checkjs', ctPublic.ct_checkjs_key, true );\n}\n\n/**\n * @param {SubmitEvent} e\n * @param {object} targetForm\n */\nfunction ctSearchFormOnSubmitHandler(e, targetForm) {\n    try {\n        // get honeypot field and it's value\n        const honeyPotField = targetForm.querySelector('[name*=\"apbct_email_id__\"]');\n        let hpValue = null;\n        if (\n            honeyPotField !== null &&\n            honeyPotField.value !== null\n        ) {\n            hpValue = honeyPotField.value;\n        }\n\n        // get cookie data from storages\n        let cleantalkStorageDataArray = getCleanTalkStorageDataArray();\n\n        // get event token from storage\n        let eventTokenLocalStorage = apbctLocalStorage.get('bot_detector_event_token');\n\n        // if noCookie data or honeypot data is set, proceed handling\n        if ( cleantalkStorageDataArray !== null || honeyPotField !== null || eventTokenLocalStorage !== null ) {\n            e.preventDefault();\n            const callBack = () => {\n                if (honeyPotField !== null) {\n                    honeyPotField.parentNode.removeChild(honeyPotField);\n                }\n                if (typeof targetForm.apbctSearchPrevOnsubmit === 'function') {\n                    targetForm.apbctSearchPrevOnsubmit();\n                } else {\n                    HTMLFormElement.prototype.submit.call(targetForm);\n                }\n            };\n\n            let cookiesArray = cleantalkStorageDataArray;\n\n            // if honeypot data provided add the fields to the parsed data\n            if ( hpValue !== null ) {\n                cookiesArray.apbct_search_form__honeypot_value = hpValue;\n            }\n\n            // set event token\n            cookiesArray.ct_bot_detector_event_token = eventTokenLocalStorage;\n\n            // if the pixel needs to be decoded\n            if (\n                typeof cookiesArray.apbct_pixel_url === 'string' &&\n                cookiesArray.apbct_pixel_url.indexOf('%3A') !== -1\n            ) {\n                cookiesArray.apbct_pixel_url = decodeURIComponent(cookiesArray.apbct_pixel_url);\n            }\n\n            // data to JSON\n            const parsedCookies = JSON.stringify(cookiesArray);\n\n            // if any data provided, proceed data to xhr\n            if ( typeof parsedCookies !== 'undefined' && parsedCookies.length !== 0 ) {\n                ctSetAlternativeCookie(\n                    parsedCookies,\n                    {callback: callBack, onErrorCallback: callBack, forceAltCookies: true},\n                );\n            } else {\n                callBack();\n            }\n        }\n    } catch (error) {\n        console.warn('APBCT search form onsubmit handler error. ' + error);\n    }\n}\n\n/**\n * @param {mixed} commonCookies\n * @return {string}\n */\nfunction getJavascriptClientData(commonCookies = []) { // eslint-disable-line no-unused-vars\n    let resultDataJson = {};\n\n    resultDataJson.ct_checked_emails = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_checked_emails');\n    resultDataJson.ct_checked_emails_exist = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_checked_emails_exist');\n    resultDataJson.ct_checkjs = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_checkjs');\n    resultDataJson.ct_fkp_timestamp = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_fkp_timestamp');\n    resultDataJson.ct_pointer_data = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_pointer_data');\n    resultDataJson.ct_ps_timestamp = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_ps_timestamp');\n    resultDataJson.ct_screen_info = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_screen_info');\n    resultDataJson.ct_timezone = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_timezone');\n\n    // collecting data from localstorage\n    const ctMouseMovedLocalStorage = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'ct_mouse_moved');\n    const ctHasScrolledLocalStorage = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'ct_has_scrolled');\n    const ctCookiesTypeLocalStorage = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'ct_cookies_type');\n    const apbctPageHits = apbctLocalStorage.get('apbct_page_hits');\n    const apbctPrevReferer = apbctSessionStorage.get('apbct_prev_referer');\n    const apbctSiteReferer = apbctSessionStorage.get('apbct_site_referer');\n    const ctJsErrorsLocalStorage = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'ct_js_errors');\n    const ctPixelUrl = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'apbct_pixel_url');\n    const apbctHeadless = apbctLocalStorage.get(ctPublicFunctions.cookiePrefix + 'apbct_headless');\n    const ctBotDetectorFrontendDataLog = apbctLocalStorage.get(\n        ctPublicFunctions.cookiePrefix + 'ct_bot_detector_frontend_data_log',\n    );\n\n    // collecting data from cookies\n    const ctMouseMovedCookie = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_mouse_moved');\n    const ctHasScrolledCookie = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_has_scrolled');\n    const ctCookiesTypeCookie = ctGetCookie(ctPublicFunctions.cookiePrefix + 'ct_cookies_type');\n    const ctCookiesPixelUrl = ctGetCookie(ctPublicFunctions.cookiePrefix + 'apbct_pixel_url');\n    const apbctHeadlessNative = !!ctGetCookie(ctPublicFunctions.cookiePrefix + 'apbct_headless');\n\n\n    resultDataJson.ct_mouse_moved = ctMouseMovedLocalStorage !== undefined ?\n        ctMouseMovedLocalStorage : ctMouseMovedCookie;\n    resultDataJson.ct_has_scrolled = ctHasScrolledLocalStorage !== undefined ?\n        ctHasScrolledLocalStorage : ctHasScrolledCookie;\n    resultDataJson.ct_cookies_type = ctCookiesTypeLocalStorage !== undefined ?\n        ctCookiesTypeLocalStorage : ctCookiesTypeCookie;\n    resultDataJson.apbct_pixel_url = ctPixelUrl !== undefined ?\n        ctPixelUrl : ctCookiesPixelUrl;\n    resultDataJson.apbct_headless = apbctHeadless !== undefined ?\n        apbctHeadless : apbctHeadlessNative;\n    resultDataJson.ct_bot_detector_frontend_data_log = ctBotDetectorFrontendDataLog !== undefined ?\n        ctBotDetectorFrontendDataLog : '';\n    if (resultDataJson.apbct_pixel_url && typeof(resultDataJson.apbct_pixel_url) == 'string') {\n        if (resultDataJson.apbct_pixel_url.indexOf('%3A%2F')) {\n            resultDataJson.apbct_pixel_url = decodeURIComponent(resultDataJson.apbct_pixel_url);\n        }\n    }\n\n    resultDataJson.apbct_page_hits = apbctPageHits;\n    resultDataJson.apbct_prev_referer = apbctPrevReferer;\n    resultDataJson.apbct_site_referer = apbctSiteReferer;\n    resultDataJson.apbct_ct_js_errors = ctJsErrorsLocalStorage;\n\n    if (!resultDataJson.apbct_pixel_url) {\n        resultDataJson.apbct_pixel_url = ctPublic.pixel__url;\n    }\n\n    if ( typeof (commonCookies) === 'object') {\n        for (let i = 0; i < commonCookies.length; ++i) {\n            if ( typeof (commonCookies[i][1]) === 'object' ) {\n                // this is for handle SFW cookies\n                resultDataJson[commonCookies[i][1][0]] = commonCookies[i][1][1];\n            } else {\n                resultDataJson[commonCookies[i][0]] = commonCookies[i][1];\n            }\n        }\n    } else {\n        console.log('APBCT JS ERROR: Collecting data type mismatch');\n    }\n\n    // Parse JSON properties to prevent double JSON encoding\n    resultDataJson = removeDoubleJsonEncoding(resultDataJson);\n\n\n    return JSON.stringify(resultDataJson);\n}\n\n/**\n * Recursive\n *\n * Recursively decode JSON-encoded properties\n *\n * @param {mixed} object\n * @return {*}\n */\nfunction removeDoubleJsonEncoding(object) {\n    if ( typeof object === 'object') {\n        // eslint-disable-next-line guard-for-in\n        for (let objectKey in object) {\n            // Recursion\n            if ( typeof object[objectKey] === 'object') {\n                object[objectKey] = removeDoubleJsonEncoding(object[objectKey]);\n            }\n\n            // Common case (out)\n            if (\n                typeof object[objectKey] === 'string' &&\n                object[objectKey].match(/^[\\[{].*?[\\]}]$/) !== null // is like JSON\n            ) {\n                const parsedValue = JSON.parse(object[objectKey]);\n                if ( typeof parsedValue === 'object' ) {\n                    object[objectKey] = parsedValue;\n                }\n            }\n        }\n    }\n\n    return object;\n}\n\n// eslint-disable-next-line camelcase,require-jsdoc\nfunction apbct_collect_visible_fields( form ) {\n    // Get only fields\n    let inputs = [];\n    let inputsVisible = '';\n    let inputsVisibleCount = 0;\n    let inputsInvisible = '';\n    let inputsInvisibleCount = 0;\n    let inputsWithDuplicateNames = [];\n\n    for (let key in form.elements) {\n        if (!isNaN(+key)) {\n            inputs[key] = form.elements[key];\n        }\n    }\n\n    // Filter fields\n    inputs = inputs.filter(function(elem) {\n        // Filter already added fields\n        if ( inputsWithDuplicateNames.indexOf( elem.getAttribute('name') ) !== -1 ) {\n            return false;\n        }\n        // Filter inputs with same names for type == radio\n        if ( -1 !== ['radio', 'checkbox'].indexOf( elem.getAttribute('type') )) {\n            inputsWithDuplicateNames.push( elem.getAttribute('name') );\n            return false;\n        }\n        return true;\n    });\n\n    // Visible fields\n    inputs.forEach(function(elem, i, elements) {\n        // Unnecessary fields\n        if (\n            elem.getAttribute('type') === 'submit' || // type == submit\n            elem.getAttribute('name') === null ||\n            elem.getAttribute('name') === 'ct_checkjs'\n        ) {\n            return;\n        }\n        // Invisible fields\n        if (\n            getComputedStyle(elem).display === 'none' || // hidden\n            getComputedStyle(elem).visibility === 'hidden' || // hidden\n            getComputedStyle(elem).opacity === '0' || // hidden\n            elem.getAttribute('type') === 'hidden' // type == hidden\n        ) {\n            if ( elem.classList.contains('wp-editor-area') ) {\n                inputsVisible += ' ' + elem.getAttribute('name');\n                inputsVisibleCount++;\n            } else {\n                inputsInvisible += ' ' + elem.getAttribute('name');\n                inputsInvisibleCount++;\n            }\n            // eslint-disable-next-line brace-style\n        }\n        // Visible fields\n        else {\n            inputsVisible += ' ' + elem.getAttribute('name');\n            inputsVisibleCount++;\n        }\n    });\n\n    inputsInvisible = inputsInvisible.trim();\n    inputsVisible = inputsVisible.trim();\n\n    return {\n        visible_fields: inputsVisible,\n        visible_fields_count: inputsVisibleCount,\n        invisible_fields: inputsInvisible,\n        invisible_fields_count: inputsInvisibleCount,\n    };\n}\n\n// eslint-disable-next-line camelcase,require-jsdoc\nfunction apbct_visible_fields_set_cookie( visibleFieldsCollection, formId ) {\n    let collection = typeof visibleFieldsCollection === 'object' && visibleFieldsCollection !== null ?\n        visibleFieldsCollection : {};\n\n    if ( ctPublic.data__cookies_type === 'native' ) {\n        // eslint-disable-next-line guard-for-in\n        for ( let i in collection ) {\n            if ( i > 10 ) {\n                // Do not generate more than 10 cookies\n                return;\n            }\n            let collectionIndex = formId !== undefined ? formId : i;\n            ctSetCookie('apbct_visible_fields_' + collectionIndex, JSON.stringify( collection[i] ) );\n        }\n    } else {\n        ctSetCookie('apbct_visible_fields', JSON.stringify( collection ) );\n    }\n}\n\n// eslint-disable-next-line camelcase,require-jsdoc,no-unused-vars\nfunction apbct_js_keys__set_input_value(result, data, params, obj) {\n    if ( document.querySelectorAll('[name^=ct_checkjs]').length > 0 ) {\n        let elements = document.querySelectorAll('[name^=ct_checkjs]');\n        for ( let i = 0; i < elements.length; i++ ) {\n            elements[i].value = result.js_key;\n        }\n    }\n}\n\n/**\n * @return {string}\n */\nfunction apbctGetScreenInfo() {\n    return JSON.stringify({\n        fullWidth: document.documentElement.scrollWidth,\n        fullHeight: Math.max(\n            document.body.scrollHeight, document.documentElement.scrollHeight,\n            document.body.offsetHeight, document.documentElement.offsetHeight,\n            document.body.clientHeight, document.documentElement.clientHeight,\n        ),\n        visibleWidth: document.documentElement.clientWidth,\n        visibleHeight: document.documentElement.clientHeight,\n    });\n}\n\n// eslint-disable-next-line require-jsdoc\nfunction ctParseBlockMessage(response) {\n    let msg = '';\n    if (typeof response.apbct !== 'undefined') {\n        response = response.apbct;\n        if (response.blocked) {\n            msg = response.comment;\n        }\n    }\n    if (typeof response.data !== 'undefined') {\n        response = response.data;\n        if (response.message !== undefined) {\n            msg = response.message;\n        }\n    }\n\n    if (msg) {\n        document.dispatchEvent(\n            new CustomEvent( 'apbctAjaxBockAlert', {\n                bubbles: true,\n                detail: {message: msg},\n            } ),\n        );\n\n        // Show the result by modal\n        cleantalkModal.loaded = msg;\n        cleantalkModal.open();\n\n        if (+response.stop_script === 1) {\n            window.stop();\n        }\n    }\n}\n\n// eslint-disable-next-line no-unused-vars,require-jsdoc\nfunction ctSetPixelUrlLocalstorage(ajaxPixelUrl) {\n    // set pixel to the storage\n    ctSetCookie('apbct_pixel_url', ajaxPixelUrl);\n}\n\n// eslint-disable-next-line require-jsdoc\nfunction ctNoCookieConstructHiddenField(type) {\n    let inputType = 'hidden';\n    if (type === 'submit') {\n        inputType = 'submit';\n    }\n    let field = '';\n\n    let noCookieData = getCleanTalkStorageDataArray();\n    noCookieData = JSON.stringify(noCookieData);\n    noCookieData = '_ct_no_cookie_data_' + btoa(noCookieData);\n    field = document.createElement('input');\n    field.setAttribute('name', 'ct_no_cookie_hidden_field');\n    field.setAttribute('value', noCookieData);\n    field.setAttribute('type', inputType);\n    field.classList.add('apbct_special_field');\n    field.classList.add('ct_no_cookie_hidden_field');\n    return field;\n}\n\n/**\n * Retrieves the clentalk \"cookie\" data from starages.\n * Contains {...noCookieDataLocal, ...noCookieDataSession, ...noCookieDataTypo, ...noCookieDataFromUserActivity}.\n * @return {string}\n */\nfunction getCleanTalkStorageDataArray() {\n    let noCookieDataLocal = apbctLocalStorage.getCleanTalkData();\n    let noCookieDataSession = apbctSessionStorage.getCleanTalkData();\n\n    let noCookieDataTypo = {typo: []};\n    if (document.ctTypoData && document.ctTypoData.data) {\n        noCookieDataTypo = {typo: document.ctTypoData.data};\n    }\n\n    let noCookieDataFromUserActivity = {collecting_user_activity_data: []};\n\n    if (document.ctCollectingUserActivityData) {\n        let collectingUserActivityData = JSON.parse(JSON.stringify(document.ctCollectingUserActivityData));\n        noCookieDataFromUserActivity = {collecting_user_activity_data: collectingUserActivityData};\n    }\n\n    return {...noCookieDataLocal, ...noCookieDataSession, ...noCookieDataTypo, ...noCookieDataFromUserActivity};\n}\n\n/**\n * @return {boolean|*}\n */\nfunction ctGetPageForms() {\n    let forms = document.forms;\n    if (forms) {\n        return forms;\n    }\n    return false;\n}\n\n/**\n * Get type of the field should be excluded. Return exclusion signs via object.\n * @param {object} form Form dom object.\n * @return {object} {'no_cookie': 1|0, 'visible_fields': 1|0}\n */\nfunction ctGetHiddenFieldExclusionsType(form) {\n    // visible fields\n    let result = {'no_cookie': 0, 'visible_fields': 0};\n    if (\n        +ctPublic.data__visible_fields_required === 0 ||\n        (form.method.toString().toLowerCase() === 'get' &&\n        form.querySelectorAll('.nf-form-content').length === 0 &&\n        form.id !== 'twt_cc_signup') ||\n        form.classList.contains('slp_search_form') || // StoreLocatorPlus form\n        form.parentElement.classList.contains('mec-booking') ||\n        form.action.toString().indexOf('activehosted.com') !== -1 || // Active Campaign\n        (form.id && form.id === 'caspioform') || // Caspio Form\n        (form.classList && form.classList.contains('tinkoffPayRow')) || // TinkoffPayForm\n        (form.classList && form.classList.contains('give-form')) || // GiveWP\n        (form.id && form.id === 'ult-forgot-password-form') || // ult forgot password\n        (form.id && form.id.toString().indexOf('calculatedfields') !== -1) || // CalculatedFieldsForm\n        (form.id && form.id.toString().indexOf('sac-form') !== -1) || // Simple Ajax Chat\n        (form.id &&\n            form.id.toString().indexOf('cp_tslotsbooking_pform') !== -1) || // WP Time Slots Booking Form\n        (form.name &&\n            form.name.toString().indexOf('cp_tslotsbooking_pform') !== -1) || // WP Time Slots Booking Form\n        form.action.toString() === 'https://epayment.epymtservice.com/epay.jhtml' || // Custom form\n        (form.name && form.name.toString().indexOf('tribe-bar-form') !== -1) || // The Events Calendar\n        (form.id && form.id === 'ihf-login-form') || // Optima Express login\n        (form.id &&\n            form.id === 'subscriberForm' &&\n            form.action.toString().indexOf('actionType=update') !== -1) || // Optima Express update\n        (form.id && form.id === 'ihf-main-search-form') || // Optima Express search\n        (form.id && form.id === 'frmCalc') || // nobletitle-calc\n        form.action.toString().indexOf('property-organizer-delete-saved-search-submit') !== -1 ||\n        form.querySelector('a[name=\"login\"]') !== null // digimember login form\n    ) {\n        result.visible_fields = 1;\n    }\n\n    // ajax search pro exclusion\n    let ncFieldExclusionsSign = form.parentNode;\n    if (\n        ncFieldExclusionsSign && ncFieldExclusionsSign.classList.contains('proinput') ||\n        (form.name === 'options' && form.classList.contains('asp-fss-flex'))\n    ) {\n        result.no_cookie = 1;\n    }\n\n    // woocommerce login form\n    if (\n        form && form.classList.contains('woocommerce-form-login')\n    ) {\n        result.visible_fields = 1;\n        result.no_cookie = 1;\n    }\n\n    return result;\n}\n\n/**\n * Check if the form should be skipped from hidden field attach.\n * Return exclusion description if it is found, false otherwise.\n * @param {object} form Form dom object.\n * @param {string} hiddenFieldType Type of hidden field that needs to be checked.\n * Possible values: 'no_cookie'|'visible_fields'.\n * @return {boolean}\n */\nfunction ctCheckHiddenFieldsExclusions(form, hiddenFieldType) {\n    const formAction = typeof(form.action) == 'string' ? form.action : '';\n    // Ajax Search Lite\n    if (Boolean(form.querySelector('fieldset.asl_sett_scroll'))) {\n        return true;\n    }\n    // Super WooCommerce Product Filter\n    if (form.classList.contains('swpf-instant-filtering')) {\n        return true;\n    }\n    // PayU 3-rd party service forms\n    if (formAction.indexOf('secure.payu.com') !== -1 ) {\n        return true;\n    }\n\n    if (formAction.indexOf('hsforms') !== -1 ) {\n        return true;\n    }\n\n    if (formAction.indexOf('secureinternetbank.com') !== -1 ) {\n        return true;\n    }\n\n    if (typeof (hiddenFieldType) === 'string' &&\n        ['visible_fields', 'no_cookie'].indexOf(hiddenFieldType) !== -1) {\n        const exclusions = ctGetHiddenFieldExclusionsType(form);\n        return exclusions[hiddenFieldType] === 1;\n    }\n\n    return false;\n}\n\n/**\n * ctNoCookieAttachHiddenFieldsToForms\n */\nfunction ctNoCookieAttachHiddenFieldsToForms() {\n    if (ctPublic.data__cookies_type !== 'none') {\n        return;\n    }\n\n    let forms = ctGetPageForms();\n\n    if (forms) {\n        for ( let i = 0; i < forms.length; i++ ) {\n            if ( ctCheckHiddenFieldsExclusions(document.forms[i], 'no_cookie') ) {\n                continue;\n            }\n\n            // ignore forms with get method @todo We need to think about this\n            if (document.forms[i].getAttribute('method') === null ||\n                document.forms[i].getAttribute('method').toLowerCase() === 'post') {\n                // remove old sets\n                let fields = forms[i].querySelectorAll('.ct_no_cookie_hidden_field');\n                for ( let j = 0; j < fields.length; j++ ) {\n                    fields[j].outerHTML = '';\n                }\n                // add new set\n                document.forms[i].append(ctNoCookieConstructHiddenField());\n            }\n        }\n    }\n}\n\nconst defaultFetch = window.fetch;\nconst defaultSend = XMLHttpRequest.prototype.send;\n\nif (document.readyState !== 'loading') {\n    checkFormsExistForCatching();\n} else {\n    apbct_attach_event_handler(document, 'DOMContentLoaded', checkFormsExistForCatching);\n}\n\n/**\n * checkFormsExistForCatching\n */\nfunction checkFormsExistForCatching() {\n    setTimeout(function() {\n        if (isFormThatNeedCatch()) {\n            window.fetch = function(...args) {\n                if (args &&\n                    args[0] &&\n                    typeof args[0].includes === 'function' &&\n                    (args[0].includes('/wp-json/metform/') ||\n                    (ctPublicFunctions._rest_url && (() => {\n                        try {\n                            return args[0].includes(new URL(ctPublicFunctions._rest_url).pathname + 'metform/');\n                        } catch (e) {\n                            return false;\n                        }\n                    })()))\n                ) {\n                    let noCookieData = getNoCookieData();\n\n                    if (args && args[1] && args[1].body) {\n                        args[1].body.append('ct_no_cookie_hidden_field', noCookieData);\n                    }\n                }\n\n                return defaultFetch.apply(window, args);\n            };\n        }\n    }, 1000);\n}\n\n/**\n * @return {boolean}\n */\nfunction isFormThatNeedCatch() {\n    const formClasses = [\n        'metform-form-content',\n    ];\n    let classExists = false;\n\n    const forms = document.forms;\n    for (let form of forms) {\n        formClasses.forEach(function(classForm) {\n            if (form.classList.contains(classForm)) {\n                classExists = true;\n            }\n        });\n    }\n\n    return classExists;\n}\n\n/**\n * @param {HTMLElement} form\n * @return {boolean}\n */\nfunction isFormThatNeedCatchXhr(form) {\n    if (document.querySelector('div.elementor-widget[title=\\'Login/Signup\\']') != null) {\n        return false;\n    }\n    if (form && form.action && form.action.toString().indexOf('mailpoet_subscription_form') !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * @return {string}\n */\nfunction getNoCookieData() {\n    let noCookieDataLocal = apbctLocalStorage.getCleanTalkData();\n    let noCookieDataSession = apbctSessionStorage.getCleanTalkData();\n    let noCookieData = {...noCookieDataLocal, ...noCookieDataSession};\n    noCookieData = JSON.stringify(noCookieData);\n\n    return '_ct_no_cookie_data_' + btoa(noCookieData);\n}\n\n/**\n * Set three statements to the sessions storage: apbct_session_current_page, apbct_prev_referer.\n * @return {void}\n */\nfunction apbctWriteReferrersToSessionStorage() {\n    const sessionCurrentPage = apbctSessionStorage.get('apbct_session_current_page');\n\n    // set session apbct_referer\n    if (sessionCurrentPage!== false && document.location.href !== sessionCurrentPage) {\n        apbctSessionStorage.set('apbct_prev_referer', sessionCurrentPage, false);\n    }\n\n    // set session current page to know referrer\n    apbctSessionStorage.set('apbct_session_current_page', document.location.href, false);\n}\n\n/**\n * WooCommerce add to cart by GET request params collecting\n */\nfunction apbctCheckAddToCartByGet() {\n    // 1) Collect all links with add_to_cart_button class\n    document.querySelectorAll('a.add_to_cart_button:not(.product_type_variable):not(.wc-interactive)').forEach((el) => {\n        el.addEventListener('click', function(e) {\n            let href = el.getAttribute('href');\n            // 2) Add to href attribute additional parameter ct_bot_detector_event_token gathered from apbctLocalStorage\n            let eventToken = apbctLocalStorage.get('bot_detector_event_token');\n            if ( eventToken ) {\n                if ( href.indexOf('?') === -1 ) {\n                    href += '?';\n                } else {\n                    href += '&';\n                }\n                href += 'ct_bot_detector_event_token=' + eventToken;\n                el.setAttribute('href', href);\n            }\n        });\n    });\n}\n\n/* Cleantalk Modal object */\nlet cleantalkModal = {\n\n    // Flags\n    loaded: false,\n    loading: false,\n    opened: false,\n    opening: false,\n    ignoreURLConvert: false,\n\n    // Methods\n    load: function( action ) {\n        if ( ! this.loaded ) {\n            this.loading = true;\n            let callback = function( result, data, params, obj ) {\n                cleantalkModal.loading = false;\n                cleantalkModal.loaded = result;\n                document.dispatchEvent(\n                    new CustomEvent( 'cleantalkModalContentLoaded', {\n                        bubbles: true,\n                    } ),\n                );\n            };\n            // eslint-disable-next-line camelcase\n            if ( typeof apbct_admin_sendAJAX === 'function' ) {\n                apbct_admin_sendAJAX( {'action': action}, {'callback': callback, 'notJson': true} );\n            } else {\n                apbct_public_sendAJAX( {'action': action}, {'callback': callback, 'notJson': true} );\n            }\n        }\n    },\n\n    open: function() {\n        /* Cleantalk Modal CSS start */\n        let renderCss = function() {\n            let cssStr = '';\n            // eslint-disable-next-line guard-for-in\n            for ( const key in this.styles ) {\n                cssStr += key + ':' + this.styles[key] + ';';\n            }\n            return cssStr;\n        };\n        let overlayCss = {\n            styles: {\n                'z-index': '9999999999',\n                'position': 'fixed',\n                'top': '0',\n                'left': '0',\n                'width': '100%',\n                'height': '100%',\n                'background': 'rgba(0,0,0,0.5)',\n                'display': 'flex',\n                'justify-content': 'center',\n                'align-items': 'center',\n            },\n            toString: renderCss,\n        };\n        let innerCss = {\n            styles: {\n                'position': 'relative',\n                'padding': '30px',\n                'background': '#FFF',\n                'border': '1px solid rgba(0,0,0,0.75)',\n                'border-radius': '4px',\n                'box-shadow': '7px 7px 5px 0px rgba(50,50,50,0.75)',\n            },\n            toString: renderCss,\n        };\n        let closeCss = {\n            styles: {\n                'position': 'absolute',\n                'background': '#FFF',\n                'width': '20px',\n                'height': '20px',\n                'border': '2px solid rgba(0,0,0,0.75)',\n                'border-radius': '15px',\n                'cursor': 'pointer',\n                'top': '-8px',\n                'right': '-8px',\n                'box-sizing': 'content-box',\n            },\n            toString: renderCss,\n        };\n        let closeCssBefore = {\n            styles: {\n                'content': '\"\"',\n                'display': 'block',\n                'position': 'absolute',\n                'background': '#000',\n                'border-radius': '1px',\n                'width': '2px',\n                'height': '16px',\n                'top': '2px',\n                'left': '9px',\n                'transform': 'rotate(45deg)',\n            },\n            toString: renderCss,\n        };\n        let closeCssAfter = {\n            styles: {\n                'content': '\"\"',\n                'display': 'block',\n                'position': 'absolute',\n                'background': '#000',\n                'border-radius': '1px',\n                'width': '2px',\n                'height': '16px',\n                'top': '2px',\n                'left': '9px',\n                'transform': 'rotate(-45deg)',\n            },\n            toString: renderCss,\n        };\n        let bodyCss = {\n            styles: {\n                'overflow': 'hidden',\n            },\n            toString: renderCss,\n        };\n        let cleantalkModalStyle = document.createElement( 'style' );\n        cleantalkModalStyle.setAttribute( 'id', 'cleantalk-modal-styles' );\n        cleantalkModalStyle.innerHTML = 'body.cleantalk-modal-opened{' + bodyCss + '}';\n        cleantalkModalStyle.innerHTML += '#cleantalk-modal-overlay{' + overlayCss + '}';\n        cleantalkModalStyle.innerHTML += '#cleantalk-modal-close{' + closeCss + '}';\n        cleantalkModalStyle.innerHTML += '#cleantalk-modal-close:before{' + closeCssBefore + '}';\n        cleantalkModalStyle.innerHTML += '#cleantalk-modal-close:after{' + closeCssAfter + '}';\n        document.body.append( cleantalkModalStyle );\n        /* Cleantalk Modal CSS end */\n\n        let overlay = document.createElement( 'div' );\n        overlay.setAttribute( 'id', 'cleantalk-modal-overlay' );\n        document.body.append( overlay );\n\n        document.body.classList.add( 'cleantalk-modal-opened' );\n\n        let inner = document.createElement( 'div' );\n        inner.setAttribute( 'id', 'cleantalk-modal-inner' );\n        inner.setAttribute( 'style', innerCss );\n        overlay.append( inner );\n\n        let close = document.createElement( 'div' );\n        close.setAttribute( 'id', 'cleantalk-modal-close' );\n        inner.append( close );\n\n        let content = document.createElement( 'div' );\n        if ( this.loaded ) {\n            const urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n            const serviceContentRegex = /.*\\/inc/g;\n            if (serviceContentRegex.test(this.loaded) || this.ignoreURLConvert) {\n                content.innerHTML = this.loaded;\n            } else {\n                content.innerHTML = this.loaded.replace(urlRegex, '<a href=\"$1\" target=\"_blank\">$1</a>');\n            }\n        } else {\n            content.innerHTML = 'Loading...';\n            // @ToDo Here is hardcoded parameter. Have to get this from a 'data-' attribute.\n            this.load( 'get_options_template' );\n        }\n        content.setAttribute( 'id', 'cleantalk-modal-content' );\n        inner.append( content );\n\n        this.opened = true;\n    },\n\n    close: function() {\n        document.body.classList.remove( 'cleantalk-modal-opened' );\n        document.getElementById( 'cleantalk-modal-overlay' ).remove();\n        document.getElementById( 'cleantalk-modal-styles' ).remove();\n        document.dispatchEvent(\n            new CustomEvent( 'cleantalkModalClosed', {\n                bubbles: true,\n            } ),\n        );\n    },\n\n};\n\n/* Cleantalk Modal helpers */\ndocument.addEventListener('click', function( e ) {\n    if ( e.target && (e.target.id === 'cleantalk-modal-overlay' || e.target.id === 'cleantalk-modal-close') ) {\n        cleantalkModal.close();\n    }\n});\ndocument.addEventListener('cleantalkModalContentLoaded', function( e ) {\n    if ( cleantalkModal.opened && cleantalkModal.loaded ) {\n        document.getElementById( 'cleantalk-modal-content' ).innerHTML = cleantalkModal.loaded;\n    }\n});\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    let ctTrpLocalize = undefined;\n    let ctTrpIsAdminCommentsList = false;\n\n    if ( typeof ctPublic !== 'undefined' || typeof ctTrpAdminLocalize !== 'undefined' ) {\n        if ( typeof ctPublic !== 'undefined' && ctPublic.theRealPerson ) {\n            ctTrpLocalize = ctPublic.theRealPerson;\n        }\n        if (\n            typeof ctTrpLocalize === 'undefined' &&\n            typeof ctTrpAdminLocalize !== 'undefined' &&\n            ctTrpAdminLocalize.theRealPerson\n        ) {\n            ctTrpLocalize = ctTrpAdminLocalize.theRealPerson;\n            ctTrpIsAdminCommentsList = true;\n        }\n    }\n\n    if ( ! ctTrpLocalize ) {\n        return;\n    }\n\n    // Selectors. Try to handle the WIDE range of themes.\n    let themesCommentsSelector = '.apbct-trp *[class*=\"comment-author\"]';\n    if ( document.querySelector('.apbct-trp .comment-author .comment-author-link') ) {\n        // For Spacious theme\n        themesCommentsSelector = '.apbct-trp *[class*=\"comment-author-link\"]';\n    }\n    let woocommerceReviewsSelector = '.apbct-trp *[class*=\"review__author\"]';\n    let adminCommentsListSelector = '.apbct-trp td[class*=\"column-author\"] > strong';\n    const trpComments = document.querySelectorAll(\n        themesCommentsSelector + ',' +\n        woocommerceReviewsSelector + ',' +\n        adminCommentsListSelector);\n\n    if ( trpComments.length === 0 ) {\n        return;\n    }\n\n    trpComments.forEach(( element, index ) => {\n        // Exceptions for items that are included in the selection\n        if (\n            typeof pagenow == 'undefined' &&\n            element.parentElement.className.indexOf('group') < 0 &&\n            element.tagName != 'DIV'\n        ) {\n            return;\n        }\n\n        let trpLayout = document.createElement('div');\n        trpLayout.setAttribute('class', 'apbct-real-user-badge');\n\n        let trpImage = document.createElement('img');\n        trpImage.setAttribute('src', ctTrpLocalize.imgPersonUrl);\n        trpImage.setAttribute('class', 'apbct-real-user-popup-img');\n\n        let trpDescription = document.createElement('div');\n        trpDescription.setAttribute('class', 'apbct-real-user-popup');\n\n        let trpDescriptionHeading = document.createElement('p');\n        trpDescriptionHeading.setAttribute('class', 'apbct-real-user-popup-header');\n        trpDescriptionHeading.append(ctTrpLocalize.phrases.trpHeading);\n\n        let trpDescriptionContent = document.createElement('div');\n        trpDescriptionContent.setAttribute('class', 'apbct-real-user-popup-content_row');\n\n        let trpDescriptionContentSpan = document.createElement('span');\n        trpDescriptionContentSpan.append(ctTrpLocalize.phrases.trpContent1 + ' ');\n        trpDescriptionContentSpan.append(ctTrpLocalize.phrases.trpContent2);\n\n        if ( ctTrpIsAdminCommentsList ) {\n            let learnMoreLink = document.createElement('a');\n            learnMoreLink.setAttribute('href', ctTrpLocalize.trpContentLink);\n            learnMoreLink.setAttribute('target', '_blank');\n            learnMoreLink.text = ctTrpLocalize.phrases.trpContentLearnMore;\n            trpDescriptionContentSpan.append(' '); // Need one space\n            trpDescriptionContentSpan.append(learnMoreLink);\n        }\n\n        trpDescriptionContent.append(trpDescriptionContentSpan);\n        trpDescription.append(trpDescriptionHeading, trpDescriptionContent);\n        trpLayout.append(trpImage);\n        element.append(trpLayout);\n        element.append(trpDescription);\n    });\n\n    const badges = document.querySelectorAll('.apbct-real-user-badge');\n\n    badges.forEach((badge) => {\n        let hideTimeout = undefined;\n\n        this.body.addEventListener('click', function(e) {\n            if (\n                e.target.className.indexOf('apbct-real-user') == -1 &&\n                e.target.parentElement.className.indexOf('apbct-real-user') == -1\n            ) {\n                closeAllPopupTRP();\n            }\n        });\n\n        badge.addEventListener('click', function() {\n            const popup = this.nextElementSibling;\n            if (popup && popup.classList.contains('apbct-real-user-popup')) {\n                popup.classList.toggle('visible');\n            }\n        });\n\n        badge.addEventListener('mouseenter', function() {\n            closeAllPopupTRP();\n            const popup = this.nextElementSibling;\n            if (popup && popup.classList.contains('apbct-real-user-popup')) {\n                popup.classList.add('visible');\n            }\n        });\n\n        badge.addEventListener('mouseleave', function() {\n            hideTimeout = setTimeout(() => {\n                const popup = this.nextElementSibling;\n                if (popup && popup.classList.contains('apbct-real-user-popup')) {\n                    popup.classList.remove('visible');\n                }\n            }, 1000);\n        });\n\n        const popup = badge.nextElementSibling;\n        popup.addEventListener('mouseenter', function() {\n            clearTimeout(hideTimeout);\n            popup.classList.add('visible');\n        });\n\n        popup.addEventListener('mouseleave', function() {\n            hideTimeout = setTimeout(() => {\n                if (popup.classList.contains('apbct-real-user-popup')) {\n                    popup.classList.remove('visible');\n                }\n            }, 1000);\n        });\n\n        // For mobile devices\n        badge.addEventListener('touchend', function() {\n            hideTimeout = setTimeout(() => {\n                const popup = this.nextElementSibling;\n                const selection = window.getSelection();\n                // Check if no text is selected\n                if (popup && selection && popup.classList.contains('apbct-real-user-popup') &&\n                    selection.toString().length === 0\n                ) {\n                    popup.classList.remove('visible');\n                } else {\n                    clearTimeout(hideTimeout);\n                    document.addEventListener('selectionchange', function onSelectionChange() {\n                        const selection = window.getSelection();\n                        if (selection && selection.toString().length === 0) {\n                            // Restart the hide timeout when selection is cleared\n                            hideTimeout = setTimeout(() => {\n                                const popup = badge.nextElementSibling;\n                                if (popup && popup.classList.contains('apbct-real-user-popup')) {\n                                    popup.classList.remove('visible');\n                                }\n                            }, 3000);\n                            document.removeEventListener('selectionchange', onSelectionChange);\n                        }\n                    });\n                }\n            }, 3000);\n        });\n    });\n});\n\n/**\n * Closing all TRP popup\n */\nfunction closeAllPopupTRP() {\n    let allDisplayPopup = document.querySelectorAll('.apbct-real-user-popup.visible');\n    if (allDisplayPopup.length > 0) {\n        allDisplayPopup.forEach((element) => {\n            element.classList.remove('visible');\n        });\n    }\n}\n"]}