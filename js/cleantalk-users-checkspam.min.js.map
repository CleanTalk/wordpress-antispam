{"version":3,"file":"cleantalk-users-checkspam.min.js","sources":["cleantalk-users-checkspam.js"],"sourcesContent":["// Printf for JS\r\nString.prototype.printf = function(){\r\n    var formatted = this;\r\n    for( var arg in arguments ) {\r\n\t\tvar before_formatted = formatted.substring(0, formatted.indexOf(\"%s\", 0));\r\n\t\tvar after_formatted  = formatted.substring(formatted.indexOf(\"%s\", 0)+2, formatted.length);\r\n\t\tformatted = before_formatted + arguments[arg] + after_formatted;\r\n    }\r\n    return formatted;\r\n};\r\n\r\n// Set deafult amount to check by request.\r\ndocument.cookie = \"ct_check_users__amount=\" + 100 + \"; path=/; samesite=lax\";\r\n\r\n// Flags\r\nvar ct_working = false,\r\n\tct_new_check = true,\r\n\tct_cooling_down_flag = false,\r\n\tct_close_animate = true,\r\n\tct_accurate_check = false,\r\n\tct_pause = false,\r\n\tct_prev_accurate = ctUsersCheck.ct_prev_accurate,\r\n\tct_prev_from     = ctUsersCheck.ct_prev_from,\r\n\tct_prev_till     = ctUsersCheck.ct_prev_till;\r\n// Settings\r\nvar ct_cool_down_time = 90000,\r\n\tct_requests_counter = 0,\r\n\tct_max_requests = 60;\r\n// Variables\r\nvar ct_ajax_nonce = ctUsersCheck.ct_ajax_nonce,\r\n\tct_users_total = 0,\r\n\tct_users_checked = 0,\r\n\tct_users_spam = 0,\r\n\tct_users_bad = 0,\r\n\tct_unchecked = 'unset',\r\n\tct_date_from = 0,\r\n\tct_date_till = 0;\r\n\r\n/* Function: Reuturns cookie with prefix */\r\nfunction apbct_cookie__get(names, prefixes){\r\n\tvar cookie = {};\r\n\tnames = names || null;\r\n\tif(typeof names == 'string') names = names.split();\r\n\tprefixes = prefixes || ['apbct_', 'ct_'];\r\n\tif(prefixes === 'none')          prefixes = null;\r\n\tif(typeof prefixes == 'string') prefixes = prefixes.split();\r\n\tdocument.cookie.split(';').forEach(function(item, i, arr){\r\n\t\tvar curr = item.trim().split('=');\r\n\t\t// Detect by full cookie name\r\n\t\tif(names){\r\n\t\t\tnames.forEach(function(name, i, all){\r\n\t\t\t\tif(curr[0] === name)\r\n\t\t\t\t\tcookie[curr[0]] = (curr[1]);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// Detect by name prefix\r\n\t\tif(prefixes){\r\n\t\t\tprefixes.forEach(function(prefix, i, all){\r\n\t\t\t\tif(curr[0].indexOf(prefix) === 0)\r\n\t\t\t\t\tcookie[curr[0]] = (curr[1]);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\treturn cookie;\r\n}\r\n\r\nfunction apbct_get_cookie( name ){\r\n\tvar cookie = apbct_cookie__get( name, name );\r\n\tif(typeof cookie === 'object' && typeof cookie[name] != 'undefined'){\r\n\t\treturn cookie[name];\r\n\t}else\r\n\t\treturn null;\r\n}\r\n\r\nfunction animate_comment(to,id){\r\n\tif(ct_close_animate){\r\n\t\tif(to === 0.3){\r\n\t\t\tjQuery('#comment-'+id).fadeTo(200,to,function(){\r\n\t\t\t\tanimate_comment(1,id)\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tjQuery('#comment-'+id).fadeTo(200,to,function(){\r\n\t\t\t\tanimate_comment(0.3,id)\r\n\t\t\t});\r\n\t\t}\r\n\t}else{\r\n\t\tct_close_animate=true;\r\n\t}\r\n}\r\n\r\nfunction ct_clear_users(){\r\n\r\n\tvar from = 0, till = 0;\r\n\tif(jQuery('#ct_allow_date_range').is(':checked')) {\r\n\t\tfrom = jQuery('#ct_date_range_from').val();\r\n\t\ttill = jQuery('#ct_date_range_till').val();\r\n\t}\r\n\r\n\tvar ctSecure = location.protocol === 'https:' ? '; secure' : '';\r\n\tdocument.cookie = 'apbct_check_users_offset' + \"=\" + 0 + \"; path=/; samesite=lax\" + ctSecure;\r\n\r\n\tvar data = {\r\n\t\t'action'   : 'ajax_clear_users',\r\n\t\t'security' : ct_ajax_nonce,\r\n\t\t'from'     : from,\r\n\t\t'till'     : till,\r\n\t\t'no_cache': Math.random()\r\n\t};\r\n\r\n\tjQuery.ajax({\r\n\t\ttype: \"POST\",\r\n\t\turl: ajaxurl,\r\n\t\tdata: data,\r\n\t\tsuccess: function(msg){\r\n\t\t\tct_show_users_info();\r\n\t\t\tct_send_users();\r\n\t\t}\r\n\t});\r\n\r\n}\r\n\r\n//Continues the check after cooldown time\r\n//Called by ct_send_users();\r\nfunction ct_cooling_down_toggle(){\r\n\tct_cooling_down_flag = false;\r\n\tct_send_users();\r\n\tct_show_users_info();\r\n}\r\n\r\nfunction ct_send_users(){\r\n\r\n\tif(ct_cooling_down_flag === true)\r\n\t\treturn;\r\n\tif (ct_pause === true) {\r\n\t\tct_working=false;\r\n\t\tjQuery('#ct_working_message').hide();\r\n\t\tlet new_href = 'users.php?page=ct_check_users&ct_worked=1';\r\n\t\tif(ct_date_from !== 0 && ct_date_till !== 0)\r\n\t\t\tnew_href+='&from='+ct_date_from+'&till='+ct_date_till;\r\n\t\tlocation.href = new_href;\r\n\t\treturn;\r\n\t}\r\n\r\n\tif(ct_requests_counter >= ct_max_requests){\r\n\t\tsetTimeout(ct_cooling_down_toggle, ct_cool_down_time);\r\n\t\tct_requests_counter = 0;\r\n\t\tct_cooling_down_flag = true;\r\n\t\treturn;\r\n\t}else{\r\n\t\tct_requests_counter++;\r\n\t}\r\n\r\n\tvar check_amount = apbct_get_cookie('ct_check_users__amount');\r\n\r\n\tvar data = {\r\n\t\taction: 'ajax_check_users',\r\n\t\tsecurity: ct_ajax_nonce,\r\n\t\tnew_check: ct_new_check,\r\n\t\tunchecked: ct_unchecked,\r\n\t\tamount: check_amount,\r\n\t\t'no_cache': Math.random(),\r\n\t\t'offset' : Number(getCookie('apbct_check_users_offset'))\r\n\t};\r\n\r\n\tif(ct_accurate_check)\r\n\t\tdata['accurate_check'] = true;\r\n\r\n\tif(ct_date_from && ct_date_till){\r\n\t\tdata['from'] = ct_date_from;\r\n\t\tdata['till'] = ct_date_till;\r\n\t}\r\n\r\n\tjQuery.ajax({\r\n\t\ttype: \"POST\",\r\n\t\turl: ajaxurl,\r\n\t\tdata: data,\r\n\t\tsuccess: function(msg){\r\n\r\n\t\t\tmsg = jQuery.parseJSON(msg);\r\n\r\n\t\t\tif(parseInt(msg.error)){\r\n\t\t\t\tct_working=false;\r\n\t\t\t\tif(!confirm(msg.error_message+\". Do you want to proceed?\")){\r\n\t\t\t\t\tvar new_href = 'users.php?page=ct_check_users';\r\n\t\t\t\t\tif(ct_date_from != 0 && ct_date_till != 0)\r\n\t\t\t\t\t\tnew_href+='&from='+ct_date_from+'&till='+ct_date_till;\r\n\t\t\t\t\tlocation.href = new_href;\r\n\t\t\t\t}else\r\n\t\t\t\t\tct_send_users();\r\n\t\t\t}else{\r\n\t\t\t\tct_new_check = false;\r\n\t\t\t\tif(parseInt(msg.end) == 1){\r\n\t\t\t\t\tif(parseInt(msg.end) == 1)\r\n\t\t\t\t\t\tdocument.cookie = 'ct_paused_users_check=0; path=/; samesite=lax';\r\n\t\t\t\t\tct_working=false;\r\n\t\t\t\t\tjQuery('#ct_working_message').hide();\r\n\t\t\t\t\tvar new_href = 'users.php?page=ct_check_users&ct_worked=1';\r\n\t\t\t\t\tif(ct_date_from != 0 && ct_date_till != 0)\r\n\t\t\t\t\t\tnew_href+='&from='+ct_date_from+'&till='+ct_date_till;\r\n\t\t\t\t\tlocation.href = new_href;\r\n\t\t\t\t}else if(parseInt(msg.end) == 0){\r\n\t\t\t\t\tct_users_checked = parseInt( ct_users_checked ) + parseInt( msg.checked );\r\n\t\t\t\t\tct_users_spam    = parseInt( ct_users_spam ) + parseInt (msg.spam );\r\n\t\t\t\t\tct_users_bad     = parseInt( msg.bad );\r\n\t\t\t\t\tct_unchecked     = ct_users_total - ct_users_checked - ct_users_bad;\r\n\t\t\t\t\tvar status_string = String(ctUsersCheck.ct_status_string);\r\n\t\t\t\t\tstatus_string = status_string.printf(ct_users_checked, ct_users_spam, ct_users_bad);\r\n\t\t\t\t\tif(parseInt(ct_users_spam) > 0)\r\n\t\t\t\t\t\tstatus_string += ctUsersCheck.ct_status_string_warning;\r\n\t\t\t\t\tjQuery('#ct_checking_status').html(status_string);\r\n\t\t\t\t\tjQuery('#ct_error_message').hide();\r\n\r\n\t\t\t\t\tvar offset = Number(getCookie('apbct_check_users_offset')) + 100;\r\n\t\t\t\t\tvar ctSecure = location.protocol === 'https:' ? '; secure' : '';\r\n\t\t\t\t\tdocument.cookie = 'apbct_check_users_offset' + \"=\" + offset + \"; path=/; samesite=lax\" + ctSecure;\r\n\r\n\t\t\t\t\tct_send_users();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n        error: function(jqXHR, textStatus, errorThrown) {\r\n\t\t\tif(check_amount > 20){\r\n\t\t\t\tcheck_amount -= 20;\r\n\t\t\t\tdocument.cookie = \"ct_check_users__amount=\" + check_amount + \"; path=/; samesite=lax\";\r\n\t\t\t}\r\n\t\t\tjQuery('#ct_error_message').show();\r\n\t\t\tjQuery('#cleantalk_ajax_error').html(textStatus);\r\n\t\t\tjQuery('#cleantalk_js_func').html('Check users');\r\n\t\t\tsetTimeout(ct_send_users(), 3000);\r\n        },\r\n        timeout: 25000\r\n\t});\r\n}\r\nfunction ct_show_users_info(){\r\n\r\n\tif( ct_working ){\r\n\r\n\t\tif(ct_cooling_down_flag === true){\r\n\t\t\tjQuery('#ct_cooling_notice').html('Waiting for API to cool down. (About a minute)').show();\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\tjQuery('#ct_cooling_notice').hide();\r\n\t\t}\r\n\r\n\t\tif( ! ct_users_total ){\r\n\r\n\t\t\tvar data = {\r\n\t\t\t\t'action': 'ajax_info_users',\r\n\t\t\t\t'security': ct_ajax_nonce,\r\n\t\t\t\t'no_cache': Math.random()\r\n\t\t\t};\r\n\r\n\t\t\tif( ct_date_from && ct_date_till ){\r\n\t\t\t\tdata['from'] = ct_date_from;\r\n\t\t\t\tdata['till'] = ct_date_till;\r\n\t\t\t}\r\n\r\n\t\t\tjQuery.ajax({\r\n\t\t\t\ttype: \"POST\",\r\n\t\t\t\turl: ajaxurl,\r\n\t\t\t\tdata: data,\r\n\t\t\t\tsuccess: function(msg){\r\n\t\t\t\t\tmsg = jQuery.parseJSON(msg);\r\n\t\t\t\t\tjQuery('#ct_checking_status').html(msg.message);\r\n\t\t\t\t\tct_users_spam    = msg.spam;\r\n\t\t\t\t\tct_users_checked = msg.checked;\r\n\t\t\t\t\tct_users_bad     = msg.bad;\r\n\t\t\t\t},\r\n\t\t\t\terror: function (jqXHR, textStatus, errorThrown){\r\n\t\t\t\t\tjQuery('#ct_error_message').show();\r\n\t\t\t\t\tjQuery('#cleantalk_ajax_error').html(textStatus);\r\n\t\t\t\t\tjQuery('#cleantalk_js_func').html('Show users');\r\n\t\t\t\t\tsetTimeout(ct_show_users_info(), 3000);\r\n\t\t\t\t},\r\n\t\t\t\ttimeout: 15000\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n// Function to toggle dependences\r\nfunction ct_toggle_depended(obj, secondary){\r\n\r\n    secondary = secondary || null;\r\n\r\n\tvar depended = jQuery(obj.data('depended')),\r\n\t\tstate = obj.data('state');\r\n\r\n\tif(!state && !secondary){\r\n\t\tobj.data('state', true);\r\n\t\tdepended.removeProp('disabled');\r\n\t}else{\r\n\t\tobj.data('state', false);\r\n\t\tdepended.prop('disabled', true);\r\n\t\tdepended.removeProp('checked');\r\n\t\tif(depended.data('depended'))\r\n\t\t\tct_toggle_depended(depended, true);\r\n\t}\r\n}\r\n\r\n// Main function of checking\r\nfunction ct_start_check( continue_check ){\r\n\r\n\tcontinue_check = continue_check || null;\r\n\r\n\tif(jQuery('#ct_allow_date_range').is(':checked')){\r\n\r\n\t\tct_date_from = jQuery('#ct_date_range_from').val();\r\n\t\tct_date_till = jQuery('#ct_date_range_till').val();\r\n\r\n\t\tif(!(ct_date_from !== '' && ct_date_till !== '')){\r\n\t\t\talert(ctUsersCheck.ct_specify_date_range);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tif(jQuery('#ct_accurate_check').is(':checked')){\r\n\t\tct_accurate_check = true;\r\n\t}\r\n\r\n\t//\r\n\tif (\r\n\t\tjQuery('#ct_accurate_check').is(':checked') &&\r\n\t\t! jQuery('#ct_allow_date_range').is(':checked')\r\n\t) {\r\n\t\talert(ctUsersCheck.ct_select_date_range);\r\n\t\treturn;\r\n\t}\r\n\r\n\tjQuery('.ct_to_hide').hide();\r\n\tjQuery('#ct_working_message').show();\r\n\tjQuery('#ct_preloader').show();\r\n\tjQuery('#ct_pause').show();\r\n\r\n\tct_working = true;\r\n\r\n\tif( continue_check ){\r\n\t\tct_show_users_info();\r\n\t\tct_send_users();\r\n\t} else {\r\n\t\tct_clear_users();\r\n\t}\r\n\r\n}\r\n\r\nfunction ct_delete_all_users( e ){\r\n\r\n\tvar data = {\r\n\t\t'action': 'ajax_delete_all_users',\r\n\t\t'security': ct_ajax_nonce,\r\n\t\t'no_cache': Math.random()\r\n\t};\r\n\r\n\tjQuery('.' + e.target.id).addClass('disabled');\r\n\tjQuery('.spinner').css('visibility', 'visible');\r\n\tjQuery.ajax({\r\n\t\ttype: \"POST\",\r\n\t\turl: ajaxurl,\r\n\t\tdata: data,\r\n\t\tsuccess: function( msg ){\r\n\t\t\tif( msg > 0 ){\r\n\t\t\t\tjQuery('#cleantalk_users_left').html(msg);\r\n\t\t\t\tct_delete_all_users( e, data );\r\n\t\t\t}else{\r\n\t\t\t\tjQuery('.' + e.target.id).removeClass('disabled');\r\n\t\t\t\tjQuery('.spinner').css('visibility', 'hidden');\r\n\t\t\t\tlocation.href='users.php?page=ct_check_users';\r\n\t\t\t}\r\n\t\t},\r\n\t\terror: function(jqXHR, textStatus, errorThrown) {\r\n\t\t\tjQuery('#ct_error_message').show();\r\n\t\t\tjQuery('#cleantalk_ajax_error').html(textStatus);\r\n\t\t\tjQuery('#cleantalk_js_func').html('All users deleteion');\r\n\t\t\tsetTimeout(ct_delete_all_users( e ), 3000);\r\n\t\t},\r\n\t\ttimeout: 25000\r\n\t});\r\n}\r\n\r\njQuery(document).ready(function(){\r\n\r\n\t// Setting dependences\r\n\r\n\t// Prev check parameters\r\n\tif(ct_prev_accurate){\r\n\t\tjQuery(\"#ct_accurate_check\").prop('checked', true);\r\n\t}\r\n\tif(ct_prev_from){\r\n\t\tjQuery(\"#ct_allow_date_range\").prop('checked', true).data('state', true);\r\n\t\tjQuery(\"#ct_date_range_from\").removeProp('disabled').val(ct_prev_from);\r\n\t\tjQuery(\"#ct_date_range_till\").removeProp('disabled').val(ct_prev_till);\r\n\t}\r\n\r\n\t// Toggle dependences\r\n\tjQuery(\"#ct_allow_date_range\").on('change', function(){\r\n\t\tdocument.cookie = 'ct_users_dates_from='+ jQuery('#ct_date_range_from').val() +'; path=/; samesite=lax';\r\n\t\tdocument.cookie = 'ct_users_dates_till='+ jQuery('#ct_date_range_till').val() +'; path=/; samesite=lax';\r\n\t\tif( this.checked ) {\r\n\t\t\tdocument.cookie = 'ct_users_dates_allowed=1; path=/; samesite=lax';\r\n\t\t\tjQuery('.ct_date').prop('checked', true).attr('disabled',false);\r\n\t\t} else {\r\n\t\t\tdocument.cookie = 'ct_users_dates_allowed=0; path=/; samesite=lax';\r\n\t\t\tjQuery('.ct_date').prop('disabled', true).attr('disabled',true);\r\n\t\t}\r\n\t});\r\n\r\n\tjQuery.datepicker.setDefaults(jQuery.datepicker.regional['en']);\r\n\tvar dates = jQuery('#ct_date_range_from, #ct_date_range_till').datepicker(\r\n\t\t{\r\n\t\t\tdateFormat: 'M d yy',\r\n\t\t\tmaxDate:\"+0D\",\r\n\t\t\tchangeMonth:true,\r\n\t\t\tchangeYear:true,\r\n\t\t\tshowAnim: 'slideDown',\r\n\t\t\tonSelect: function(selectedDate){\r\n\t\t\tvar option = this.id == \"ct_date_range_from\" ? \"minDate\" : \"maxDate\",\r\n\t\t\t\tinstance = jQuery( this ).data( \"datepicker\" ),\r\n\t\t\t\tdate = jQuery.datepicker.parseDate(\r\n\t\t\t\t\tinstance.settings.dateFormat || jQuery.datepicker._defaults.dateFormat,\r\n\t\t\t\t\tselectedDate, instance.settings);\r\n\t\t\t\tdates.not(this).datepicker(\"option\", option, date);\r\n\t\t\t\tdocument.cookie = 'ct_users_dates_from='+ jQuery('#ct_date_range_from').val() +'; path=/; samesite=lax';\r\n\t\t\t\tdocument.cookie = 'ct_users_dates_till='+ jQuery('#ct_date_range_till').val() +'; path=/; samesite=lax';\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\t// Check users\r\n\tjQuery(\"#ct_check_spam_button\").click(function(){\r\n\t\tdocument.cookie = 'ct_paused_users_check=0; path=/; samesite=lax';\r\n\t\tct_pause = false;\r\n\r\n\t\t//\r\n\r\n\r\n\t\tct_start_check(false);\r\n\t});\r\n\tjQuery(\"#ct_proceed_check_button\").click(function(){\r\n\t\tct_pause = false;\r\n\t\tct_start_check(true);\r\n\t});\r\n\r\n\t// Pause the check\r\n\tjQuery('#ct_pause').on('click', function(){\r\n\t\tct_pause = true;\r\n\t\tvar ct_check = {\r\n\t\t\t'accurate': ct_accurate_check,\r\n\t\t\t'from'    : ct_date_from,\r\n\t\t\t'till'    : ct_date_till\r\n\t\t};\r\n\t\tdocument.cookie = 'ct_paused_users_check=' + JSON.stringify(ct_check) + '; path=/; samesite=lax';\r\n\t});\r\n\r\n\t//Approve button\r\n\tjQuery(\".cleantalk_delete_from_list_button\").click(function(){\r\n\t\tct_id = jQuery(this).attr(\"data-id\");\r\n\r\n\t\t// Approving\r\n\t\tvar data = {\r\n\t\t\t'action': 'ajax_ct_approve_user',\r\n\t\t\t'security': ct_ajax_nonce,\r\n\t\t\t'id': ct_id,\r\n\t\t\t'no_cache': Math.random()\r\n\t\t};\r\n\t\tjQuery.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: ajaxurl,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(msg){\r\n\t\t\t\tjQuery(\"#comment-\"+ct_id).fadeOut('slow', function(){\r\n\t\t\t\t\tjQuery(\"#comment-\"+ct_id).remove();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t// Positive feedback\r\n\t\tvar data = {\r\n\t\t\t'action': 'ct_feedback_user',\r\n\t\t\t'security': ct_ajax_nonce,\r\n\t\t\t'user_id': ct_id,\r\n\t\t\t'status': 'approve',\r\n\t\t\t'no_cache': Math.random()\r\n\t\t};\r\n\t\tjQuery.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: ajaxurl,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(msg){\r\n\t\t\t\tif(msg == 1){\r\n\t\t\t\t\t// Success\r\n\t\t\t\t}\r\n\t\t\t\tif(msg == 0){\r\n\t\t\t\t\t// Error occurred\r\n\t\t\t\t}\r\n\t\t\t\tif(msg == 'no_hash'){\r\n\t\t\t\t\t// No hash\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: function(jqXHR, textStatus, errorThrown) {\r\n\r\n\t\t\t},\r\n\t\t\ttimeout: 5000\r\n\t\t});\r\n\r\n\t});\r\n\r\n\t// Request to Download CSV file.\r\n\tjQuery(\".ct_get_csv_file\").click(function( e ){\r\n\t\tvar data = {\r\n\t\t\t'action': 'ajax_ct_get_csv_file',\r\n\t\t\t'security': ct_ajax_nonce,\r\n\t\t\t'filename': ctUsersCheck.ct_csv_filename,\r\n\t\t\t'no_cache': Math.random()\r\n\t\t};\r\n\t\tjQuery('.' + e.target.id).addClass('disabled');\r\n\t\tjQuery('.spinner').css('visibility', 'visible');\r\n\t\tjQuery.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: ajaxurl,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(msg){\r\n\t\t\t\tif( parseInt(msg) === 0 ) {\r\n\t\t\t\t\talert(ctUsersCheck.ct_bad_csv);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar url = URL.createObjectURL(new Blob([msg]));\r\n\r\n\t\t\t\t\tvar dummy = document.createElement('a');\r\n\t\t\t\t\tdummy.href = url;\r\n\t\t\t\t\tdummy.download = ctUsersCheck.ct_csv_filename + '.csv';\r\n\r\n\t\t\t\t\tdocument.body.appendChild(dummy);\r\n\t\t\t\t\tdummy.click();\r\n\t\t\t\t}\r\n\t\t\t\tjQuery('.' + e.target.id).removeClass('disabled');\r\n\t\t\t\tjQuery('.spinner').css('visibility', 'hidden');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t// Delete inserted users\r\n\tjQuery(\".ct_insert_users\").click(function( e ){\r\n\t\tct_insert_users();\r\n\t});\r\n\r\n\t// Insert users\r\n\tjQuery(\".ct_insert_users__delete\").click(function( e ){\r\n\t\tct_insert_users( true );\r\n\t});\r\n\r\n\t// Delete all spam users\r\n\tjQuery(\".ct_delete_all_users\").click(function( e ){\r\n\r\n\t\tif ( ! confirm( ctUsersCheck.ct_confirm_deletion_all ) )\r\n\t\t\treturn false;\r\n\r\n\t\tct_delete_all_users( e );\r\n\r\n\t});\r\n\r\n\tfunction ct_insert_users(delete_accounts){\r\n\r\n\t\tdelete_accounts = delete_accounts || null;\r\n\r\n\t\tvar data = {\r\n\t\t\t'action': 'ajax_insert_users',\r\n\t\t\t'security': ct_ajax_nonce,\r\n\t\t\t'no_cache': Math.random()\r\n\t\t};\r\n\r\n\t\tif(delete_accounts)\r\n\t\t\tdata['delete'] = true;\r\n\r\n\t\tlet waitingPopup = document.createElement('div');\r\n\t\twaitingPopup.setAttribute('class', 'apbct-popup');\r\n\t\twaitingPopup.setAttribute('id', 'apbct_popup');\r\n\t\twaitingPopup.setAttribute('style', 'font-size: 20px');\r\n\t\twaitingPopup.innerText = 'Wait for users handling!..'\r\n\t\tdocument.body.append(waitingPopup);\r\n\t\tdocument.body.classList.add('apbct-popup-fade');\r\n\r\n\t\tjQuery.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: ajaxurl,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(msg){\r\n\t\t\t\tif(delete_accounts)\r\n\t\t\t\t\talert('Deleted ' + msg + ' users');\r\n\t\t\t\telse\r\n\t\t\t\t\talert('Inserted ' + msg + ' users');\r\n\t\t\t\tjQuery('#apbct_popup')[0].remove()\r\n\t\t\t\tdocument.body.classList.remove('apbct-popup-fade');\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Checked ct_accurate_check\r\n\t */\r\n\tjQuery('#ct_accurate_check').change(function () {\r\n\t\tif(this.checked) {\r\n\t\t\tjQuery('#ct_allow_date_range').prop('checked', true);\r\n\t\t\tjQuery('.ct_date').prop('checked', true).attr('disabled',false);\r\n\t\t}\r\n\t});\r\n});\r\n\r\n/**\r\n * Get cookie by name\r\n * @param name\r\n * @returns {string|undefined}\r\n */\r\nfunction getCookie(name) {\r\n\tlet matches = document.cookie.match(new RegExp(\r\n\t\t\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n\t));\r\n\treturn matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\n// Binds the bulk action events to the submit buttons.\r\n// This code has been copied from wordpress core js file wp-admin/js/media.js:184\r\njQuery( '#doaction' ).on( 'click', function( event ) {\r\n\t/*\r\n     * Handle the bulk action based on its value.\r\n     */\r\n\tjQuery( 'select[name=\"action\"]' ).each( function() {\r\n\t\tvar optionValue = jQuery( this ).val();\r\n\t\tif ( 'delete' === optionValue ) {\r\n\t\t\tif ( ! showNotice.warn() ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n"],"names":["String","prototype","printf","arg","formatted","this","arguments","before_formatted","substring","indexOf","after_formatted","length","ct_working","document","cookie","ct_new_check","ct_cooling_down_flag","ct_close_animate","ct_accurate_check","ct_pause","ct_prev_accurate","ctUsersCheck","ct_prev_from","ct_prev_till","ct_cool_down_time","ct_requests_counter","ct_max_requests","ct_ajax_nonce","ct_users_total","ct_users_checked","ct_users_spam","ct_users_bad","ct_unchecked","ct_date_from","ct_date_till","apbct_cookie__get","names","prefixes","split","forEach","item","i","arr","curr","trim","name","all","prefix","apbct_get_cookie","animate_comment","to","id","jQuery","fadeTo","ct_clear_users","from","till","ctSecure","is","val","location","protocol","data","action","security","no_cache","Math","random","ajax","type","url","ajaxurl","success","msg","ct_show_users_info","ct_send_users","ct_cooling_down_toggle","hide","let","new_href","href","check_amount","setTimeout","new_check","unchecked","amount","offset","Number","getCookie","parseJSON","parseInt","error","confirm","error_message","end","checked","spam","bad","status_string","ct_status_string","ct_status_string_warning","html","jqXHR","textStatus","errorThrown","show","timeout","message","ct_toggle_depended","obj","secondary","depended","prop","removeProp","ct_start_check","continue_check","alert","ct_specify_date_range","ct_select_date_range","ct_delete_all_users","e","target","addClass","css","removeClass","matches","match","RegExp","replace","decodeURIComponent","undefined","ready","on","attr","datepicker","setDefaults","regional","dates","dateFormat","maxDate","changeMonth","changeYear","showAnim","onSelect","selectedDate","option","instance","date","parseDate","settings","_defaults","not","ct_insert_users","delete_accounts","waitingPopup","createElement","setAttribute","innerText","body","append","classList","add","remove","window","reload","click","ct_check","accurate","JSON","stringify","ct_id","fadeOut","user_id","status","filename","ct_csv_filename","dummy","ct_bad_csv","URL","createObjectURL","Blob","download","appendChild","ct_confirm_deletion_all","change","event","each","showNotice","warn","preventDefault"],"mappings":"AACAA,OAAOC,UAAUC,OAAS,WACtB,IACSC,EADLC,EAAYC,KAChB,IAASF,KAAOG,UAClB,IAAIC,EAAmBH,EAAUI,UAAU,EAAGJ,EAAUK,QAAQ,KAAM,CAAC,CAAC,EACpEC,EAAmBN,EAAUI,UAAUJ,EAAUK,QAAQ,KAAM,CAAC,EAAE,EAAGL,EAAUO,MAAM,EACzFP,EAAYG,EAAmBD,UAAUH,GAAOO,EAE9C,OAAON,CACX,EAMA,IAAIQ,WAAa,EAHjBC,SAASC,OAAS,oDAIjBC,aAAe,CAAA,EACfC,qBAAuB,CAAA,EACvBC,iBAAmB,CAAA,EACnBC,kBAAoB,CAAA,EACpBC,SAAW,CAAA,EACXC,iBAAmBC,aAAaD,iBAChCE,aAAmBD,aAAaC,aAChCC,aAAmBF,aAAaE,aAE7BC,kBAAoB,IACvBC,oBAAsB,EACtBC,gBAAkB,GAEfC,cAAgBN,aAAaM,cAChCC,eAAiB,EACjBC,iBAAmB,EACnBC,cAAgB,EAChBC,aAAe,EACfC,aAAe,QACfC,aAAe,EACfC,aAAe,EAGhB,SAASC,kBAAkBC,EAAOC,GACjC,IAAIvB,EAAS,GAuBb,MArBmB,UAAhB,OADHsB,EAAQA,GAAS,QACYA,EAAQA,EAAME,MAAM,GAG3B,UAAnB,OAD8BD,EAAjB,UADhBA,EAAWA,GAAY,CAAC,SAAU,QACU,KAClCA,KAAsBA,EAAWA,EAASC,MAAM,GAC1DzB,SAASC,OAAOwB,MAAM,GAAG,EAAEC,QAAQ,SAASC,EAAMC,EAAGC,GACpD,IAAIC,EAAOH,EAAKI,KAAK,EAAEN,MAAM,GAAG,EAE7BF,GACFA,EAAMG,QAAQ,SAASM,EAAMJ,EAAGK,GAC5BH,EAAK,KAAOE,IACd/B,EAAO6B,EAAK,IAAOA,EAAK,GAC1B,CAAC,EAGCN,GACFA,EAASE,QAAQ,SAASQ,EAAQN,EAAGK,GACL,IAA5BH,EAAK,GAAGlC,QAAQsC,CAAM,IACxBjC,EAAO6B,EAAK,IAAOA,EAAK,GAC1B,CAAC,CAEH,CAAC,EACM7B,CACR,CAEA,SAASkC,iBAAkBH,GAC1B,IAAI/B,EAASqB,kBAAmBU,EAAMA,CAAK,EAC3C,MAAqB,UAAlB,OAAO/B,GAA8C,KAAA,IAAhBA,EAAO+B,GACvC/B,EAAO+B,GAEP,IACT,CAEA,SAASI,gBAAgBC,EAAGC,GACxBlC,iBACQ,KAAPiC,EACFE,OAAO,YAAYD,CAAE,EAAEE,OAAO,IAAIH,EAAG,WACpCD,gBAAgB,EAAEE,CAAE,CACrB,CAAC,EAEDC,OAAO,YAAYD,CAAE,EAAEE,OAAO,IAAIH,EAAG,WACpCD,gBAAgB,GAAIE,CAAE,CACvB,CAAC,EAGFlC,iBAAiB,CAAA,CAEnB,CAEA,SAASqC,iBAER,IAAIC,EAAO,EAAGC,EAAO,EAMjBC,GALDL,OAAO,sBAAsB,EAAEM,GAAG,UAAU,IAC9CH,EAAOH,OAAO,qBAAqB,EAAEO,IAAI,EACzCH,EAAOJ,OAAO,qBAAqB,EAAEO,IAAI,GAGL,WAAtBC,SAASC,SAAwB,WAAa,IAGzDC,GAFJjD,SAASC,OAAS,mDAAkE2C,EAEzE,CACVM,OAAa,mBACbC,SAAarC,cACb4B,KAAaA,EACbC,KAAaA,EACbS,SAAYC,KAAKC,OAAO,CACzB,GAEAf,OAAOgB,KAAK,CACXC,KAAM,OACNC,IAAKC,QACLT,KAAMA,EACNU,QAAS,SAASC,GACjBC,mBAAmB,EACnBC,cAAc,CACf,CACD,CAAC,CAEF,CAIA,SAASC,yBACR5D,qBAAuB,CAAA,EACvB2D,cAAc,EACdD,mBAAmB,CACpB,CAEA,SAASC,gBAER,GAA4B,CAAA,IAAzB3D,qBAEH,GAAiB,CAAA,IAAbG,SAAmB,CACtBP,WAAW,CAAA,EACXwC,OAAO,qBAAqB,EAAEyB,KAAK,EACnCC,IAAIC,EAAW,4CACK,IAAjB9C,cAAuC,IAAjBC,eACxB6C,GAAU,SAAS9C,aAAa,SAASC,cAD1C,KAEA0B,SAASoB,KAAOD,EAEjB,KARA,CAUA,IASIE,EAEAnB,EAXsBpC,iBAAvBD,qBACFyD,WAAWN,uBAAwBpD,iBAAiB,EAEpDR,qBAAuB,EADvBS,oBAAsB,KAItBA,mBAAmB,GAGhBwD,EAAejC,iBAAiB,wBAAwB,EAExDc,EAAO,CACVC,OAAQ,mBACRC,SAAUrC,cACVwD,UAAWpE,aACXqE,UAAWpD,aACXqD,OAAQJ,EACRhB,SAAYC,KAAKC,OAAO,EACxBmB,OAAWC,OAAOC,UAAU,0BAA0B,CAAC,CACxD,EAEGtE,oBACF4C,EAAqB,eAAI,CAAA,GAEvB7B,cAAgBC,eAClB4B,EAAW,KAAI7B,aACf6B,EAAW,KAAI5B,cAGhBkB,OAAOgB,KAAK,CACXC,KAAM,OACNC,IAAKC,QACLT,KAAMA,EACNU,QAAS,SAASC,GAIjB,IAiCMhB,EAnCNgB,EAAMrB,OAAOqC,UAAUhB,CAAG,EAEvBiB,SAASjB,EAAIkB,KAAK,GACpB/E,WAAW,CAAA,EACPgF,QAAQnB,EAAIoB,cAAc,2BAA2B,EAMxDlB,cAAc,GALVI,EAAW,gCACI,GAAhB9C,cAAqC,GAAhBC,eACvB6C,GAAU,SAAS9C,aAAa,SAASC,cAC1C0B,SAASoB,KAAOD,KAIjBhE,aAAe,CAAA,EACS,GAArB2E,SAASjB,EAAIqB,GAAG,GACM,GAArBJ,SAASjB,EAAIqB,GAAG,IAClBjF,SAASC,OAAS,iDACnBF,WAAW,CAAA,EACXwC,OAAO,qBAAqB,EAAEyB,KAAK,EAC/BE,EAAW,4CACI,GAAhB9C,cAAqC,GAAhBC,eACvB6C,GAAU,SAAS9C,aAAa,SAASC,cAC1C0B,SAASoB,KAAOD,GACa,GAArBW,SAASjB,EAAIqB,GAAG,IACxBjE,iBAAmB6D,SAAU7D,gBAAiB,EAAI6D,SAAUjB,EAAIsB,OAAQ,EACxEjE,cAAmB4D,SAAU5D,aAAc,EAAI4D,SAAUjB,EAAIuB,IAAK,EAClEjE,aAAmB2D,SAAUjB,EAAIwB,GAAI,EACrCjE,aAAmBJ,eAAiBC,iBAAmBE,aAEvDmE,GAAgBA,EADIlG,OAAOqB,aAAa8E,gBAAgB,GAC1BjG,OAAO2B,iBAAkBC,cAAeC,YAAY,EACrD,EAA1B2D,SAAS5D,aAAa,IACxBoE,GAAiB7E,aAAa+E,0BAC/BhD,OAAO,qBAAqB,EAAEiD,KAAKH,CAAa,EAChD9C,OAAO,mBAAmB,EAAEyB,KAAK,EAE7BS,EAASC,OAAOC,UAAU,0BAA0B,CAAC,EAAI,IACzD/B,EAAiC,WAAtBG,SAASC,SAAwB,WAAa,GAC7DhD,SAASC,OAAS,4BAAmCwE,EAAS,yBAA2B7B,EAEzFkB,cAAc,GAGjB,EACMgB,MAAO,SAASW,EAAOC,EAAYC,GACtB,GAAfvB,IACFA,GAAgB,GAChBpE,SAASC,OAAS,0BAA4BmE,EAAe,0BAE9D7B,OAAO,mBAAmB,EAAEqD,KAAK,EACjCrD,OAAO,uBAAuB,EAAEiD,KAAKE,CAAU,EAC/CnD,OAAO,oBAAoB,EAAEiD,KAAK,aAAa,EAC/CnB,WAAWP,cAAc,EAAG,GAAI,CAC3B,EACA+B,QAAS,IAChB,CAAC,EA1FD,CA2FD,CACA,SAAShC,qBAER,IAWMZ,EAXFlD,aAEyB,CAAA,IAAzBI,qBACFoC,OAAO,oBAAoB,EAAEiD,KAAK,gDAAgD,EAAEI,KAAK,GAGzFrD,OAAO,oBAAoB,EAAEyB,KAAK,EAG7BjD,iBAEDkC,EAAO,CACVC,OAAU,kBACVC,SAAYrC,cACZsC,SAAYC,KAAKC,OAAO,CACzB,EAEIlC,cAAgBC,eACnB4B,EAAW,KAAI7B,aACf6B,EAAW,KAAI5B,cAGhBkB,OAAOgB,KAAK,CACXC,KAAM,OACNC,IAAKC,QACLT,KAAMA,EACNU,QAAS,SAASC,GACjBA,EAAMrB,OAAOqC,UAAUhB,CAAG,EAC1BrB,OAAO,qBAAqB,EAAEiD,KAAK5B,EAAIkC,OAAO,EAC9C7E,cAAmB2C,EAAIuB,KACvBnE,iBAAmB4C,EAAIsB,QACvBhE,aAAmB0C,EAAIwB,GACxB,EACAN,MAAO,SAAUW,EAAOC,EAAYC,GACnCpD,OAAO,mBAAmB,EAAEqD,KAAK,EACjCrD,OAAO,uBAAuB,EAAEiD,KAAKE,CAAU,EAC/CnD,OAAO,oBAAoB,EAAEiD,KAAK,YAAY,EAC9CnB,WAAWR,mBAAmB,EAAG,GAAI,CACtC,EACAgC,QAAS,IACV,CAAC,IAGJ,CAEA,SAASE,mBAAmBC,EAAKC,GAE7BA,EAAYA,GAAa,KAE5B,IAAIC,EAAW3D,OAAOyD,EAAI/C,KAAK,UAAU,CAAC,EACjC+C,EAAI/C,KAAK,OAAO,GAEXgD,GAIbD,EAAI/C,KAAK,QAAS,CAAA,CAAK,EACvBiD,EAASC,KAAK,WAAY,CAAA,CAAI,EAC9BD,EAASE,WAAW,SAAS,EAC1BF,EAASjD,KAAK,UAAU,GAC1B8C,mBAAmBG,EAAU,CAAA,CAAI,IAPlCF,EAAI/C,KAAK,QAAS,CAAA,CAAI,EACtBiD,EAASE,WAAW,UAAU,EAQhC,CAGA,SAASC,eAAgBC,GAExBA,EAAiBA,GAAkB,KAEhC/D,OAAO,sBAAsB,EAAEM,GAAG,UAAU,IAE9CzB,aAAemB,OAAO,qBAAqB,EAAEO,IAAI,EACjDzB,aAAekB,OAAO,qBAAqB,EAAEO,IAAI,EAE3B,KAAjB1B,cAAwC,KAAjBC,cAC3BkF,MAAM/F,aAAagG,qBAAqB,GAKvCjE,OAAO,oBAAoB,EAAEM,GAAG,UAAU,IAC5CxC,kBAAoB,CAAA,GAKpBkC,OAAO,oBAAoB,EAAEM,GAAG,UAAU,GAC1C,CAAEN,OAAO,sBAAsB,EAAEM,GAAG,UAAU,EAE9C0D,MAAM/F,aAAaiG,oBAAoB,GAIxClE,OAAO,aAAa,EAAEyB,KAAK,EAC3BzB,OAAO,qBAAqB,EAAEqD,KAAK,EACnCrD,OAAO,eAAe,EAAEqD,KAAK,EAC7BrD,OAAO,WAAW,EAAEqD,KAAK,EAEzB7F,WAAa,CAAA,GAETuG,GACHzC,mBAAmB,EACnBC,eAEArB,gBAFc,GAKhB,CAEA,SAASiE,oBAAqBC,GAE7B,IAAI1D,EAAO,CACVC,OAAU,wBACVC,SAAYrC,cACZsC,SAAYC,KAAKC,OAAO,CACzB,EAEAf,OAAO,IAAMoE,EAAEC,OAAOtE,EAAE,EAAEuE,SAAS,UAAU,EAC7CtE,OAAO,UAAU,EAAEuE,IAAI,aAAc,SAAS,EAC9CvE,OAAOgB,KAAK,CACXC,KAAM,OACNC,IAAKC,QACLT,KAAMA,EACNU,QAAS,SAAUC,GACR,EAANA,GACHrB,OAAO,uBAAuB,EAAEiD,KAAK5B,CAAG,EACxC8C,oBAAqBC,EAAG1D,CAAK,IAE7BV,OAAO,IAAMoE,EAAEC,OAAOtE,EAAE,EAAEyE,YAAY,UAAU,EAChDxE,OAAO,UAAU,EAAEuE,IAAI,aAAc,QAAQ,EAC7C/D,SAASoB,KAAK,gCAEhB,EACAW,MAAO,SAASW,EAAOC,EAAYC,GAClCpD,OAAO,mBAAmB,EAAEqD,KAAK,EACjCrD,OAAO,uBAAuB,EAAEiD,KAAKE,CAAU,EAC/CnD,OAAO,oBAAoB,EAAEiD,KAAK,qBAAqB,EACvDnB,WAAWqC,oBAAqBC,CAAE,EAAG,GAAI,CAC1C,EACAd,QAAS,IACV,CAAC,CACF,CA4OA,SAASlB,UAAU3C,GACdgF,EAAUhH,SAASC,OAAOgH,MAAM,IAAIC,OACvC,WAAalF,EAAKmF,QAAQ,+BAAgC,MAAM,EAAI,UACrE,CAAC,EACD,OAAOH,EAAUI,mBAAmBJ,EAAQ,EAAE,EAAIK,KAAAA,CACnD,CA/OA9E,OAAOvC,QAAQ,EAAEsH,MAAM,WAKnB/G,kBACFgC,OAAO,oBAAoB,EAAE4D,KAAK,UAAW,CAAA,CAAI,EAE/C1F,eACF8B,OAAO,sBAAsB,EAAE4D,KAAK,UAAW,CAAA,CAAI,EAAElD,KAAK,QAAS,CAAA,CAAI,EACvEV,OAAO,qBAAqB,EAAE6D,WAAW,UAAU,EAAEtD,IAAIrC,YAAY,EACrE8B,OAAO,qBAAqB,EAAE6D,WAAW,UAAU,EAAEtD,IAAIpC,YAAY,GAItE6B,OAAO,sBAAsB,EAAEgF,GAAG,SAAU,WAC3CvH,SAASC,OAAS,uBAAwBsC,OAAO,qBAAqB,EAAEO,IAAI,EAAG,yBAC/E9C,SAASC,OAAS,uBAAwBsC,OAAO,qBAAqB,EAAEO,IAAI,EAAG,yBAC3EtD,KAAK0F,SACRlF,SAASC,OAAS,iDAClBsC,OAAO,UAAU,EAAE4D,KAAK,UAAW,CAAA,CAAI,EAAEqB,KAAK,WAAW,CAAA,CAAK,IAE9DxH,SAASC,OAAS,iDAClBsC,OAAO,UAAU,EAAE4D,KAAK,WAAY,CAAA,CAAI,EAAEqB,KAAK,WAAW,CAAA,CAAI,EAEhE,CAAC,EAEDjF,OAAOkF,WAAWC,YAAYnF,OAAOkF,WAAWE,SAAa,EAAC,EAC9D,IAAIC,EAAQrF,OAAO,0CAA0C,EAAEkF,WAC9D,CACCI,WAAY,SACZC,QAAQ,MACRC,YAAY,CAAA,EACZC,WAAW,CAAA,EACXC,SAAU,YACVC,SAAU,SAASC,GACnB,IAAIC,EAAoB,sBAAX5I,KAAK8C,GAA6B,UAAY,UAC1D+F,EAAW9F,OAAQ/C,IAAK,EAAEyD,KAAM,YAAa,EAC7CqF,EAAO/F,OAAOkF,WAAWc,UACxBF,EAASG,SAASX,YAActF,OAAOkF,WAAWgB,UAAUZ,WAC5DM,EAAcE,EAASG,QAAQ,EAChCZ,EAAMc,IAAIlJ,IAAI,EAAEiI,WAAW,SAAUW,EAAQE,CAAI,EACjDtI,SAASC,OAAS,uBAAwBsC,OAAO,qBAAqB,EAAEO,IAAI,EAAG,yBAC/E9C,SAASC,OAAS,uBAAwBsC,OAAO,qBAAqB,EAAEO,IAAI,EAAG,wBAChF,CACD,CACD,EAsIA,SAAS6F,EAAgBC,GAExBA,EAAkBA,GAAmB,KAErC,IAAI3F,EAAO,CACVC,OAAU,oBACVC,SAAYrC,cACZsC,SAAYC,KAAKC,OAAO,CACzB,EAKIuF,GAHDD,IACF3F,EAAa,OAAI,CAAA,GAECjD,SAAS8I,cAAc,KAAK,GAC/CD,EAAaE,aAAa,QAAS,aAAa,EAChDF,EAAaE,aAAa,KAAM,aAAa,EAC7CF,EAAaE,aAAa,QAAS,iBAAiB,EACpDF,EAAaG,UAAY,6BACzBhJ,SAASiJ,KAAKC,OAAOL,CAAY,EACjC7I,SAASiJ,KAAKE,UAAUC,IAAI,kBAAkB,EAE9C7G,OAAOgB,KAAK,CACXC,KAAM,OACNC,IAAKC,QACLT,KAAMA,EACNU,QAAS,SAASC,GACdgF,EACFrC,MAAM,WAAa3C,EAAM,QAAQ,EAEjC2C,MAAM,YAAc3C,EAAM,QAAQ,EACnCrB,OAAO,cAAc,EAAE,GAAG8G,OAAO,EACjCrJ,SAASiJ,KAAKE,UAAUE,OAAO,kBAAkB,EACjDC,OAAOvG,SAASwG,OAAO,CACxB,CACD,CAAC,CACF,CAtKAhH,OAAO,uBAAuB,EAAEiH,MAAM,WACrCxJ,SAASC,OAAS,gDAMlBoG,eALA/F,SAAW,CAAA,CAKS,CACrB,CAAC,EACDiC,OAAO,0BAA0B,EAAEiH,MAAM,WAExCnD,eAAe,EADf/F,SAAW,CAAA,EACQ,CACpB,CAAC,EAGDiC,OAAO,WAAW,EAAEgF,GAAG,QAAS,WAC/BjH,SAAW,CAAA,EACX,IAAImJ,EAAW,CACdC,SAAYrJ,kBACZqC,KAAYtB,aACZuB,KAAYtB,YACb,EACArB,SAASC,OAAS,yBAA2B0J,KAAKC,UAAUH,CAAQ,EAAI,wBACzE,CAAC,EAGDlH,OAAO,oCAAoC,EAAEiH,MAAM,WAClDK,MAAQtH,OAAO/C,IAAI,EAAEgI,KAAK,SAAS,EAGnC,IAAIvE,EAAO,CACVC,OAAU,uBACVC,SAAYrC,cACZwB,GAAMuH,MACNzG,SAAYC,KAAKC,OAAO,CACzB,EAaIL,GAZJV,OAAOgB,KAAK,CACXC,KAAM,OACNC,IAAKC,QACLT,KAAMA,EACNU,QAAS,SAASC,GACjBrB,OAAO,YAAYsH,KAAK,EAAEC,QAAQ,OAAQ,WACzCvH,OAAO,YAAYsH,KAAK,EAAER,OAAO,CAClC,CAAC,CACF,CACD,CAAC,EAGU,CACVnG,OAAU,mBACVC,SAAYrC,cACZiJ,QAAWF,MACXG,OAAU,UACV5G,SAAYC,KAAKC,OAAO,CACzB,GACAf,OAAOgB,KAAK,CACXC,KAAM,OACNC,IAAKC,QACLT,KAAMA,EACNU,QAAS,SAASC,KAWlBkB,MAAO,SAASW,EAAOC,EAAYC,KAGnCE,QAAS,GACV,CAAC,CAEF,CAAC,EAGDtD,OAAO,kBAAkB,EAAEiH,MAAM,SAAU7C,GAC1C,IAAI1D,EAAO,CACVC,OAAU,uBACVC,SAAYrC,cACZmJ,SAAYzJ,aAAa0J,gBACzB9G,SAAYC,KAAKC,OAAO,CACzB,EACAf,OAAO,IAAMoE,EAAEC,OAAOtE,EAAE,EAAEuE,SAAS,UAAU,EAC7CtE,OAAO,UAAU,EAAEuE,IAAI,aAAc,SAAS,EAC9CvE,OAAOgB,KAAK,CACXC,KAAM,OACNC,IAAKC,QACLT,KAAMA,EACNU,QAAS,SAASC,GACjB,IAKKuG,EALiB,IAAlBtF,SAASjB,CAAG,EACf2C,MAAM/F,aAAa4J,UAAU,GAEzB3G,EAAM4G,IAAIC,gBAAgB,IAAIC,KAAK,CAAC3G,EAAI,CAAC,GAEzCuG,EAAQnK,SAAS8I,cAAc,GAAG,GAChC3E,KAAOV,EACb0G,EAAMK,SAAWhK,aAAa0J,gBAAkB,OAEhDlK,SAASiJ,KAAKwB,YAAYN,CAAK,EAC/BA,EAAMX,MAAM,GAEbjH,OAAO,IAAMoE,EAAEC,OAAOtE,EAAE,EAAEyE,YAAY,UAAU,EAChDxE,OAAO,UAAU,EAAEuE,IAAI,aAAc,QAAQ,CAC9C,CACD,CAAC,CACF,CAAC,EAGDvE,OAAO,kBAAkB,EAAEiH,MAAM,SAAU7C,GAC1CgC,EAAgB,CACjB,CAAC,EAGDpG,OAAO,0BAA0B,EAAEiH,MAAM,SAAU7C,GAClDgC,EAAiB,CAAA,CAAK,CACvB,CAAC,EAGDpG,OAAO,sBAAsB,EAAEiH,MAAM,SAAU7C,GAE9C,GAAK,CAAE5B,QAASvE,aAAakK,uBAAwB,EACpD,MAAO,CAAA,EAERhE,oBAAqBC,CAAE,CAExB,CAAC,EA2CDpE,OAAO,oBAAoB,EAAEoI,OAAO,WAChCnL,KAAK0F,UACP3C,OAAO,sBAAsB,EAAE4D,KAAK,UAAW,CAAA,CAAI,EACnD5D,OAAO,UAAU,EAAE4D,KAAK,UAAW,CAAA,CAAI,EAAEqB,KAAK,WAAW,CAAA,CAAK,EAEhE,CAAC,CACF,CAAC,EAgBDjF,OAAQ,WAAY,EAAEgF,GAAI,QAAS,SAAUqD,GAI5CrI,OAAQ,uBAAwB,EAAEsI,KAAM,WAElC,WADatI,OAAQ/C,IAAK,EAAEsD,IAAI,GAE7BgI,WAAWC,KAAK,GACtBH,EAAMI,eAAe,CAGxB,CAAC,CACF,CAAC"}