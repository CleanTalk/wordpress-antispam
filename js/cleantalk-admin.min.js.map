{"version":3,"sources":["cleantalk-admin.js","apbct-common-functions.js"],"names":["apbct_admin_sendAJAX","data","params","obj","let","callback","callbackContext","callback_context","callbackParams","callback_params","async","notJson","timeout","button","spinner","progressbar","ctAdminCommon","_ajax_nonce","Math","random","no_cache","setAttribute","style","cursor","jQuery","css","ajax","type","url","_ajax_url","success","result","removeAttribute","JSON","parse","error","setTimeout","fadeOut","cleantalkModal","loaded","toString","open","alert","apply","concat","jqXHR","textStatus","errorThrown","console","log","ctDecorationSelectorActions","selector","document","querySelector","colorPicker","headingText","defaultThemeExpectedValue","value","addEventListener","event","selectedValue","target","length","apbctSetEmailDecoderPopupAnimation","animationElements","animationWrapper","createElement","classList","i","apbctEEAnimationDogOne","innerText","append","ctFillDecodedEmailHandler","clickSource","ctWlBrandname","encodedEmail","ctPublic","this","removeEventListener","encodedEmailNodesIsMixed","wl_brandname","encodedEmailNodes","plugin_name","encodedEmailNode","body","add","popupHeaderWrapper","popupTextWrapper","popupTextWaiting","popupTextDecoding","encoderPopup","getElementById","innerHTML","waitingPopup","popupHeader","color","id","apbctAjaxEmailDecodeBulk","event_javascript_data","getJavascriptClientData","post_url","location","href","referrer","encodedEmails","encodedEmailsCollection","indexOf","preventDefault","apbctTooltip","apbct","dataset","originalString","stringify","ctPublicFunctions","data__ajax_type","apbct_public_sendREST","method","ctSetCookie","emailEncoderPassKey","apbctEmailEncoderCallbackBulk","onErrorCallback","res","resetEncodedNodes","ctShowDecodeComment","action","apbct_public_sendAJAX","0","is_allowed","popup","email","currentResultData","forEach","row","encoded_email","decoded_email","split","firstNode","selectableEmail","wrapper","title","outerHTML","secondNode","remove","buttonWrapper","fillDecodedEmails","click","comment","element","popupText","decodingResult","baseElementContent","replace","querySelectorAll","encodedEmailTextInsideMailto","el","ctProcessDecodedDataResult","response","targetElement","ctFillDecodedEmail","html","ready","$","on","ctDate","Date","getTime","ctSecure","protocol","cookie","toUTCString","e","parent","after","apbctNoticeDismissSuccess","siblings","apbctNoticeName","attr","notice_id","confirm","notice_when_deleting_user_text","window","btnForceProtectionOn","checked","apbctNoticeForceProtectionOn","spmOrderId","order_id","reload","message","includes"],"mappings":"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","file":"cleantalk-admin.min.js","sourcesContent":["jQuery(document).ready(function($) {\n    // Auto update banner close handler\n    jQuery('.apbct_update_notice').on('click', 'button', function() {\n        let ctDate = new Date(new Date().getTime() + 1000 * 86400 * 30 );\n        let ctSecure = location.protocol === 'https:' ? '; secure' : '';\n        document.cookie = 'apbct_update_banner_closed=1; path=/; expires=' +\n        ctDate.toUTCString() + '; samesite=lax' + ctSecure;\n    });\n\n    jQuery('li a[href=\"options-general.php?page=cleantalk\"]').css('white-space', 'nowrap')\n        .css('display', 'inline-block');\n\n    jQuery('body').on('click', '.apbct-notice .notice-dismiss-link', function(e) {\n        jQuery(e.target).parent()\n            .parent('.notice')\n            .after('<div id=\"apbct-notice-dismiss-success\" class=\"notice notice-success is-dismissible\"><p>' +\n                ctAdminCommon.apbctNoticeDismissSuccess +\n                '</p></div>');\n        setTimeout(function() {\n            jQuery('#apbct-notice-dismiss-success').fadeOut();\n        }, 2000);\n        jQuery(e.target).parent().siblings('.apbct-notice .notice-dismiss').click();\n    });\n    jQuery('body').on('click', '.apbct-notice .notice-dismiss', function(e) {\n        let apbctNoticeName = jQuery(e.target).parent().attr('id');\n        if ( apbctNoticeName ) {\n            apbct_admin_sendAJAX(\n                {\n                    'action': 'cleantalk_dismiss_notice',\n                    'notice_id': apbctNoticeName,\n                },\n                {\n                    'callback': null,\n                    'notJson': true,\n                },\n            );\n        }\n    });\n\n    // Notice when deleting user\n    jQuery('.ct_username .row-actions .delete a').on('click', function(e) {\n        e.preventDefault();\n\n        let result = confirm(ctAdminCommon.notice_when_deleting_user_text);\n\n        if (result) {\n            window.location = this.href;\n        }\n    });\n\n    let btnForceProtectionOn = document.querySelector('#apbct_setting_forms__force_protection__On');\n    if (btnForceProtectionOn) {\n        btnForceProtectionOn.addEventListener('click', function(e) {\n            if (btnForceProtectionOn.checked) {\n                let result = confirm(ctAdminCommon.apbctNoticeForceProtectionOn);\n\n                if (!result) {\n                    e.preventDefault();\n                }\n            }\n        });\n    }\n    // Restore spam order\n    $('.apbct-restore-spam-order-button').click(function() {\n        const spmOrderId = $(this).data('spam-order-id');\n        let data = {\n            action: 'apbct_restore_spam_order',\n            _ajax_nonce: ctAdminCommon._ajax_nonce,\n            order_id: spmOrderId,\n        };\n        $.ajax({\n            type: 'POST',\n            url: ctAdminCommon._ajax_url,\n            data: data,\n            success: function(result) {\n                if (result.success) {\n                    window.location.reload();\n                } else {\n                    alert(result.data.message);\n                }\n            },\n        });\n    });\n\n    // Email decoder example\n    if (window.location.href.includes('options-general.php?page=cleantalk')) {\n        let encodedEmailNode = document.querySelector('[data-original-string]');\n        if (encodedEmailNode) {\n            ctAdminCommon.encodedEmailNode = encodedEmailNode;\n            encodedEmailNode.style.cursor = 'pointer';\n            encodedEmailNode.addEventListener('click', ctFillDecodedEmailHandler);\n        }\n    }\n\n    ctDecorationSelectorActions();\n});\n\n/**\n * @param {mixed} event\n */\n/*\nfunction ctFillDecodedEmailHandler() {\n    document.body.classList.add('apbct-popup-fade');\n    let encoderPopup = document.getElementById('apbct_popup');\n\n    if (!encoderPopup) {\n        // construct popup\n        let waitingPopup = document.createElement('div');\n        waitingPopup.setAttribute('class', 'apbct-popup apbct-email-encoder-popup');\n        waitingPopup.setAttribute('id', 'apbct_popup');\n\n        // construct text header\n        let popupHeaderWrapper = document.createElement('span');\n        popupHeaderWrapper.classList = 'apbct-email-encoder-elements_center';\n        let popupHeader = document.createElement('p');\n        popupHeader.innerText = ctAdminCommon.plugin_name;\n        popupHeader.setAttribute('class', 'apbct-email-encoder--popup-header');\n        popupHeaderWrapper.append(popupHeader);\n\n        // construct text wrapper\n        let popupTextWrapper = document.createElement('div');\n        popupTextWrapper.setAttribute('id', 'apbct_popup_text');\n        popupTextWrapper.setAttribute('class', 'apbct-email-encoder-elements_center');\n        popupTextWrapper.style.color = 'black';\n\n        // construct text first node\n        // todo make translatable\n        let popupTextWaiting = document.createElement('p');\n        popupTextWaiting.id = 'apbct_email_ecoder__popup_text_node_first';\n        popupTextWaiting.innerText = 'The magic is on the way, please wait for a few seconds!';\n        popupTextWaiting.setAttribute('class', 'apbct-email-encoder-elements_center');\n\n        // construct text second node\n        // todo make translatable\n        let popupTextDecoding = document.createElement('p');\n        popupTextDecoding.id = 'apbct_email_ecoder__popup_text_node_second';\n        popupTextDecoding.innerText = 'Decoding process to the original data.';\n\n        // appending\n        popupTextWrapper.append(popupTextWaiting);\n        popupTextWrapper.append(popupTextDecoding);\n        waitingPopup.append(popupHeaderWrapper);\n        waitingPopup.append(popupTextWrapper);\n        waitingPopup.append(apbctSetEmailDecoderPopupAnimation());\n        document.body.append(waitingPopup);\n    } else {\n        encoderPopup.setAttribute('style', 'display: inherit');\n        document.getElementById('apbct_popup_text').innerHTML =\n            'Please wait while ' + ctAdminCommon.plugin_name + ' is decoding the email addresses.';\n    }\n\n    apbctAjaxEmailDecodeBulk(ctAdminCommon.encodedEmailNode);\n}\n*/\n/**\n * @return {HTMLElement} event\n */\n/*\nfunction apbctSetEmailDecoderPopupAnimation() {\n    const animationElements = ['apbct_dog_one', 'apbct_dog_two', 'apbct_dog_three'];\n    const animationWrapper = document.createElement('div');\n    animationWrapper.classList = 'apbct-ee-animation-wrapper';\n    for (let i = 0; i < animationElements.length; i++) {\n        const apbctEEAnimationDogOne = document.createElement('span');\n        apbctEEAnimationDogOne.classList = 'apbct_dog ' + animationElements[i];\n        apbctEEAnimationDogOne.innerText = '@';\n        animationWrapper.append(apbctEEAnimationDogOne);\n    }\n    return animationWrapper;\n}\n*/\n/**\n * @param {HTMLElement} encodedEmailNode\n */\n/*\nfunction apbctAjaxEmailDecodeBulk(encodedEmailNode) {\n    const encodedEmail = encodedEmailNode.dataset.originalString;\n    let data = {\n        encodedEmails: JSON.stringify({0: encodedEmail}),\n    };\n\n    // Adding a tooltip\n    let apbctTooltip = document.createElement('div');\n    apbctTooltip.setAttribute('class', 'apbct-tooltip');\n    jQuery(encodedEmailNode).append(apbctTooltip);\n\n    apbct_admin_sendAJAX(\n        {\n            'action': 'apbct_decode_email',\n            'encodedEmails': data.encodedEmails,\n        },\n        {\n            'callback': function(result) {\n                apbctEmailEncoderCallbackBulk(result, encodedEmailNode);\n            },\n            'notJson': true,\n        },\n    );\n}\n*/\n/**\n * @param {mixed} result\n * @param {mixed} encodedEmailNode\n */\n/*\nfunction apbctEmailEncoderCallbackBulk(result, encodedEmailNode) {\n    if (result.success && result.data[0].is_allowed === true) {\n        // start process of visual decoding\n        setTimeout(function() {\n            let email = result.data[0].decoded_email;\n\n            // change text\n            let popup = document.getElementById('apbct_popup');\n            if (popup !== null) {\n                // handle first node\n                let firstNode = popup.querySelector('#apbct_email_ecoder__popup_text_node_first');\n                // get email selectable by click\n                let selectableEmail = document.createElement('b');\n                selectableEmail.setAttribute('class', 'apbct-email-encoder-select-whole-email');\n                selectableEmail.innerText = email;\n                selectableEmail.title = 'Click to select the whole data';\n                // add email to the first node\n                firstNode.innerHTML = 'The original one is&nbsp;' + selectableEmail.outerHTML;\n                firstNode.setAttribute('style', 'flex-direction: row;');\n                // handle second node\n                let secondNode = popup.querySelector('#apbct_email_ecoder__popup_text_node_second');\n                secondNode.innerText = 'Happy conversations!';\n                // remove animation\n                popup.querySelector('.apbct-ee-animation-wrapper').remove();\n                // remove second node\n                popup.querySelector('#apbct_email_ecoder__popup_text_node_second').remove();\n                // add button\n                let buttonWrapper = document.createElement('span');\n                buttonWrapper.classList = 'apbct-email-encoder-elements_center top-margin-long';\n                let button = document.createElement('button');\n                button.innerText = 'Got it';\n                button.classList = 'apbct-email-encoder-got-it-button';\n                button.addEventListener('click', function() {\n                    document.body.classList.remove('apbct-popup-fade');\n                    popup.setAttribute('style', 'display:none');\n                    fillDecodedEmails(encodedEmailNode, result);\n                });\n                buttonWrapper.append(button);\n                popup.append(buttonWrapper);\n            }\n        }, 3000);\n    } else {\n        console.log('result', result);\n    }\n}\n*/\n/**\n * Run filling for every node with decoding result.\n * @param {mixed} encodedEmailNode\n * @param {mixed} decodingResult\n */\n/*\nfunction fillDecodedEmails(encodedEmailNode, decodingResult) {\n    let currentResultData = decodingResult.data[0].decoded_email;\n    encodedEmailNode.classList.add('no-blur');\n    // fill the nodes\n    setTimeout(() => {\n        encodedEmailNode.setAttribute('title', '');\n        encodedEmailNode.removeAttribute('style');\n        ctFillDecodedEmail(encodedEmailNode, currentResultData);\n    }, 2000);\n    encodedEmailNode.removeEventListener('click', ctFillDecodedEmailHandler);\n}\n*/\n/**\n * @param {mixed} target\n * @param {string} email\n */\n/*\nfunction ctFillDecodedEmail(target, email) {\n    jQuery(target).html(\n        jQuery(target)\n            .html()\n            .replace(/.+?(<div class=[\"']apbct-tooltip[\"'].+?<\\/div>)/, email + '$1'),\n    );\n}\n*/\n// eslint-disable-next-line camelcase,require-jsdoc,no-unused-vars\nfunction apbct_admin_sendAJAX(data, params, obj) {\n    // Default params\n    let callback = params.callback || null;\n    let callbackContext = params.callback_context || null;\n    let callbackParams = params.callback_params || null;\n    let async = params.async || true;\n    let notJson = params.notJson || null;\n    let timeout = params.timeout || 15000;\n    var obj = obj || null; // eslint-disable-line no-var\n    let button = params.button || null;\n    let spinner = params.spinner || null;\n    let progressbar = params.progressbar || null;\n\n    if (typeof (data) === 'string') {\n        data = data + '&_ajax_nonce=' + ctAdminCommon._ajax_nonce + '&no_cache=' + Math.random();\n    } else {\n        data._ajax_nonce = ctAdminCommon._ajax_nonce;\n        data.no_cache = Math.random();\n    }\n    // Button and spinner\n    if (button) {\n        button.setAttribute('disabled', 'disabled'); button.style.cursor = 'not-allowed';\n    }\n    if (spinner) jQuery(spinner).css('display', 'inline');\n\n    jQuery.ajax({\n        type: 'POST',\n        url: ctAdminCommon._ajax_url,\n        data: data,\n        async: async,\n        success: function(result) {\n            if (button) {\n                button.removeAttribute('disabled'); button.style.cursor = 'pointer';\n            }\n            if (spinner) jQuery(spinner).css('display', 'none');\n            if (!notJson) result = JSON.parse(result);\n            if (result.error) {\n                setTimeout(function() {\n                    if (progressbar) progressbar.fadeOut('slow');\n                }, 1000);\n                if ( typeof cleantalkModal !== 'undefined' ) {\n                    // Show the result by modal\n                    cleantalkModal.loaded = 'Error:<br>' + result.error.toString();\n                    cleantalkModal.open();\n                } else {\n                    alert('Error happens: ' + (result.error || 'Unkown'));\n                }\n            } else {\n                if (callback) {\n                    if (callbackParams) {\n                        callback.apply( callbackContext, callbackParams.concat( result, data, params, obj ) );\n                    } else {\n                        callback(result, data, params, obj);\n                    }\n                }\n            }\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            if (button) {\n                button.removeAttribute('disabled'); button.style.cursor = 'pointer';\n            }\n            if (spinner) jQuery(spinner).css('display', 'none');\n            console.log('APBCT_AJAX_ERROR');\n            console.log(jqXHR);\n            console.log(textStatus);\n            console.log(errorThrown);\n        },\n        timeout: timeout,\n    });\n}\n/**\n* @return {void}\n */\nfunction ctDecorationSelectorActions() {\n    const selector = document.querySelector('#apbct_setting_comments__form_decoration_selector');\n    const colorPicker = document.querySelector('#apbct_setting_comments__form_decoration_color');\n    const headingText = document.querySelector('#apbct_setting_comments__form_decoration_text');\n    const defaultThemeExpectedValue = 'Default Theme';\n    if (colorPicker && headingText && selector) {\n        if (selector.value === defaultThemeExpectedValue) {\n            colorPicker.setAttribute('disabled', 'disabled');\n            headingText.setAttribute('disabled', 'disabled');\n        }\n        selector.addEventListener('change', function(event) {\n            const selectedValue = event.target.value;\n            if (selectedValue && selectedValue.length > 0 && selectedValue === defaultThemeExpectedValue) {\n                colorPicker.setAttribute('disabled', 'disabled');\n                headingText.setAttribute('disabled', 'disabled');\n            } else {\n                colorPicker.removeAttribute('disabled');\n                headingText.removeAttribute('disabled');\n            }\n        });\n    }\n}\n","/**\n * @return {HTMLElement} event\n */\nfunction apbctSetEmailDecoderPopupAnimation() {\n    const animationElements = ['apbct_dog_one', 'apbct_dog_two', 'apbct_dog_three'];\n    const animationWrapper = document.createElement('div');\n    animationWrapper.classList = 'apbct-ee-animation-wrapper';\n    for (let i = 0; i < animationElements.length; i++) {\n        const apbctEEAnimationDogOne = document.createElement('span');\n        apbctEEAnimationDogOne.classList = 'apbct_dog ' + animationElements[i];\n        apbctEEAnimationDogOne.innerText = '@';\n        animationWrapper.append(apbctEEAnimationDogOne);\n    }\n    return animationWrapper;\n}\n\n/**\n * @param {mixed} event\n */\nfunction ctFillDecodedEmailHandler(event = false) {\n    let clickSource = false;\n    let ctWlBrandname = '';\n    let encodedEmail = '';\n    if (typeof ctPublic !== 'undefined') {\n        this.removeEventListener('click', ctFillDecodedEmailHandler);\n        // remember clickSource\n        clickSource = this;\n        // globally remember if emails is mixed with mailto\n        ctPublic.encodedEmailNodesIsMixed = false;\n        ctWlBrandname = ctPublic.wl_brandname;\n        encodedEmail = ctPublic.encodedEmailNodes;\n    } else if (typeof ctAdminCommon !== 'undefined') {\n        ctWlBrandname = ctAdminCommon.plugin_name;\n        encodedEmail = ctAdminCommon.encodedEmailNode;\n    }\n\n    // get fade\n    document.body.classList.add('apbct-popup-fade');\n    // popup show\n    let encoderPopup = document.getElementById('apbct_popup');\n    //let ctWlBrandname = typeof ctPublic !== 'undefined' ? ctPublic.wl_brandname : ctAdminCommon.plugin_name;\n\n    if (!encoderPopup) {\n        // construct popup\n        let waitingPopup = document.createElement('div');\n        waitingPopup.setAttribute('class', 'apbct-popup apbct-email-encoder-popup');\n        waitingPopup.setAttribute('id', 'apbct_popup');\n\n        // construct text header\n        let popupHeaderWrapper = document.createElement('span');\n        popupHeaderWrapper.classList = 'apbct-email-encoder-elements_center';\n        let popupHeader = document.createElement('p');\n        popupHeader.innerText = ctWlBrandname;\n        popupHeader.setAttribute('class', 'apbct-email-encoder--popup-header');\n        popupHeaderWrapper.append(popupHeader);\n\n        // construct text wrapper\n        let popupTextWrapper = document.createElement('div');\n        popupTextWrapper.setAttribute('id', 'apbct_popup_text');\n        popupTextWrapper.setAttribute('class', 'apbct-email-encoder-elements_center');\n        popupTextWrapper.style.color = 'black';\n\n        // construct text first node\n        // todo make translatable\n        let popupTextWaiting = document.createElement('p');\n        popupTextWaiting.id = 'apbct_email_ecoder__popup_text_node_first';\n        popupTextWaiting.innerText = 'The magic is on the way, please wait for a few seconds!';\n        popupTextWaiting.setAttribute('class', 'apbct-email-encoder-elements_center');\n\n        // construct text second node\n        // todo make translatable\n        let popupTextDecoding = document.createElement('p');\n        popupTextDecoding.id = 'apbct_email_ecoder__popup_text_node_second';\n        popupTextDecoding.innerText = 'Decoding process to the original data.';\n\n        // appending\n        popupTextWrapper.append(popupTextWaiting);\n        popupTextWrapper.append(popupTextDecoding);\n        waitingPopup.append(popupHeaderWrapper);\n        waitingPopup.append(popupTextWrapper);\n        waitingPopup.append(apbctSetEmailDecoderPopupAnimation());\n        document.body.append(waitingPopup);\n    } else {\n        encoderPopup.setAttribute('style', 'display: inherit');\n        document.getElementById('apbct_popup_text').innerHTML =\n            'Please wait while ' + ctWlBrandname + ' is decoding the email addresses.';\n    }\n\n    apbctAjaxEmailDecodeBulk(event, encodedEmail, clickSource);\n}\n\n/**\n * @param {mixed} event\n * @param {mixed} encodedEmailNodes\n * @param {mixed} clickSource\n */\nfunction apbctAjaxEmailDecodeBulk(event, encodedEmailNodes, clickSource) {\n    if (event && clickSource) {\n        // collect data\n        const javascriptClientData = getJavascriptClientData();\n        let data = {\n            event_javascript_data: javascriptClientData,\n            post_url: document.location.href,\n            referrer: document.referrer,\n            encodedEmails: '',\n        };\n        let encodedEmailsCollection = {};\n        for (let i = 0; i < encodedEmailNodes.length; i++) {\n            // disable click for mailto\n            if (typeof encodedEmailNodes[i].href !== 'undefined' && encodedEmailNodes[i].href.indexOf('mailto:') === 0) {\n                event.preventDefault();\n                ctPublic.encodedEmailNodesIsMixed = true;\n            }\n\n            // Adding a tooltip\n            let apbctTooltip = document.createElement('div');\n            apbctTooltip.setAttribute('class', 'apbct-tooltip');\n            apbct(encodedEmailNodes[i]).append(apbctTooltip);\n\n            // collect encoded email strings\n            encodedEmailsCollection[i] = encodedEmailNodes[i].dataset.originalString;\n        }\n\n        // JSONify encoded email strings\n        data.encodedEmails = JSON.stringify(encodedEmailsCollection);\n\n        // Using REST API handler\n        if ( ctPublicFunctions.data__ajax_type === 'rest' ) {\n            apbct_public_sendREST(\n                'apbct_decode_email',\n                {\n                    data: data,\n                    method: 'POST',\n                    callback: function(result) {\n                        // set alternative cookie to skip next pages encoding\n                        ctSetCookie('apbct_email_encoder_passed', ctPublic.emailEncoderPassKey, '');\n                        apbctEmailEncoderCallbackBulk(result, encodedEmailNodes, clickSource);\n                    },\n                    onErrorCallback: function(res) {\n                        resetEncodedNodes();\n                        ctShowDecodeComment(res);\n                    },\n                },\n            );\n\n            // Using AJAX request and handler\n        } else {            \n            data.action = 'apbct_decode_email';\n            apbct_public_sendAJAX(\n                data,\n                {\n                    notJson: false,\n                    callback: function(result) {\n                        console.log('result');\n                        console.log(result);\n\n                        // set alternative cookie to skip next pages encoding\n                        ctSetCookie('apbct_email_encoder_passed', ctPublic.emailEncoderPassKey, '');\n                        apbctEmailEncoderCallbackBulk(result, encodedEmailNodes, clickSource);\n                    },\n                    onErrorCallback: function(res) {\n                        resetEncodedNodes();\n                        ctShowDecodeComment(res);\n                    },\n                },\n            );\n        }\n    } else {\n        const encodedEmail = encodedEmailNodes.dataset.originalString;\n        let data = {\n            encodedEmails: JSON.stringify({0: encodedEmail}),\n        };\n    \n        // Adding a tooltip\n        let apbctTooltip = document.createElement('div');\n        apbctTooltip.setAttribute('class', 'apbct-tooltip');\n        jQuery(encodedEmailNodes).append(apbctTooltip);\n    \n        apbct_admin_sendAJAX(\n            {\n                'action': 'apbct_decode_email',\n                'encodedEmails': data.encodedEmails,\n            },\n            {\n                'callback': function(result) {\n                    apbctEmailEncoderCallbackBulk(result, encodedEmailNodes, false);\n                },\n                'notJson': true,\n            },\n        );\n    }\n}\n\n/**\n * @param {mixed} result\n * @param {mixed} encodedEmailNodes\n * @param {mixed} clickSource\n */\nfunction apbctEmailEncoderCallbackBulk(result, encodedEmailNodes, clickSource = false) {\n    if (result.success && result.data[0].is_allowed === true) {\n        // start process of visual decoding\n        setTimeout(function() {\n            // popup remove\n            let popup = document.getElementById('apbct_popup');\n            if (popup !== null) {\n                let email = '';\n                if (clickSource) {                    \n                    let currentResultData;\n                    result.data.forEach((row) => {\n                        if (row.encoded_email === clickSource.dataset.originalString) {\n                            currentResultData = row;\n                        }\n                    });\n\n                    email = currentResultData.decoded_email.split(/[&?]/)[0];\n                } else {\n                    email = result.data[0].decoded_email;\n                }\n                // handle first node\n                let firstNode = popup.querySelector('#apbct_email_ecoder__popup_text_node_first');\n                // get email selectable by click\n                let selectableEmail = document.createElement('b');\n                selectableEmail.setAttribute('class', 'apbct-email-encoder-select-whole-email');\n                selectableEmail.innerText = email;\n                selectableEmail.title = 'Click to select the whole data';\n                // add email to the first node\n                if (firstNode) {\n                    firstNode.innerHTML = 'The original one is&nbsp;' + selectableEmail.outerHTML;\n                    firstNode.setAttribute('style', 'flex-direction: row;');\n                }\n                // remove animation\n                let wrapper = popup.querySelector('.apbct-ee-animation-wrapper');\n                if (wrapper) {\n                    wrapper.remove();\n                }\n                // remove second node\n                let secondNode = popup.querySelector('#apbct_email_ecoder__popup_text_node_second');\n                if (secondNode) {\n                    secondNode.remove();\n                }\n                // add button\n                let buttonWrapper = document.createElement('span');\n                buttonWrapper.classList = 'apbct-email-encoder-elements_center top-margin-long';\n                if (!document.querySelector('.apbct-email-encoder-got-it-button')) {\n                    let button = document.createElement('button');\n                    button.innerText = 'Got it';\n                    button.classList = 'apbct-email-encoder-got-it-button';\n                    button.addEventListener('click', function() {\n                        document.body.classList.remove('apbct-popup-fade');\n                        popup.setAttribute('style', 'display:none');\n                        fillDecodedEmails(encodedEmailNodes, result);\n                        // click on mailto if so\n                        if (typeof ctPublic !== 'undefined' && ctPublic.encodedEmailNodesIsMixed && clickSource) {\n                            clickSource.click();\n                        }\n                    });\n                    buttonWrapper.append(button);\n                    popup.append(buttonWrapper);\n                }\n            }\n        }, 3000);\n    } else {\n        if (clickSource) {\n            if (result.success) {\n                resetEncodedNodes();\n                ctShowDecodeComment('Blocked: ' + result.data[0].comment);\n            } else {\n                resetEncodedNodes();\n                ctShowDecodeComment('Cannot connect with CleanTalk server: ' + result.data[0].comment);\n            }\n        } else {\n            console.log('result', result);\n        }\n    }\n}\n\n/**\n * Reset click event for encoded email\n */\nfunction resetEncodedNodes() {\n    if (typeof ctPublic.encodedEmailNodes !== 'undefined') {\n        ctPublic.encodedEmailNodes.forEach(function(element) {\n            element.addEventListener('click', ctFillDecodedEmailHandler);\n        });\n    }\n}\n\n/**\n * Show Decode Comment\n * @param {string} comment\n */\nfunction ctShowDecodeComment(comment) {\n    if ( ! comment ) {\n        comment = 'Can not decode email. Unknown reason';\n    }\n\n    let popup = document.getElementById('apbct_popup');\n    let popupText = document.getElementById('apbct_popup_text');\n    if (popup !== null) {\n        document.body.classList.remove('apbct-popup-fade');\n        popupText.innerText = 'CleanTalk email decoder: ' + comment;\n        setTimeout(function() {\n            popup.setAttribute('style', 'display:none');\n        }, 3000);\n    }\n}\n\n/**\n * Run filling for every node with decoding result.\n * @param {mixed} encodedEmailNodes\n * @param {mixed} decodingResult\n */\nfunction fillDecodedEmails(encodedEmailNodes, decodingResult) {\n    if (encodedEmailNodes.length > 0) {        \n        for (let i = 0; i < encodedEmailNodes.length; i++) {\n            // chek what is what\n            let currentResultData;\n            decodingResult.data.forEach((row) => {\n                if (row.encoded_email === encodedEmailNodes[i].dataset.originalString) {\n                    currentResultData = row;\n                }\n            });\n            // quit case on cloud block\n            if (currentResultData.is_allowed === false) {\n                return;\n            }\n            // handler for mailto\n            if (\n                typeof encodedEmailNodes[i].href !== 'undefined' &&\n                encodedEmailNodes[i].href.indexOf('mailto:') === 0\n            ) {\n                let encodedEmail = encodedEmailNodes[i].href.replace('mailto:', '');\n                let baseElementContent = encodedEmailNodes[i].innerHTML;\n                encodedEmailNodes[i].innerHTML = baseElementContent.replace(encodedEmail, currentResultData.decoded_email);\n                encodedEmailNodes[i].href = 'mailto:' + currentResultData.decoded_email;\n\n                encodedEmailNodes[i].querySelectorAll('span.apbct-email-encoder').forEach((el) => {\n                    let encodedEmailTextInsideMailto = '';\n                    decodingResult.data.forEach((row) => {\n                        if (row.encoded_email === el.dataset.originalString) {\n                            encodedEmailTextInsideMailto = row.decoded_email;\n                        }\n                    });\n                    el.innerHTML = encodedEmailTextInsideMailto;\n                });\n            } else {\n                encodedEmailNodes[i].classList.add('no-blur');\n                // fill the nodes\n                setTimeout(() => {\n                    ctProcessDecodedDataResult(currentResultData, encodedEmailNodes[i]);\n                }, 2000);\n            }\n            // remove listeners\n            encodedEmailNodes[i].removeEventListener('click', ctFillDecodedEmailHandler);\n        }\n    } else {\n        let currentResultData = decodingResult.data[0];        \n        encodedEmailNodes.classList.add('no-blur');\n        // fill the nodes\n        setTimeout(() => {\n            ctProcessDecodedDataResult(currentResultData, encodedEmailNodes);\n        }, 2000);\n        encodedEmailNodes.removeEventListener('click', ctFillDecodedEmailHandler);\n    }\n}\n\n/**\n * @param {mixed} response\n * @param {mixed} targetElement\n */\nfunction ctProcessDecodedDataResult(response, targetElement) {\n    targetElement.setAttribute('title', '');\n    targetElement.removeAttribute('style');\n    ctFillDecodedEmail(targetElement, response.decoded_email);\n}\n\n/**\n * @param {mixed} target\n * @param {string} email\n */\nfunction ctFillDecodedEmail(target, email) {    \n    jQuery(target).html(\n        jQuery(target)\n            .html()\n            .replace(/.+?(<div class=[\"']apbct-tooltip[\"'].+?<\\/div>)/, email + '$1'),\n    );\n}"]}