{"version":3,"file":"cleantalk_internal.min.js","sources":["cleantalk_internal.js"],"sourcesContent":["function ct_check_internal(currForm){\n    \n//Gathering data\n    var ct_data = {},\n        elems = currForm.elements;\n\n    for (var key in elems) {\n        if(elems[key].type == 'submit' || elems[key].value == undefined || elems[key].value == '')\n            continue;\n        ct_data[elems[key].name] = currForm.elements[key].value;\n    }\n    ct_data['action'] = 'ct_check_internal';\n\n//AJAX Request\n    jQuery.ajax({\n        type: 'POST',\n        url: ctNocache.blog_home,\n        datatype : 'text',\n        data: ct_data,\n        success: function(data){\n            if(data == 'true'){\n                currForm.submit();\n            }else{\n                alert(data);\n                return false;\n            }\n        },\n        error: function(){\n            currForm.submit();\n        }\n    });        \n}\n\nwindow.addEventListener('DOMContentLoaded', function () {\n    var ct_currAction = '',\n        ct_currForm = '';\n    for(i=0;i<document.forms.length;i++){\n        if(typeof(document.forms[i].action)=='string'){\n            ct_currForm = document.forms[i];\n            ct_currAction = ct_currForm.action;\n            if(ct_currAction.indexOf('http://')!=-1||ct_currAction.indexOf('https://')!=-1){\n                if(ct_currAction.search(/\\/wp-content\\/themes.*\\.php$/) != (-1) && ct_currAction.indexOf(ctNocache.blog_home) != (-1)){\n                    ctPrevHandler = ct_currForm.click;\n                    jQuery(ct_currForm).off('**');\n                    jQuery(ct_currForm).off();\n                    jQuery(ct_currForm).on('submit', function(){\n                        ct_check_internal(ct_currForm);\n                        return false;\n                    });\n                }\n            }\n        }\n    }\n});"],"names":["ct_check_internal","currForm","key","ct_data","elems","elements","type","undefined","value","name","jQuery","ajax","url","ctNocache","blog_home","datatype","data","success","alert","submit","error","window","addEventListener","ct_currForm","ct_currAction","i","document","forms","length","action","indexOf","search","ctPrevHandler","click","off","on"],"mappings":"AAAA,SAASA,kBAAkBC,GAGvB,IAGSC,EAHLC,EAAU,GACVC,EAAQH,EAASI,SAErB,IAASH,KAAOE,EACU,UAAnBA,EAAMF,GAAKI,MAAwCC,MAApBH,EAAMF,GAAKM,OAA0C,IAApBJ,EAAMF,GAAKM,QAE9EL,EAAQC,EAAMF,GAAKO,MAAQR,EAASI,SAASH,GAAKM,OAEtDL,EAAgB,OAAI,oBAGpBO,OAAOC,KAAK,CACRL,KAAM,OACNM,IAAKC,UAAUC,UACfC,SAAW,OACXC,KAAMb,EACNc,QAAS,SAASD,GACd,GAAW,QAARA,EAIC,OADAE,MAAMF,IACC,EAHPf,EAASkB,UAMjBC,MAAO,WACHnB,EAASkB,YAKrBE,OAAOC,iBAAiB,mBAAoB,WACxC,IACIC,EADAC,EAAgB,GAEpB,IAAIC,EAAE,EAAEA,EAAEC,SAASC,MAAMC,OAAOH,IACS,iBAA3BC,SAASC,MAAMF,GAAS,SAGQ,IADtCD,GADAD,EAAcG,SAASC,MAAMF,IACDI,QACXC,QAAQ,aAAoD,GAApCN,EAAcM,QAAQ,cACE,GAA1DN,EAAcO,OAAO,kCAA2F,GAAhDP,EAAcM,QAAQjB,UAAUC,aAC/FkB,cAAgBT,EAAYU,MAC5BvB,OAAOa,GAAaW,IAAI,MACxBxB,OAAOa,GAAaW,MACpBxB,OAAOa,GAAaY,GAAG,SAAU,WAE7B,OADAnC,kBAAkBuB,IACX"}