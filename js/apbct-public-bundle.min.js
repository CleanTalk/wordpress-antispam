var apbct_fingerprint=new Fingerprint({canvas:!0,ie_activex:!0,hasher:apbct_md5}).get();function apbct_cookie__get(c,r){var a={};return"string"==typeof(c=c||null)&&(c=c.split()),"string"==typeof(r="none"==(r=r||["apbct_","ct_"])?null:r)&&(r=r.split()),document.cookie.split(";").forEach(function(o,e,t){var n=o.trim().split("=");c&&c.forEach(function(o,e,t){n[0]===o&&(a[n[0]]=n[1])}),r&&r.forEach(function(o,e,t){0===n[0].indexOf(o)&&(a[n[0]]=n[1])})}),a}function apbct_cookie__delete(c,r){var a=new Date(0);"string"==typeof(c=c||null)&&(c=c.split()),"string"==typeof(r="none"==(r=r||["apbct_","ct_"])?null:r)&&(r=r.split()),document.cookie.split(";").forEach(function(o,e,t){var n=o.trim().split("=");c&&c.forEach(function(o,e,t){n[0]===o&&(document.cookie=n[0]+"=; path=/; expires="+a.toUTCString()+"; samesite=lax")}),r&&r.forEach(function(o,e,t){0===n[0].indexOf(o)&&(document.cookie=n[0]+"=; path=/; expires="+a.toUTCString()+"; samesite=lax")})})}function ctSetCookie(o,e,t){var n;("string"==typeof o&&"string"==typeof e||"number"==typeof e)&&(n="ct_pointer_data"===o,o=[[o,e,t]]),"none"!==ctPublicFunctions.data__cookies_type&&("native"===ctPublicFunctions.data__cookies_type?o.forEach(function(o,e,t){var n=void 0!==o[2]?"expires="+n+"; ":"",c="https:"===location.protocol?"; secure":"";document.cookie=ctPublicFunctions.cookiePrefix+o[0]+"="+encodeURIComponent(o[1])+"; "+n+"path=/; samesite=lax"+c}):"alternative"!==ctPublicFunctions.data__cookies_type||n||("rest"===ctPublicFunctions.data__ajax_type?apbct_public_sendREST("alt_sessions",{method:"POST",data:{cookies:o}}):"admin_ajax"===ctPublicFunctions.data__ajax_type&&apbct_public_sendAJAX({action:"apbct_alt_session__save__AJAX",cookies:o},{notJson:1})))}function ctDeleteCookie(o){var e;"none"!==ctPublicFunctions.data__cookies_type&&("native"===ctPublicFunctions.data__cookies_type?(e="https:"===location.protocol?"; secure":"",document.cookie=o+'=""; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; samesite=lax'+e):ctPublicFunctions.data__cookies_type)}function apbct_public_sendAJAX(e,t,n){var c=t.callback||null,r=t.callback_context||null,a=t.callback_params||null,o=t.async||!0,i=t.notJson||null,s=t.timeout||15e3,n=n||null,l=t.button||null,u=t.spinner||null,p=t.progressbar||null,_=t.silent||null,f=t.no_nonce||null;"string"==typeof e?e=(e=f?e:e+"&_ajax_nonce="+ctPublicFunctions._ajax_nonce)+"&no_cache="+Math.random():(f||(e._ajax_nonce=ctPublicFunctions._ajax_nonce),e.no_cache=Math.random()),l&&(l.setAttribute("disabled","disabled"),l.style.cursor="not-allowed"),u&&jQuery(u).css("display","inline"),jQuery.ajax({type:"POST",url:ctPublicFunctions._ajax_url,data:e,async:o,success:function(o){l&&(l.removeAttribute("disabled"),l.style.cursor="pointer"),u&&jQuery(u).css("display","none"),(o=i?o:JSON.parse(o)).error?(setTimeout(function(){p&&p.fadeOut("slow")},1e3),console.log("Error happens: "+(o.error||"Unkown"))):c&&(a?c.apply(r,a.concat(o,e,t,n)):c(o,e,t,n))},error:function(o,e,t){l&&(l.removeAttribute("disabled"),l.style.cursor="pointer"),u&&jQuery(u).css("display","none"),t&&!_&&(console.log("APBCT_AJAX_ERROR"),console.log(o),console.log(e),console.log("Anti-spam by Cleantalk plugin error: "+t+"Please, contact Cleantalk tech support https://wordpress.org/support/plugin/cleantalk-spam-protect/"))},timeout:s})}function apbct_public_sendREST(e,t){var n=t.callback||null,o=t.data||[],c=t.method||"POST";jQuery.ajax({type:c,url:ctPublicFunctions._rest_url+"cleantalk-antispam/v1/"+e,data:o,beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",ctPublicFunctions._rest_nonce)},success:function(o){o.error?console.log("Error happens: "+(o.error||"Unknown")):n&&n(o,e,t,null)},error:function(o,e,t){t&&(console.log("APBCT_REST_ERROR"),console.log(o),console.log(e),console.log("Anti-spam by Cleantalk plugin REST API error: "+t+" Please, contact Cleantalk tech support https://wordpress.org/support/plugin/cleantalk-spam-protect/"))}})}jQuery(document).ready(function(){jQuery.ajax({type:"POST",url:apbctPublicAlt.ajax_url,data:{apbct_action:"get_sessions",apbct_secret:apbctPublicAlt.nonce,session_id:apbct_fingerprint},async:!0,success:function(o){if(console.log("success"),(o=JSON.parse(o)).result)for(cookie in console.log(o),o.cookies)console.log(cookie),document.cookie=cookie+"="+o.cookies[cookie]+"; path=/; samesite=lax";else console.log(o),console.log("APBCT SESSIONS GET ERROR")},error:function(o){console.log("err"),console.log(o)}}),window.onunload=function(){cookies=apbct_cookie__get(),console.log("leave"),jQuery.ajax({type:"POST",url:apbctPublicAlt.ajax_url,data:{apbct_action:"set_sessions",apbct_secret:apbctPublicAlt.nonce,session_id:apbct_fingerprint,data:cookies},async:!1,success:function(o){(o=JSON.parse(o)).result?(console.log("success"),console.log(o),apbct_cookie__delete(),console.log("cookie DELETED")):(console.log("APBCT SESSIONS GET ERROR"),console.log(o))},error:function(o){console.log("err"),console.log(o)}})}}),apbctLocalStorage={get:function(o,e){void 0===e&&(e="value");o=localStorage.getItem(o);if(null!==o)try{const t=JSON.parse(o);return t.hasOwnProperty(e)?JSON.parse(t[e]):t}catch(o){return new Error(o)}return!1},set:function(o,e){e={value:JSON.stringify(e),timestamp:Math.floor((new Date).getTime()/1e3)};localStorage.setItem(o,JSON.stringify(e))},isAlive:function(o,e){return void 0===e&&(e=86400),this.get(o,"timestamp")+e>Math.floor((new Date).getTime()/1e3)},isSet:function(o){return null!==localStorage.getItem(o)}},jQuery(document).ready(function(){ctPublicGDPR.gdpr_forms&&ctPublicGDPR.gdpr_forms.forEach(function(o,e,t){var n=jQuery("#"+o+", ."+o);n.is("form")||(n.find("form")[0]?n=n.children("form").first():jQuery(".wpcf7[role=form]")[0]&&-1!==jQuery(".wpcf7[role=form]").attr("id").indexOf("wpcf7-f"+o)?n=jQuery(".wpcf7[role=form]"):jQuery(".frm_forms")[0]&&-1!==jQuery(".frm_forms").first().attr("id").indexOf("frm_form_"+o)?n=jQuery(".frm_forms").first().children("form"):jQuery(".wpforms-form")[0]&&-1!==jQuery(".wpforms-form").first().attr("id").indexOf("wpforms-form-"+o)&&(n=jQuery(".wpforms-form"))),!n.is("form")&&"form"!==n.attr("role")||n.append('<input id="apbct_gdpr_'+e+'" type="checkbox" required="required " style="display: inline; margin-right: 10px;">').append('<label style="display: inline;" for="apbct_gdpr_'+e+'">'+ctPublicGDPR.gdpr_text+"</label>")})});