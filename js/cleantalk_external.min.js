function ct_protect_external(){for(let i=0;i<document.forms.length;i++)if(void 0===document.forms[i].cleantalk_hidden_action&&void 0===document.forms[i].cleantalk_hidden_method){let c=document.forms[i];if("string"==typeof c.action)if(isIntegratedForm(c)){jQuery(c).before('<i class="cleantalk_placeholder" style="display: none;"></i>');let t=jQuery(c).prev(),e=c.outerHTML,n=jQuery(c).detach();t.after(e);let a=document.createElement("input");a.name="action",a.value="cleantalk_force_ajax_check",a.type="hidden";let o=document.forms[i];if(o.appendChild(a),void 0!==o.classList&&o.classList.contains("ml-block-form")){const l=jQuery("form.ml-block-form").find('button[type="submit"]');void 0!==l&&l.click(function(e){e.preventDefault(),sendAjaxCheckingFormData(o,t,n)})}else document.forms[i].onsubmit=function(e){e.preventDefault(),sendAjaxCheckingFormData(o,t,n)}}else{var e;-1===c.action.indexOf("http://")&&-1===c.action.indexOf("https://")||c.action.split("//")[1].split("/")[0].toLowerCase()!==location.hostname.toLowerCase()&&((e=document.createElement("input")).name="cleantalk_hidden_action",e.value=c.action,e.type="hidden",c.appendChild(e),(e=document.createElement("input")).name="cleantalk_hidden_method",e.value=c.method,e.type="hidden",c.method="POST",c.appendChild(e),c.action=document.location)}}}function apbct_replace_inputs_values_from_other_form(e,t){var e=jQuery(e).find("button, input, textarea, select"),n=jQuery(t).find("button, input, textarea, select");e.each(function(e,a){var o=jQuery(a);n.each(function(e,t){var n=jQuery(t);a.outerHTML===t.outerHTML&&n.val(o.val())})})}function isIntegratedForm(e){let t=e.action;return!!(-1!==t.indexOf("activehosted.com")||-1!==t.indexOf("app.convertkit.com")||void 0!==e.firstChild.classList&&e.firstChild.classList.contains("cb-form-group")||-1!==t.indexOf("mailerlite.com"))}function sendAjaxCheckingFormData(a,e,t){var n={};n[0]=apbct_collect_visible_fields(a),apbct_visible_fields_set_cookie(n);var o={},n=a.elements;(n=Array.prototype.slice.call(n)).forEach(function(e,t){""===e.name?o["input_"+t]=e.value:o[e.name]=e.value}),apbct_public_sendAJAX(o,{async:!1,callback:function(t,n,e){if(!+e.apbct.blocked){apbct_replace_inputs_values_from_other_form(jQuery(a).detach(),n),t.after(n);let e=jQuery(n).find("button[type=submit]");0!==e.length&&e[0].click(),e=jQuery(n).find('button[data-element="submit"]'),0!==e.length&&e[0].click()}},callback_context:null,callback_params:[e,t]})}window.onload=function(){setTimeout(function(){ct_protect_external()},1500)};
//# sourceMappingURL=cleantalk_external.min.js.map
