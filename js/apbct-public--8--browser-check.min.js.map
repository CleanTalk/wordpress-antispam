{"version":3,"file":"apbct-public--8--browser-check.min.js","sources":["apbct-public--8--browser-check.js"],"sourcesContent":["const loaderContainer = document.createElement('div');\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    loaderContainer.className = 'ct-browser-check-container';\n    let startTime = null;\n    let timeoutToShowResult = 3000;\n\n    document.addEventListener('ctBotDetectorStart', function() {\n        loaderContainer.style.display = 'block';\n        startTime = new Date();\n    });\n\n    document.addEventListener('ctBotDetectorEnd', function() {\n        console.log('ctBotDetectorEnd');\n    });\n\n    document.addEventListener('ctBotDetectorResult', function() {\n        if (startTime && new Date() - startTime < timeoutToShowResult) {\n            setTimeout(() => {\n                showResult();\n            }, timeoutToShowResult - (new Date() - startTime));\n            return;\n        }\n        setTimeout(() => {\n            showResult();\n        }, timeoutToShowResult);\n    });\n\n    /**\n     * Show result\n     */\n    function showResult() {\n        let results = ['bot', 'human'];\n        let result = results[Math.floor(Math.random() * results.length)];\n\n        document.querySelector('.ct-browser-check-loader').remove();\n        document.querySelector('.ct-browser-check-description').remove();\n        document.querySelector('.ct-browser-check-container').style.height = '50px';\n\n        // prepare data\n        let title = 'botDetector';\n        let svg = '';\n        let arrowAction = '';\n        switch (result) {\n        case 'bot':\n            console.log('bot');\n            // eslint-disable-next-line no-template-curly-in-string, max-len\n            svg = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" fill=\"#FF0000\"/></svg>';\n            break;\n        case 'human':\n            console.log('human');\n            title = 'The Real Person';\n            // eslint-disable-next-line no-template-curly-in-string, max-len\n            svg = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\" fill=\"#4CAF50\"/></svg>';\n            arrowAction = ' style=\"cursor: pointer;\" onclick=\"ctBrowserCheckHide();\" ';\n            break;\n        }\n        document.querySelector('.ct-browser-check-title').textContent = title;\n        const dev = document.createElement('div');\n        dev.className = 'ct-browser-check-human';\n        dev.innerHTML = `\n            ${svg}\n            <span class=\"ct-browser-check-human-arrow\"${arrowAction}>&gt;</span>\n        `;\n        loaderContainer.appendChild(dev);\n    }\n\n\n    document.addEventListener('ctBotDetectorError', function() {\n        console.log('ctBotDetectorError');\n    });\n\n    console.log('DOMContentLoaded');\n    \n    // Create and add styles\n    const style = document.createElement('style');\n    style.textContent = `\n        .ct-browser-check-loader { \n            width: 20px; \n            margin: 5px auto;\n            aspect-ratio: 1; \n            border: 3px solid #F3F6F9; \n            border-radius: 50%; \n            position: relative; \n            transform: rotate(45deg); \n        } \n        .ct-browser-check-loader::before { \n            content: \"\"; \n            position: absolute; \n            inset: -3px; \n            border-radius: 50%; \n            border: 3px solid #026E88; \n            animation: l18 2s infinite linear; \n        } \n        @keyframes l18 { \n            0% {clip-path:polygon(50% 50%,0 0,0 0,0 0 ,0 0 ,0 0 )} \n            25% {clip-path:polygon(50% 50%,0 0,100% 0,100% 0 ,100% 0 ,100% 0 )} \n            50% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,100% 100%,100% 100%)} \n            75% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 100%)} \n            100% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 0 )} \n        }\n        .ct-browser-check-human {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n        }\n        .ct-browser-check-human svg {\n            width: 20px;\n            height: 20px;\n        }\n        .ct-browser-check-human-arrow {\n            font-size: 20px;\n            font-weight: bold;\n            color: #777777;\n            padding-left: 15px;\n            margin-bottom: 2px;\n        }\n    `;\n    document.head.appendChild(style);\n\n    // Create loader container\n    loaderContainer.style.cssText = `\n        display: none;\n        font-size: 12px;\n        font-weight: bold;\n        color: #777777;\n        text-align: center;\n        position: fixed;\n        top: 20%;\n        right: -5px;\n        width: 110px;\n        height: 80px;\n        z-index: 9999;\n        background-color: #fff;\n        border-radius: 5px 0 0 5px;\n        border: 1px solid #bbbbbb;\n        box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.1);\n        transition: right 0.3s ease-in-out;\n    `;\n\n    // add div with title\n    const title = document.createElement('div');\n    title.className = 'ct-browser-check-title';\n    title.style.cssText = `\n        border-bottom: 1px solid #bbbbbb;\n    `;\n    title.textContent = 'botDetector';\n    loaderContainer.appendChild(title);\n    \n    // Create loader element\n    const loader = document.createElement('div');\n    loader.className = 'ct-browser-check-loader';\n\n    // Add loader to container and container to body\n    loaderContainer.appendChild(loader);\n    document.body.appendChild(loaderContainer);\n\n    // add div with description\n    const description = document.createElement('div');\n    description.className = 'ct-browser-check-description';\n    description.style.cssText = `\n        border-top: 1px solid #bbbbbb;\n    `;\n    description.textContent = 'Browser check';\n    loaderContainer.appendChild(description);\n});\n\n/**\n * Hide browser check\n * \n */\n// eslint-disable-next-line no-unused-vars\nfunction ctBrowserCheckHide() {\n    document.querySelector('.ct-browser-check-title').textContent = 'TRP';\n    loaderContainer.style.right = '-70px';\n    loaderContainer.style.alignItems = 'left';\n    document.querySelector('.ct-browser-check-title').style.alignItems = 'left';\n    document.querySelector('.ct-browser-check-title').style.width = '40px';\n    document.querySelector('.ct-browser-check-human').style.marginLeft = '-30px';\n}\n"],"names":["loaderContainer","document","createElement","ctBrowserCheckHide","querySelector","textContent","style","right","alignItems","width","marginLeft","addEventListener","className","let","startTime","showResult","results","result","Math","floor","random","length","remove","height","title","svg","arrowAction","console","log","dev","innerHTML","appendChild","display","Date","setTimeout","head","cssText","loader","description","body"],"mappings":"AAAA,IAAMA,gBAAkBC,SAASC,cAAc,KAAK,EA6KpD,SAASC,qBACLF,SAASG,cAAc,yBAAyB,EAAEC,YAAc,MAChEL,gBAAgBM,MAAMC,MAAQ,QAC9BP,gBAAgBM,MAAME,WAAa,OACnCP,SAASG,cAAc,yBAAyB,EAAEE,MAAME,WAAa,OACrEP,SAASG,cAAc,yBAAyB,EAAEE,MAAMG,MAAQ,OAChER,SAASG,cAAc,yBAAyB,EAAEE,MAAMI,WAAa,OACzE,CAlLAT,SAASU,iBAAiB,mBAAoB,WAC1CX,gBAAgBY,UAAY,6BAC5BC,IAAIC,EAAY,KA2BhB,SAASC,IACLF,IAAIG,EAAU,CAAC,MAAO,SAClBC,EAASD,EAAQE,KAAKC,MAAMD,KAAKE,OAAO,EAAIJ,EAAQK,MAAM,GAE9DpB,SAASG,cAAc,0BAA0B,EAAEkB,OAAO,EAC1DrB,SAASG,cAAc,+BAA+B,EAAEkB,OAAO,EAC/DrB,SAASG,cAAc,6BAA6B,EAAEE,MAAMiB,OAAS,OAGrEV,IAAIW,EAAQ,cACRC,EAAM,GACNC,EAAc,GAClB,OAAQT,GACR,IAAK,MACDU,QAAQC,IAAI,KAAK,EAEjBH,EAAM,wOACN,MACJ,IAAK,QACDE,QAAQC,IAAI,OAAO,EACnBJ,EAAQ,kBAERC,EAAM,4LACNC,EAAc,4DAElB,CACAzB,SAASG,cAAc,yBAAyB,EAAEC,YAAcmB,EAC1DK,EAAM5B,SAASC,cAAc,KAAK,EACxC2B,EAAIjB,UAAY,yBAChBiB,EAAIC;cACEL;wDAC0CC;UAEhD1B,gBAAgB+B,YAAYF,CAAG,CACnC,CA1DA5B,SAASU,iBAAiB,qBAAsB,WAC5CX,gBAAgBM,MAAM0B,QAAU,QAChClB,EAAY,IAAImB,IACpB,CAAC,EAEDhC,SAASU,iBAAiB,mBAAoB,WAC1CgB,QAAQC,IAAI,kBAAkB,CAClC,CAAC,EAED3B,SAASU,iBAAiB,sBAAuB,WACzCG,GAAa,IAAImB,KAASnB,EAZR,IAalBoB,WAAW,KACPnB,EAAW,CACf,EAfkB,KAeQ,IAAIkB,KAASnB,EAAU,EAGrDoB,WAAW,KACPnB,EAAW,CACf,EApBsB,GAoBA,CAC1B,CAAC,EA0CDd,SAASU,iBAAiB,qBAAsB,WAC5CgB,QAAQC,IAAI,oBAAoB,CACpC,CAAC,EAEDD,QAAQC,IAAI,kBAAkB,EAG9B,IAAMtB,EAAQL,SAASC,cAAc,OAAO,EAmEtCsB,GAlENlB,EAAMD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA2CNJ,SAASkC,KAAKJ,YAAYzB,CAAK,EAG/BN,gBAAgBM,MAAM8B;;;;;;;;;;;;;;;;;MAoBRnC,SAASC,cAAc,KAAK,GASpCmC,GARNb,EAAMZ,UAAY,yBAClBY,EAAMlB,MAAM8B;;MAGZZ,EAAMnB,YAAc,cACpBL,gBAAgB+B,YAAYP,CAAK,EAGlBvB,SAASC,cAAc,KAAK,GAQrCoC,GAPND,EAAOzB,UAAY,0BAGnBZ,gBAAgB+B,YAAYM,CAAM,EAClCpC,SAASsC,KAAKR,YAAY/B,eAAe,EAGrBC,SAASC,cAAc,KAAK,GAChDoC,EAAY1B,UAAY,+BACxB0B,EAAYhC,MAAM8B;;MAGlBE,EAAYjC,YAAc,gBAC1BL,gBAAgB+B,YAAYO,CAAW,CAC3C,CAAC"}