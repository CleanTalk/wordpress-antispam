{"version":3,"names":[],"mappings":"","sources":["apbct-public--8--browser-check.js"],"sourcesContent":["class ctBrowserCheck {\n    titleCheck = 'botDetector in action!';\n    titleHuman = \"You're a real person!\";\n    title = '';\n    logo = 'https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/148997/57d089a85d4d208d/web_hi_res_512.png';\n    trpLogo = 'https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/153743/e7389e1e6ca21357/2.png';\n    logoAlt = 'CleanTalk';\n    privacyLink = 'https://cleantalk.org/privacy';\n    termsLink = 'https://cleantalk.org/terms';\n    // eslint-disable-next-line no-template-curly-in-string, max-len\n    svgBad = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" fill=\"#FF0000\"/></svg>';\n    // eslint-disable-next-line no-template-curly-in-string, max-len\n    svgGood = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\" fill=\"#4CAF50\"/></svg>';\n    resultStore = 'ct-browser-check-result';\n    container = null;\n    result = 'human';\n    isLoader = true;\n\n    constructor() {\n        this.addStyles();\n        this.addEventListener();\n    }\n\n    addEventListener() {\n        document.addEventListener('ctBotDetectorStart', () => {\n            // if (localStorage.getItem(this.resultStore)) {\n            //     this.showSavedResult();\n            //     return;\n            // }\n\n            this.showLoader();\n        });\n    }\n\n    showSavedResult() {\n    }\n\n    showLoader() {\n        this.title = this.titleCheck;\n        this.render();\n        this.showContainer();\n    }\n\n    render() {\n        if (document.querySelector('.ct-browser-check-container')) {\n            this.container = document.querySelector('.ct-browser-check-container');\n        } else {\n            this.container = document.createElement('div');\n            this.container.className = 'ct-browser-check-container';\n            document.body.appendChild(this.container);\n        }\n\n        this.container.innerHTML += `<div class=\"ct-browser-check-wrapper\" style=\"display: flex; flex-direction: column; align-items: center; justify-content: space-between;\">`;\n        // this.container.innerHTML += `<div class=\"ct-browser-check-title\">${this.title}</div> `;\n        this.container.innerHTML += `<div class=\"ct-browser-check-title\">test</div> `;\n        this.container.innerHTML += this.companyInfoHtml();\n        this.container.innerHTML += `</div>`;\n    }\n\n    companyInfoHtml() {\n        return `\n            <div class=\"ct-browser-check-company-info\">\n                <div class=\"ct-browser-check-company-info-wrapper\">\n                    <div class=\"ct-browser-check-company-info-logo\" style=\"width: 20px; height: 20px;\">\n                        <img src=\"${this.logo}\" alt=\"${this.logoAlt}\">\n                    </div>\n                    <div class=\"ct-browser-check-company-info-title\">${this.logoAlt}</div>\n                </div>\n                <div class=\"ct-browser-check-company-info-description\">\n                    <a href=\"${this.privacyLink}\" target=\"_blank\">Privacy</a>\n                    <span>&middot;</span>\n                    <a href=\"${this.termsLink}\" target=\"_blank\">Terms</a>\n                </div>\n            </div>\n        `;\n    }\n\n    showContainer() {\n        this.container.style.display = 'block';\n    }\n\n    hideContainer() {\n        this.container.style.display = 'none';\n    }\n\n    /**\n     * Create and add styles\n     */\n    addStyles() {\n        const style = document.createElement('style');\n\n        style.textContent = `\n            .ct-browser-check-loader { \n                width: 20px; \n                margin: 5px auto;\n                aspect-ratio: 1; \n                border: 3px solid #F3F6F9; \n                border-radius: 50%; \n                position: relative; \n                transform: rotate(45deg); \n            } \n            .ct-browser-check-loader::before { \n                content: \"\"; \n                position: absolute; \n                inset: -3px; \n                border-radius: 50%; \n                border: 3px solid #026E88; \n                animation: l18 2s infinite linear; \n            } \n            @keyframes l18 { \n                0% {clip-path:polygon(50% 50%,0 0,0 0,0 0 ,0 0 ,0 0 )} \n                25% {clip-path:polygon(50% 50%,0 0,100% 0,100% 0 ,100% 0 ,100% 0 )} \n                50% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,100% 100%,100% 100%)} \n                75% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 100%)} \n                100% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 0 )} \n            }\n\n            .ct-browser-check-container {\n                display: none;\n                font-size: 12px;\n                font-weight: bold;\n                color: #777777;\n                text-align: center;\n                position: fixed;\n                top: 20%;\n                right: -5px;\n                width: 365px;\n                height: 70px;\n                z-index: 9999;\n                background-color: #fff;\n                border-radius: 5px 0 0 5px;\n                border: 1px solid #bbbbbb;\n                box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.1);\n                transition: right 0.3s ease-in-out;\n            }\n        `;\n\n        document.head.appendChild(style);\n    }\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    console.log('DOMContentLoaded');\n    const apbctBrowserCheck = new ctBrowserCheck();\n    console.log(apbctBrowserCheck);\n    apbctBrowserCheck.render();\n});\n// document.addEventListener('DOMContentLoaded', function() {\n//     loaderContainer.className = 'ct-browser-check-container';\n//     let startTime = null;\n//     let timeoutToShowResult = 3000;\n\n//     document.addEventListener('ctBotDetectorStart', function() {\n//         if (localStorage.getItem('ct-browser-check-result')) {\n//             showSavedResult();\n//             return;\n//         }\n\n//         loaderContainer.style.display = 'block';\n//         startTime = new Date();\n//     });\n\n//     document.addEventListener('ctBotDetectorEnd', function() {\n//         console.log('ctBotDetectorEnd');\n//     });\n\n//     document.addEventListener('ctBotDetectorResult', function() {\n//         if (localStorage.getItem('ct-browser-check-result')) {\n//             return;\n//         }\n\n//         if (startTime && new Date() - startTime < timeoutToShowResult) {\n//             setTimeout(() => {\n//                 showResult();\n//             }, timeoutToShowResult - (new Date() - startTime));\n//             return;\n//         }\n\n//         setTimeout(() => {\n//             showResult();\n//         }, timeoutToShowResult);\n//     });\n\n//     function showSavedResult() {\n//         const result = localStorage.getItem('ct-browser-check-result');\n//         if (result === 'human') {\n//             document.querySelector('.ct-browser-check-title').textContent = 'The Real Person';\n//         }\n//     }\n\n//     /**\n//      * Show result\n//      */\n//     function showResult() {\n//         // let results = ['bot', 'human'];\n//         let results = ['human'];\n//         let result = results[Math.floor(Math.random() * results.length)];\n//         // store result in local storage\n//         localStorage.setItem('ct-browser-check-result', result);\n\n//         if (document.querySelector('.ct-browser-check-loader')) {\n//             document.querySelector('.ct-browser-check-loader').remove();\n//         }\n//         if (document.querySelector('.ct-browser-check-description')) {\n//             document.querySelector('.ct-browser-check-description').remove();\n//         }\n//         document.querySelector('.ct-browser-check-container').style.height = '50px';\n\n//         // prepare data\n//         let title = 'botDetector';\n//         let svg = '';\n//         let arrowAction = '';\n//         switch (result) {\n//         case 'bot':\n//             console.log('bot');\n//             // eslint-disable-next-line no-template-curly-in-string, max-len\n//             svg = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" fill=\"#FF0000\"/></svg>';\n//             break;\n//         case 'human':\n//             console.log('human');\n//             title = 'The Real Person';\n//             // eslint-disable-next-line no-template-curly-in-string, max-len\n//             svg = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\" fill=\"#4CAF50\"/></svg>';\n//             arrowAction = ' style=\"cursor: pointer;\" onclick=\"ctBrowserCheckHide();\" ';\n//             break;\n//         }\n//         document.querySelector('.ct-browser-check-title').textContent = title;\n//         const dev = document.createElement('div');\n//         dev.className = 'ct-browser-check-human';\n//         dev.innerHTML = `\n//             ${svg}\n//             <span class=\"ct-browser-check-human-arrow\"${arrowAction}>&gt;</span>\n//         `;\n//         loaderContainer.appendChild(dev);\n//     }\n\n\n//     document.addEventListener('ctBotDetectorError', function() {\n//         console.log('ctBotDetectorError');\n//     });\n\n\n//     // add div with title\n//     const title = document.createElement('div');\n//     title.className = 'ct-browser-check-title';\n//     title.style.cssText = `\n//         border-bottom: 1px solid #bbbbbb;\n//     `;\n//     title.textContent = 'botDetector';\n//     loaderContainer.appendChild(title);\n\n//     // Create loader element\n//     const loader = document.createElement('div');\n//     loader.className = 'ct-browser-check-loader';\n\n//     // Add loader to container and container to body\n//     loaderContainer.appendChild(loader);\n//     document.body.appendChild(loaderContainer);\n\n//     // add div with description\n//     const description = document.createElement('div');\n//     description.className = 'ct-browser-check-description';\n//     description.style.cssText = `\n//         border-top: 1px solid #bbbbbb;\n//     `;\n//     description.textContent = 'Browser check';\n//     loaderContainer.appendChild(description);\n// });\n\n// /**\n//  * Hide browser check\n//  * eslint-disable-next-line no-unused-vars\n//  */\n// function ctBrowserCheckHide() {\n//     document.querySelector('.ct-browser-check-title').textContent = 'TRP';\n//     loaderContainer.style.right = '-70px';\n//     loaderContainer.style.alignItems = 'left';\n//     document.querySelector('.ct-browser-check-title').style.alignItems = 'left';\n//     document.querySelector('.ct-browser-check-title').style.width = '40px';\n//     document.querySelector('.ct-browser-check-human').style.marginLeft = '-30px';\n// }\n"],"file":"apbct-public--8--browser-check.min.js"}