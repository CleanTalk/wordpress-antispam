class ApbctCore{ajax_parameters={};restParameters={};selector=null;elements=[];eventCallback;eventSelector;event;constructor(t){this.select(t)}select(t){return t instanceof HTMLCollection?(this.selector=null,this.elements=[],this.elements=Array.prototype.slice.call(t)):"object"==typeof t?(this.selector=null,this.elements=[],this.elements[0]=t):"string"==typeof t?(this.selector=t,this.elements=Array.prototype.slice.call(document.querySelectorAll(t))):this.deselect(),this}addElement(t){"object"==typeof t?this.elements.push(t):"string"==typeof t?(this.selector=t,this.elements=Array.prototype.slice.call(document.querySelectorAll(t))):this.deselect()}push(t){this.elements.push(t)}reduce(){this.elements=this.elements.slice(0,-1)}deselect(){this.elements=[]}css(o,e){if(e=e||!1,"object"==typeof o){for(let e in o)if(Object.hasOwn(o,e)){var c=e.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace("-","").replace("_",""));for(let t=0;t<this.elements.length;t++)this.elements[t].style[c]=o[e]}return this}if("string"==typeof o){let t=getComputedStyle(this.elements[0])[o];return void 0===t||e?t:(t=t.replace(/(\d)(em|pt|%|px){1,2}$/,"$1"),t=Number(t)==t?Number(t):t)}}hide(){this.prop("prev-display",this.css("display")),this.css({display:"none"})}show(){this.css({display:this.prop("prev-display")})}addClass(){for(let t=0;t<this.elements.length;t++)this.elements[t].classList.add(className)}removeClass(){for(let t=0;t<this.elements.length;t++)this.elements[t].classList.remove(className)}toggleClass(e){for(let t=0;t<this.elements.length;t++)this.elements[t].classList.toggle(e)}ajax(t){return this.ajax_parameters=t,new ApbctAjax(t)}rest(t){return this.restParameters=t,new ApbctRest(t)}on(...t){this.event=t[0],this.eventCallback=t[2]||t[1],this.eventSelector="string"==typeof t[1]?t[1]:null;for(let t=0;t<this.elements.length;t++)this.elements[t].addEventListener(this.event,null!==this.eventSelector?this.onChecker.bind(this):this.eventCallback)}onChecker(t){if(t.target===document.querySelector(this.eventSelector))return t.stopPropagation(),this.eventCallback(t)}ready(t){document.addEventListener("DOMContentLoaded",t)}change(t){this.on("change",t)}attr(e){var o=[];for(let t=0;t<this.elements.length;t++)void 0!==this.elements[t][e]?o.push(this.elements[t][e]):o.push(this.elements[t].getAttribute(e));return 1===o.length?o[0]:o}prop(e,o){if(void 0!==o){for(let t=0;t<this.elements.length;t++)this.elements[t][e]=o;return this}var c=[];for(let t=0;t<this.elements.length;t++)c.push(this.elements[t][e]);return 1===c.length?c[0]:c}html(t){return void 0!==t?this.prop("innerHTML",t):this.prop("innerHTML")}val(t){return void 0!==t?this.prop("value",t):this.prop("value")}data(t,e){return void 0!==e?this.prop("apbct-data",t,e):this.prop("apbct-data")}is(t){let e=!1;for(var o of this.elements)e||=this.isElem(o,t);return e}isElem(t,e){let o=!1;return"function"==typeof e&&(o||=e.call(this,t)),"string"==typeof e&&(e.match(/^[a-z]/)&&(t=>(t=document.createElement(t).constructor,!Boolean(~[HTMLElement,HTMLUnknownElement].indexOf(t))))(e)?o||=t.tagName.toLowerCase()===e.toLowerCase():e.match(/^[a-z]/)?o||=Boolean(t[e]):o||=null!==this.selector?null!==document.querySelector(this.selector+e):this.isWithoutSelector(t,e)),o}isWithoutSelector(t,e){var o;let c=!1;for(o of document.querySelectorAll(e))c||=t===o;return c}filter(e){this.selector=null;for(let t=this.elements.length-1;0<=t;t--)this.isElem(this.elements[t],e)||this.elements.splice(Number(t),1);return this}parent(t){return this.select(this.elements[0].parentElement),void 0===t||this.is(t)||this.deselect(),this}parents(t){for(this.select(this.elements[0]);null!==this.elements[this.elements.length-1].parentElement;)this.push(this.elements[this.elements.length-1].parentElement);return this.elements.splice(0,1),void 0!==t&&this.filter(t),this}children(t){return this.select(this.elements[0].children),void 0!==t&&this.filter(t),this}siblings(t){var e=this.elements[0];return this.parent(),this.children(t),this.elements.splice(this.elements.indexOf(e),1),this}remove(){for(var t of this.elements)t.remove()}after(t){for(var e of this.elements)e.after(t)}append(t){for(var e of this.elements)e.append(t)}fadeIn(c){for(let o of this.elements){o.style.opacity=0,o.style.display="block";let t=+new Date,e=function(){o.style.opacity=+o.style.opacity+(new Date-t)/c,t=+new Date,+o.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))};e()}}fadeOut(c){for(let o of this.elements){o.style.opacity=1;let t=+new Date,e=function(){o.style.opacity=+o.style.opacity-(new Date-t)/c,t=+new Date,0<+o.style.opacity?window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16):o.style.display="none"};e()}}}function ctProcessError(t,e){var o={},t=(t&&t.message?o.err={msg:t.message,file:t.fileName||!1,ln:t.lineNumber||lineNo||!1,col:t.columnNumber||columnNo||!1,stacktrace:t.stack||!1,cause:!!e&&JSON.stringify(e),errorObj:error||!1}:(o.err={msg:t},e&&(o.err.file=e)),o.url=window.location.href,o.userAgent=window.navigator.userAgent,"ct_js_errors");let c=localStorage.getItem(t);null===c&&(c="[]"),c=JSON.parse(c);for(let t=0;t<c.length;t++)if(c[t].err.msg===o.err.msg)return;c.push(o),localStorage.setItem(t,JSON.stringify(c))}function selectActualNonce(){let t="";return ctPublicFunctions.hasOwnProperty("_fresh_nonce")&&"string"==typeof ctPublicFunctions._fresh_nonce&&0<ctPublicFunctions._fresh_nonce.length?ctPublicFunctions._fresh_nonce:("admin_ajax"===ctPublicFunctions.data__ajax_type&&ctPublicFunctions.hasOwnProperty("_ajax_nonce")&&"string"==typeof ctPublicFunctions._ajax_nonce&&0<ctPublicFunctions._ajax_nonce.length&&(t=ctPublicFunctions._ajax_nonce),t="rest"===ctPublicFunctions.data__ajax_type&&ctPublicFunctions.hasOwnProperty("_rest_nonce")&&"string"==typeof ctPublicFunctions._rest_nonce&&0<ctPublicFunctions._rest_nonce.length?ctPublicFunctions._rest_nonce:t)}function apbct(t){return(new ApbctCore).select(t)}1===Math.floor(100*Math.random())&&(window.onerror=function(t,e){var o=["apbct","ctPublic"];let c=o.length;for(;c--;)-1!==t.indexOf(o[c])&&ctProcessError(t,e);return!1});class ApbctXhr{xhr=new XMLHttpRequest;method="POST";url="";async=!0;user=null;password=null;data={};button=null;spinner=null;progressbar=null;context=this;callback=null;onErrorCallback=null;responseType="json";headers={};timeout=15e3;methods_to_convert_data_to_URL=["GET","HEAD"];body=null;http_code=0;status_text="";constructor(t){for(var e in t)void 0!==this[e]&&(this[e]=t[e]);if(this.prepare(),Object.keys(this.data).length&&(this.deleteDoubleJSONEncoding(this.data),this.convertData()),!this.url)return console.log("%cXHR%c not URL provided","color: red; font-weight: bold;","color: grey; font-weight: normal;"),!1;this.xhr.open(this.method,this.url,this.async,this.user,this.password),this.setHeaders(),this.xhr.responseType=this.responseType,this.xhr.timeout=this.timeout,this.xhr.onreadystatechange=function(){this.isWpNonceError()?this.getFreshNonceAndRerunXHR(t):this.onReadyStateChange()}.bind(this),this.xhr.onload=function(){this.onLoad()}.bind(this),this.xhr.onprogress=function(t){this.onProgress(t)}.bind(this),this.xhr.onerror=function(){this.onError()}.bind(this),this.xhr.ontimeout=function(){this.onTimeout()}.bind(this),this.xhr.send(this.body)}prepare(){this.button&&(this.button.setAttribute("disabled","disabled"),this.button.style.cursor="not-allowed"),this.spinner&&(this.spinner.style.display="inline")}complete(){this.http_code=this.xhr.status,this.status_text=this.xhr.statusText,this.button&&(this.button.removeAttribute("disabled"),this.button.style.cursor="auto"),this.spinner&&(this.spinner.style.display="none"),this.progressbar&&this.progressbar.fadeOut("slow")}onReadyStateChange(){null!==this.on_ready_state_change&&"function"==typeof this.on_ready_state_change&&this.on_ready_state_change()}onProgress(t){null!==this.on_progress&&"function"==typeof this.on_progress&&this.on_progress()}onError(){console.log("error"),this.complete(),this.error(this.http_code,this.status_text),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback(this.status_text)}onTimeout(){this.complete(),this.error(0,"timeout"),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback("Timeout")}onLoad(){if(this.complete(),"json"===this.responseType){if(null===this.xhr.response)return this.error(this.http_code,this.status_text,"No response"),!1;if(void 0!==this.xhr.response.error)return this.error(this.http_code,this.status_text,this.xhr.response.error),!1}null!==this.callback&&"function"==typeof this.callback&&this.callback.call(this.context,this.xhr.response,this.data)}isWpNonceError(){let t=!1,e=!1;return 4==this.xhr.readyState&&(t="object"==typeof this.xhr.response&&null!==this.xhr.response&&this.xhr.response.hasOwnProperty("data")&&this.xhr.response.data.hasOwnProperty("status")&&403===this.xhr.response.data.status,e="-1"===this.xhr.response&&403===this.xhr.status),t||e}getFreshNonceAndRerunXHR(t){let e="";var o;t.hasOwnProperty("headers")&&t.headers.hasOwnProperty("X-WP-Nonce")&&(e=t.headers["X-WP-Nonce"]),""!==(e=t.hasOwnProperty("data")&&t.data.hasOwnProperty("_ajax_nonce")?t.data._ajax_nonce:e)&&((o={method:"POST"}).data={spbc_remote_call_action:"get_fresh_wpnonce",plugin_name:"antispam",nonce_prev:e,initial_request_params:t},o.notJson=!0,o.url=ctPublicFunctions.host_url,o.callback=function(...t){var e=t[0];let o=!1;(o=void 0!==t[1]&&t[1].hasOwnProperty("initial_request_params")?t[1].initial_request_params:o)&&e.hasOwnProperty("wpnonce")&&(ctPublicFunctions._fresh_nonce=e.wpnonce,"rest"===ctPublicFunctions.data__ajax_type?(new ApbctCore).rest(o):(new ApbctCore).ajax(o))},new ApbctXhr(o))}error(t,e,o){let c="";"timeout"===e?c+="Server response timeout":200===t?"parsererror"===e?c+="Unexpected response from server. See console for details.":(c+="Unexpected error. Status: "+e+".",void 0!==o&&(c+=" Additional error info: "+o)):c+=500===t?"Internal server error.":"Unexpected response code:"+t,this.errorOutput(c),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback(this.status_text)}errorOutput(t){console.log("%c ctXHR error: %c"+t,"color: red;","color: grey;")}setHeaders(){for(var t in this.headers)void 0!==this.headers[t]&&this.xhr.setRequestHeader(t,this.headers[t])}convertData(){return~this.methods_to_convert_data_to_URL.indexOf(this.method)?this.convertDataToURL():this.convertDataToBody()}convertDataToURL(){var t=new URLSearchParams(this.data).toString(),e=this.url.match(/^(https?:\/{2})?[a-z0-9.]+\?/)?"&":"?";return this.url+=e+t,this.url}convertDataToBody(){for(var t in this.body=new FormData,this.data)Object.hasOwn(this.data,t)&&this.body.append(t,"object"==typeof this.data[t]?JSON.stringify(this.data[t]):this.data[t]);return this.body}deleteDoubleJSONEncoding(t){if("object"==typeof t)for(var e in t){var o;Object.hasOwn(t,e)&&("object"==typeof t[e]&&(t[e]=this.deleteDoubleJSONEncoding(t[e])),"string"==typeof t[e])&&null!==t[e].match(/^[\[{].*?[\]}]$/)&&"object"==typeof(o=JSON.parse(t[e]))&&(t[e]=o)}return t}}class ApbctAjax extends ApbctXhr{constructor(...t){(t=t[0]).data._ajax_nonce=selectActualNonce(),super(t)}}class ApbctRest extends ApbctXhr{static default_route=ctPublicFunctions._rest_url+"cleantalk-antispam/v1/";route="";constructor(...t){t=t[0];var e=selectActualNonce();t.url=ApbctRest.default_route+t.route,t.headers={"X-WP-Nonce":e},super(t)}}Object.prototype.hasOwn||Object.defineProperty(Object.prototype,"hasOwn",{value:function(t){return Object.prototype.hasOwnProperty.call(this,t)},enumerable:!1,configurable:!0,writable:!0});class ApbctCollectingUserActivity{elementBody=document.querySelector("body");collectionForms=document.forms;constructor(){this.setListeners()}setListeners(){this.elementBody.addEventListener("click",t=>{this.checkElementInForms(t,"addClicks")}),this.elementBody.addEventListener("mouseup",t=>{"Range"==document.getSelection().type.toString()&&this.addSelected()}),this.elementBody.addEventListener("mousemove",t=>{this.checkElementInForms(t,"trackMouseMovement")})}checkElementInForms(e,t){let o;for(let t=0;t<this.collectionForms.length;t++)o=0<e.target.outerHTML.length&&0<this.collectionForms[t].innerHTML.length?this.collectionForms[t].innerHTML.indexOf(e.target.outerHTML):-1;switch(t){case"addClicks":o<0&&this.addClicks();break;case"trackMouseMovement":-1<o&&this.trackMouseMovement()}}addClicks(){document.ctCollectingUserActivityData?document.ctCollectingUserActivityData.clicks?document.ctCollectingUserActivityData.clicks++:document.ctCollectingUserActivityData.clicks=1:document.ctCollectingUserActivityData={clicks:1}}addSelected(){document.ctCollectingUserActivityData?document.ctCollectingUserActivityData.selected?document.ctCollectingUserActivityData.selected++:document.ctCollectingUserActivityData.selected=1:document.ctCollectingUserActivityData={selected:1}}trackMouseMovement(){document.ctCollectingUserActivityData||(document.ctCollectingUserActivityData={}),document.ctCollectingUserActivityData.mouseMovementsInsideForm||(document.ctCollectingUserActivityData.mouseMovementsInsideForm=!1),document.ctCollectingUserActivityData.mouseMovementsInsideForm=!0}}function ctSetCookie(t,e,c){let o=["ct_sfw_pass_key","ct_sfw_passed","wordpress_apbct_antibot","apbct_anticrawler_passed","apbct_bot_detector_exist","apbct_antiflood_passed","apbct_email_encoder_passed"],n=!1;if("string"==typeof t&&(n="ct_pointer_data"===t,"string"!=typeof e&&"number"!=typeof e||(t=[[t,e,c]])),"none"===ctPublicFunctions.data__cookies_type){let e=[];t.forEach(function(t){-1!==o.indexOf(t[0])?e.push(t):apbctLocalStorage.set(t[0],t[1])}),0<e.length&&ctSetAlternativeCookie(e),ctPublic.force_alt_cookies&&!n?ctSetAlternativeCookie(t,{forceAltCookies:!0}):ctNoCookieAttachHiddenFieldsToForms()}else"native"===ctPublicFunctions.data__cookies_type?(ctPublic.force_alt_cookies&&!n&&ctSetAlternativeCookie(t,{forceAltCookies:!0}),t.forEach(function(t){var e=void 0!==t[2]?"expires="+c+"; ":"",o="https:"===location.protocol?"; secure":"";document.cookie=ctPublicFunctions.cookiePrefix+t[0]+"="+encodeURIComponent(t[1])+"; "+e+"path=/; samesite=lax"+o})):"alternative"!==ctPublicFunctions.data__cookies_type||n||ctSetAlternativeCookie(t)}function ctDetectForcedAltCookiesForms(){var t=0<document.querySelectorAll("#tmpl-nf-layout").length,e=0<document.querySelectorAll(".uael-registration-form-wrapper").length,o=0<document.querySelectorAll('script[id*="smart-forms"]').length,c=0<document.querySelectorAll('iframe[name="jetpack_remote_comment"]').length,n=0<document.querySelectorAll(".cwginstock-subscribe-form").length,a=0<document.querySelectorAll('div[id^="user-registration-form"]').length,i=0<document.querySelectorAll('div[class^="et_pb_newsletter_form"]').length,s=0<document.querySelectorAll('div[class^="fluent_booking_app"]').length,r=0<document.querySelectorAll('div[class^="et_bloom_form_container"]').length,l=0<document.querySelectorAll('div[class*="pafe-form"]').length,d=0<document.querySelectorAll('div [class*="otter-form"]').length,u=0<document.querySelectorAll("form .sqbform, .fields_reorder_enabled").length;ctPublic.force_alt_cookies=o||t||c||e||n||a||i||s||l||r||d||u,setTimeout(function(){var t;ctPublic.force_alt_cookies||(t=0<document.querySelectorAll('main[id^="bookingpress_booking_form"]').length,ctPublic.force_alt_cookies=t)},1e3)}function ctSetAlternativeCookie(t,e){"function"==typeof getJavascriptClientData?Array.isArray(t)&&(t=getJavascriptClientData(t)):console.log("APBCT ERROR: getJavascriptClientData() is not loaded");try{t=JSON.parse(t)}catch(t){return void console.log("APBCT ERROR: JSON parse error:"+t)}var o=e&&e.callback||null,c=e&&e.onErrorCallback||null;e&&e.forceAltCookies&&(t.apbct_force_alt_cookies=!0),"rest"===ctPublicFunctions.data__ajax_type?("string"==typeof t.apbct_pixel_url&&-1!==t.apbct_pixel_url.indexOf("%3A")&&(t.apbct_pixel_url=decodeURIComponent(t.apbct_pixel_url)),apbct_public_sendREST("alt_sessions",{method:"POST",data:{cookies:t},callback:o,onErrorCallback:c})):"admin_ajax"===ctPublicFunctions.data__ajax_type&&apbct_public_sendAJAX({action:"apbct_alt_session__save__AJAX",cookies:t},{notJson:1,callback:o,onErrorCallback:c,beforeSend:function(t){t.setRequestHeader("X-Robots-Tag","noindex, nofollow")}})}function ctGetCookie(t){t=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function ctDeleteCookie(t){var e;"none"!==ctPublicFunctions.data__cookies_type&&("native"===ctPublicFunctions.data__cookies_type?(e="https:"===location.protocol?"; secure":"",document.cookie=t+'=""; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; samesite=lax'+e):ctPublicFunctions.data__cookies_type)}function apbct_public_sendAJAX(t,e,o){var c=[],o=(c.callback=e.callback||null,c.onErrorCallback=e.onErrorCallback||null,c.callback_context=e.callback_context||null,c.callback_params=e.callback_params||null,c.async=e.async||!0,c.notJson=e.notJson||null,c.responseType=e.notJson?"text":"json",c.timeout=e.timeout||15e3,c.obj=o||null,c.button=e.button||null,c.spinner=e.spinner||null,c.progressbar=e.progressbar||null,c.silent=e.silent||null,c.no_nonce=e.no_nonce||null,c.data=t,c.url=ctPublicFunctions._ajax_url,selectActualNonce());"string"==typeof t?(c.no_nonce||(c.data=c.data+"&_ajax_nonce="+o),c.data=c.data+"&no_cache="+Math.random()):(c.no_nonce||(c.data._ajax_nonce=o),c.data.no_cache=Math.random()),(new ApbctCore).ajax(c)}function apbct_public_sendREST(t,e){var o=[];o.route=t,o.callback=e.callback||null,o.onErrorCallback=e.onErrorCallback||null,o.data=e.data||[],o.method=e.method||"POST",(new ApbctCore).rest(o)}function apbctGenerateUniqueID(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}let apbctLocalStorage={get:function(e,o){void 0===o&&(o="value");e=localStorage.getItem(e);if(null!==e)try{var c=JSON.parse(e);if(!c.hasOwnProperty(o))return c;try{return JSON.parse(c[o])}catch(t){return c[o].toString()}}catch(t){return e}return!1},set:function(t,e,o=!0){o?(o={value:JSON.stringify(e),timestamp:Math.floor((new Date).getTime()/1e3)},localStorage.setItem(t,JSON.stringify(o))):localStorage.setItem(t,e)},isAlive:function(t,e){return void 0===e&&(e=86400),this.get(t,"timestamp")+e>Math.floor((new Date).getTime()/1e3)},isSet:function(t){return null!==localStorage.getItem(t)},delete:function(t){localStorage.removeItem(t)},getCleanTalkData:function(){var e={};for(let t=0;t<localStorage.length;t++){var o=localStorage.key(t);-1===o.indexOf("ct_")&&-1===o.indexOf("apbct_")||(e[o.toString()]=apbctLocalStorage.get(o))}return e}},apbctSessionStorage={get:function(e,t){void 0===t&&(t="value");e=sessionStorage.getItem(e);if(null!==e)try{var o=JSON.parse(e);return o.hasOwnProperty(t)?JSON.parse(o[t]):o}catch(t){return e}return!1},set:function(t,e,o=!0){o?(o={value:JSON.stringify(e),timestamp:Math.floor((new Date).getTime()/1e3)},sessionStorage.setItem(t,JSON.stringify(o))):sessionStorage.setItem(t,e)},isSet:function(t){return null!==sessionStorage.getItem(t)},delete:function(t){sessionStorage.removeItem(t)},getCleanTalkData:function(){var e={};for(let t=0;t<sessionStorage.length;t++){var o=sessionStorage.key(t);-1===o.indexOf("ct_")&&-1===o.indexOf("apbct_")||(e[o.toString()]=apbctSessionStorage.get(o))}return e}};function apbctOnAnimationStart(t){("onautofillstart"===t.animationName?apbctAutocomplete:apbctCancelAutocomplete)(t.target)}function apbctOnInput(t){("insertReplacementText"!==t.inputType&&"data"in t?apbctCancelAutocomplete:apbctAutocomplete)(t.target)}function apbctAutocomplete(t){var e;t.hasAttribute("autocompleted")||(t.setAttribute("autocompleted",""),e=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null}),t.dispatchEvent(e))||(t.value="")}function apbctCancelAutocomplete(t){t.hasAttribute("autocompleted")&&(t.removeAttribute("autocompleted"),t.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}class ApbctForceProtection{wrappers=[];constructor(){this.wrappers=this.findWrappers(),this.wrappers.length<1||this.checkBot()}findWrappers(){return document.querySelectorAll("div.ct-encoded-form-wrapper")}checkBot(){var t={event_javascript_data:getJavascriptClientData(),post_url:document.location.href,referrer:document.referrer};"rest"===ctPublicFunctions.data__ajax_type?apbct_public_sendREST("force_protection_check_bot",{data:t,method:"POST",callback:t=>this.checkBotCallback(t)}):"admin_ajax"===ctPublicFunctions.data__ajax_type&&(t.action="apbct_force_protection_check_bot",apbct_public_sendAJAX(t,{callback:t=>this.checkBotCallback(t)}))}checkBotCallback(t){if(t.data&&t.data.status&&200!==t.data.status)console.log("ApbctForceProtection connection error occurred"),this.decodeForms();else{if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return console.log("ApbctForceProtection decodeForms error",t),void this.decodeForms()}"object"==typeof t&&t.allow&&1===t.allow?(this.decodeForms(),document.dispatchEvent(new Event("apbctForceProtectionAllowed"))):this.showMessageForBot(t.message)}}decodeForms(){let o;this.wrappers.forEach(t=>{o=t.querySelector("div.ct-encoded-form").dataset.encodedForm;try{var e;o&&"string"==typeof o&&(e=decodeURIComponent(o),t.outerHTML=atob(e))}catch(t){console.log(t)}})}showMessageForBot(e){let o;this.wrappers.forEach(t=>{(o=t.querySelector("div.ct-encoded-form").dataset.encodedForm)&&(t.outerHTML='<div class="ct-encoded-form-forbidden">'+e+"</div>")})}}function apbctForceProtect(){+ctPublic.settings__forms__force_protection&&void 0!==ApbctForceProtection&&new ApbctForceProtection}ctPublic.data__key_is_ok&&("loading"!==document.readyState?apbctForceProtect():apbct_attach_event_handler(document,"DOMContentLoaded",apbctForceProtect));class CTTypoData{fieldData={isAutoFill:!1,isUseBuffer:!1,speedDelta:0,firstKeyTimestamp:0,lastKeyTimestamp:0,lastDelta:0,countOfKey:0};fields=document.querySelectorAll("textarea[name=comment]");data=[];gatheringFields(){Array.prototype.slice.call(this.fields).forEach((t,e)=>{this.data.push(Object.assign({},this.fieldData))})}setListeners(){this.fields.forEach((t,e)=>{t.addEventListener("paste",()=>{this.data[e].isUseBuffer=!0})}),this.fields.forEach((t,e)=>{t.addEventListener("onautocomplete",()=>{this.data[e].isAutoFill=!0})}),this.fields.forEach((t,o)=>{t.addEventListener("input",()=>{this.data[o].countOfKey++;var t,e=+new Date;1===this.data[o].countOfKey?(this.data[o].lastKeyTimestamp=e,this.data[o].firstKeyTimestamp=e):(t=e-this.data[o].lastKeyTimestamp,2===this.data[o].countOfKey?(this.data[o].lastKeyTimestamp=e,this.data[o].lastDelta=t):2<this.data[o].countOfKey&&(this.data[o].speedDelta+=Math.abs(this.data[o].lastDelta-t),this.data[o].lastKeyTimestamp=e,this.data[o].lastDelta=t))})})}}let ctDate=new Date,ctTimeMs=(new Date).getTime(),ctMouseEventTimerFlag=!0,ctMouseData=[],ctMouseDataCounter=0,ctCheckedEmails={},ctCheckedEmailsExist={},ctMouseReadInterval,ctMouseWriteDataInterval,tokenCheckerIntervalId,botDetectorLogLastUpdate=0,botDetectorLogEventTypesCollected=[];function apbct_attach_event_handler(t,e,o){"function"==typeof window.addEventListener?t.addEventListener(e,o):t.attachEvent(e,o)}function apbct_remove_event_handler(t,e,o){"function"==typeof window.removeEventListener?t.removeEventListener(e,o):t.detachEvent(e,o)}let ctFunctionFirstKey=function(t){ctSetCookie("ct_fkp_timestamp",Math.floor((new Date).getTime()/1e3)),ctKeyStopStopListening()},ctFunctionMouseMove=(cronFormsHandler(2e3),ctPublicFunctions.hasOwnProperty("data__bot_detector_enabled")&&1==ctPublicFunctions.data__bot_detector_enabled&&ctPublicFunctions.hasOwnProperty("data__frontend_data_log_enabled")&&1==ctPublicFunctions.data__frontend_data_log_enabled&&sendBotDetectorLogToAltSessions(1e3),ctPublic.data__key_is_ok&&(ctMouseReadInterval=setInterval(function(){ctMouseEventTimerFlag=!0},150),ctMouseWriteDataInterval=setInterval(function(){ctSetCookie("ct_pointer_data",JSON.stringify(ctMouseData))},1200)),function(t){ctSetMouseMoved(),!0===ctMouseEventTimerFlag&&(ctMouseData.push([Math.round(t.clientY),Math.round(t.clientX),Math.round((new Date).getTime()-ctTimeMs)]),ctMouseDataCounter++,ctMouseEventTimerFlag=!1,50<=ctMouseDataCounter)&&ctMouseStopData()});function cronFormsHandler(t=2e3){setTimeout(function(){setInterval(function(){restartFieldsListening(),restartBotDetectorEventTokenAttach()},2e3)},t)}function sendBotDetectorLogToAltSessions(t=3e3,e=1e3){setTimeout(function(){setInterval(function(){var t=apbctLocalStorage.get("ct_bot_detector_frontend_data_log");needsSaveLogToAltSessions(t)&&(botDetectorLogLastUpdate=t.log_last_update,ctSetAlternativeCookie([],{forceAltCookies:!0}))},e)},t)}function needsSaveLogToAltSessions(e){if(e&&e.hasOwnProperty("log_last_update")&&botDetectorLogLastUpdate!==e.log_last_update)try{for(let t=0;t<e.records.length;t++){var o=e.records[t].frontend_data.js_event;if(void 0===o||!botDetectorLogEventTypesCollected.includes(o))return botDetectorLogEventTypesCollected.push(o),!0}}catch(t){console.log("APBCT: bot detector log collection error: ".e.toString())}return!1}function restartBotDetectorEventTokenAttach(){var t,e=0<document.getElementsByClassName("latepoint-form").length||0<document.getElementsByClassName("mec-booking-form-container").length||null!==document.getElementById("login-form-popup");try{e&&(t=apbctLocalStorage.get("bot_detector_event_token"),"function"==typeof setEventTokenField)&&void 0!==t&&64===t.length&&setEventTokenField(t)}catch(t){console.log(t.toString())}}function ctMouseStopData(){apbct_remove_event_handler(document,"mousemove",ctFunctionMouseMove),clearInterval(ctMouseReadInterval),clearInterval(ctMouseWriteDataInterval)}function ctKeyStopStopListening(){apbct_remove_event_handler(document,"mousedown",ctFunctionFirstKey),apbct_remove_event_handler(document,"keydown",ctFunctionFirstKey)}function checkEmail(t){let e=t.target.value;!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||!e||e in ctCheckedEmails||("rest"===ctPublicFunctions.data__ajax_type?apbct_public_sendREST("check_email_before_post",{method:"POST",data:{email:e},callback:function(t){t.result&&(ctCheckedEmails[e]={result:t.result,timestamp:Date.now()/1e3|0},ctSetCookie("ct_checked_emails",JSON.stringify(ctCheckedEmails)))}}):"admin_ajax"===ctPublicFunctions.data__ajax_type&&apbct_public_sendAJAX({action:"apbct_email_check_before_post",email:e},{callback:function(t){t.result&&(ctCheckedEmails[e]={result:t.result,timestamp:Date.now()/1e3|0},ctSetCookie("ct_checked_emails",JSON.stringify(ctCheckedEmails)))}}))}function checkEmailExist(e){let o=e.target.value;var t;o&&o.length?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(o in ctCheckedEmailsExist?(t=ctCheckedEmailsExist[o],getResultCheckEmailExist(e,t,o)):(viewCheckEmailExist(e,"load"),(ctPublicFunctions.data__ajax_type="rest")===ctPublicFunctions.data__ajax_type?apbct_public_sendREST("check_email_exist_post",{method:"POST",data:{email:o},callback:function(t){getResultCheckEmailExist(e,t,o)}}):"admin_ajax"===ctPublicFunctions.data__ajax_type&&apbct_public_sendAJAX({action:"apbct_email_check_exist_post",email:o},{callback:function(t){getResultCheckEmailExist(e,t,o)}}))):((t=document.getElementById("apbct-check_email_exist-block"))&&t.remove(),(t=document.getElementById("apbct-check_email_exist-popup_description"))&&t.remove())}function getResultCheckEmailExist(t,e,o){e&&e.result&&(e=e.result,ctCheckedEmailsExist[o]={result:e,timestamp:Date.now()/1e3|0},"EXISTS"==e.result?viewCheckEmailExist(t,"good_email",e.text_result):viewCheckEmailExist(t,"bad_email",e.text_result),ctSetCookie("ct_checked_emails_exist",JSON.stringify(ctCheckedEmailsExist)))}function viewCheckEmailExist(o,c,n){o=o.target.parentElement;let a=o.querySelector('[name*="email"]');if(a){let t,e;switch(document.getElementById("apbct-check_email_exist-block")?t=document.getElementById("apbct-check_email_exist-block"):((t=document.createElement("div")).setAttribute("class","apbct-check_email_exist-block"),t.setAttribute("id","apbct-check_email_exist-block"),window.addEventListener("scroll",function(){t.style.top=a.getBoundingClientRect().top+"px"}),o.after(t)),document.getElementById("apbct-check_email_exist-popup_description")?e=document.getElementById("apbct-check_email_exist-popup_description"):((e=document.createElement("div")).setAttribute("class","apbct-check_email_exist-popup_description"),e.setAttribute("id","apbct-check_email_exist-popup_description"),window.addEventListener("scroll",function(){e.style.top=t.getBoundingClientRect().top+"px"}),t.after(e)),ctEmailExistSetElementsPositions(),window.addEventListener("resize",function(t){ctEmailExistSetElementsPositions()}),c){case"load":t.classList.remove("apbct-check_email_exist-good_email","apbct-check_email_exist-bad_email"),t.classList.add("apbct-check_email_exist-load");break;case"good_email":t.classList.remove("apbct-check_email_exist-load","apbct-check_email_exist-bad_email"),t.classList.add("apbct-check_email_exist-good_email"),t.onmouseover=function(){e.textContent=n,e.style.display="block",e.style.top=a.getBoundingClientRect().top-e.getBoundingClientRect().height+"px",e.style.color="#1C7129"},t.onmouseout=function(){e.style.display="none"};break;case"bad_email":t.classList.remove("apbct-check_email_exist-load","apbct-check_email_exist-good_email"),t.classList.add("apbct-check_email_exist-bad_email"),t.onmouseover=function(){e.textContent=n,e.style.display="block",e.style.top=a.getBoundingClientRect().top-e.getBoundingClientRect().height+"px",e.style.color="#E01111"},t.onmouseout=function(){e.style.display="none"}}}}function ctEmailExistSetElementsPositions(){var t,e=document.querySelector('comment-form input[name*="email"], input#email');e&&((t=document.getElementById("apbct-check_email_exist-block"))&&(t.style.top=e.getBoundingClientRect().top+"px",t.style.left=e.getBoundingClientRect().right-35-10+"px",t.style.height=e.offsetHeight+"px",t.style.width="35px"),t=document.getElementById("apbct-check_email_exist-popup_description"))&&(t.style.width=e.offsetWidth+"px",t.style.left=e.getBoundingClientRect().left+"px")}function ctIsDrawPixel(){return("3"!=ctPublic.pixel__setting||"1"!=ctPublic.settings__data__bot_detector_enabled)&&(+ctPublic.pixel__enabled||"none"===ctPublic.data__cookies_type&&0===document.querySelectorAll("img#apbct_pixel").length||"alternative"===ctPublic.data__cookies_type&&0===document.querySelectorAll("img#apbct_pixel").length)}function ctSetPixelImg(t){if("3"==ctPublic.pixel__setting&&"1"==ctPublic.settings__data__bot_detector_enabled)return!1;var e;ctSetCookie("apbct_pixel_url",t),ctIsDrawPixel()&&!document.getElementById("apbct_pixel")&&((e=document.createElement("img")).setAttribute("alt","CleanTalk Pixel"),e.setAttribute("title","CleanTalk Pixel"),e.setAttribute("id","apbct_pixel"),e.setAttribute("style","display: none; left: 99999px;"),e.setAttribute("src",t),apbct("body").append(e))}function ctSetPixelImgFromLocalstorage(t){if("3"==ctPublic.pixel__setting&&"1"==ctPublic.settings__data__bot_detector_enabled)return!1;var e;ctIsDrawPixel()&&!document.getElementById("apbct_pixel")&&((e=document.createElement("img")).setAttribute("alt","CleanTalk Pixel"),e.setAttribute("title","CleanTalk Pixel"),e.setAttribute("id","apbct_pixel"),e.setAttribute("style","display: none; left: 99999px;"),e.setAttribute("src",decodeURIComponent(t)),apbct("body").append(e))}function ctGetPixelUrl(){if("3"==ctPublic.pixel__setting&&"1"==ctPublic.settings__data__bot_detector_enabled)return!1;var t=apbctLocalStorage.get("apbct_pixel_url");if(!1!==t){if(apbctLocalStorage.isAlive("apbct_pixel_url",10800))return void ctSetPixelImgFromLocalstorage(t);apbctLocalStorage.delete("apbct_pixel_url")}"rest"===ctPublicFunctions.data__ajax_type?apbct_public_sendREST("apbct_get_pixel_url",{method:"POST",callback:function(t){t&&("string"==typeof t||t instanceof String)&&0===t.indexOf("https")&&(apbctLocalStorage.get("apbct_pixel_url")||(apbctLocalStorage.set("apbct_pixel_url",t),ctNoCookieAttachHiddenFieldsToForms()),ctSetPixelImg(t))}}):apbct_public_sendAJAX({action:"apbct_get_pixel_url"},{notJson:!0,callback:function(t){t&&("string"==typeof t||t instanceof String)&&0===t.indexOf("https")&&(apbctLocalStorage.get("apbct_pixel_url")||(apbctLocalStorage.set("apbct_pixel_url",t),ctNoCookieAttachHiddenFieldsToForms()),ctSetPixelImg(t))},beforeSend:function(t){t.setRequestHeader("X-Robots-Tag","noindex, nofollow")}})}function ctSetHasScrolled(){apbctLocalStorage.isSet("ct_has_scrolled")&&apbctLocalStorage.get("ct_has_scrolled")||(ctSetCookie("ct_has_scrolled","true"),apbctLocalStorage.set("ct_has_scrolled",!0)),"native"===ctPublic.data__cookies_type&&void 0===ctGetCookie("ct_has_scrolled")&&ctSetCookie("ct_has_scrolled","true")}function ctSetMouseMoved(){apbctLocalStorage.isSet("ct_mouse_moved")&&apbctLocalStorage.get("ct_mouse_moved")||(ctSetCookie("ct_mouse_moved","true"),apbctLocalStorage.set("ct_mouse_moved",!0)),"native"===ctPublic.data__cookies_type&&void 0===ctGetCookie("ct_mouse_moved")&&ctSetCookie("ct_mouse_moved","true")}function restartFieldsListening(){apbctLocalStorage.isSet("ct_has_input_focused")||apbctLocalStorage.isSet("ct_has_key_up")||ctStartFieldsListening()}function ctStartFieldsListening(){if(!apbctLocalStorage.isSet("ct_has_key_up")&&!apbctLocalStorage.get("ct_has_key_up")||!apbctLocalStorage.isSet("ct_has_input_focused")&&!apbctLocalStorage.get("ct_has_input_focused")||"native"!==ctPublic.data__cookies_type||void 0===ctGetCookie("ct_has_input_focused")||void 0===ctGetCookie("ct_has_key_up")){var e=ctGetPageForms();if(ctPublic.handled_fields=[],0<e.length)for(let t=0;t<e.length;t++){var o=e[t].querySelectorAll("input,textarea");for(let t=0;t<o.length;t++)"hidden"!==o[t].type&&(ctPublic.handled_fields.push(o[t]),apbct_attach_event_handler(o[t],"focus",ctFunctionHasInputFocused),apbct_attach_event_handler(o[t],"keyup",ctFunctionHasKeyUp))}}}function ctStopFieldsListening(e,o){if(void 0!==ctPublic.handled_fields&&0<ctPublic.handled_fields.length)for(let t=0;t<ctPublic.handled_fields.length;t++)apbct_remove_event_handler(ctPublic.handled_fields[t],e,o)}let ctFunctionHasInputFocused=function(t){ctSetHasInputFocused(),ctStopFieldsListening("focus",ctFunctionHasInputFocused)},ctFunctionHasKeyUp=function(t){ctSetHasKeyUp(),ctStopFieldsListening("keyup",ctFunctionHasKeyUp)};function ctSetHasInputFocused(){apbctLocalStorage.isSet("ct_has_input_focused")&&apbctLocalStorage.get("ct_has_input_focused")||apbctLocalStorage.set("ct_has_input_focused",!0),("native"===ctPublic.data__cookies_type&&void 0===ctGetCookie("ct_has_input_focused")||"alternative"===ctPublic.data__cookies_type||"none"===ctPublic.data__cookies_type&&(void 0!==ctPublic.force_alt_cookies||void 0!==ctPublic.force_alt_cookies&&ctPublic.force_alt_cookies))&&ctSetCookie("ct_has_input_focused","true")}function ctSetHasKeyUp(){apbctLocalStorage.isSet("ct_has_key_up")&&apbctLocalStorage.get("ct_has_key_up")||apbctLocalStorage.set("ct_has_key_up",!0),("native"===ctPublic.data__cookies_type&&void 0===ctGetCookie("ct_has_key_up")||"alternative"===ctPublic.data__cookies_type||"none"===ctPublic.data__cookies_type&&(void 0!==ctPublic.force_alt_cookies||void 0!==ctPublic.force_alt_cookies&&ctPublic.force_alt_cookies))&&ctSetCookie("ct_has_key_up","true")}function apbctPrepareBlockForAjaxForms(){function c(t){if(t.responseText&&-1!==t.responseText.indexOf('"apbct')&&-1===t.responseText.indexOf("DOCTYPE"))try{ctParseBlockMessage(JSON.parse(t.responseText))}catch(t){console.log(t.toString())}}"undefined"!=typeof jQuery?"function"!=typeof jQuery(document).ajaxComplete()?jQuery(document).on("ajaxComplete",function(t,e,o){c(e)}):jQuery(document).ajaxComplete(function(t,e,o){c(e)}):"undefined"!=typeof XMLHttpRequest&&document.addEventListener("readystatechange",function(t){4===t.target.readyState&&c(t.target)})}function startForcedAltEventTokenChecker(){tokenCheckerIntervalId=setInterval(function(){var t;"1"===apbctLocalStorage.get("event_token_forced_set")?clearInterval(tokenCheckerIntervalId):(t=apbctLocalStorage.get("bot_detector_event_token"))&&(ctSetAlternativeCookie([["ct_bot_detector_event_token",t]],{forceAltCookies:!0}),apbctLocalStorage.set("event_token_forced_set","1"),clearInterval(tokenCheckerIntervalId))},1e3)}function apbct_ready(){document.addEventListener("gform_page_loaded",function(){void 0!==ctPublic.force_alt_cookies&&("undefined"===ctPublic.force_alt_cookies||ctPublic.force_alt_cookies)||(ctNoCookieAttachHiddenFieldsToForms(),"function"!=typeof setEventTokenField)||"function"!=typeof botDetectorLocalStorage||setEventTokenField(botDetectorLocalStorage.get("bot_detector_event_token"))}),ctPublic.wc_ajax_add_to_cart||apbctCheckAddToCartByGet(),apbctPrepareBlockForAjaxForms(),apbctSessionStorage.isSet("apbct_session_id")?apbctLocalStorage.set("apbct_page_hits",Number(apbctLocalStorage.get("apbct_page_hits"))+1):(t=apbctGenerateUniqueID(),apbctSessionStorage.set("apbct_session_id",t,!1),apbctLocalStorage.set("apbct_page_hits",1),document.referrer&&new URL(document.referrer).host!==location.host&&apbctSessionStorage.set("apbct_site_referer",document.referrer,!1)),apbctWriteReferrersToSessionStorage();var t=apbctLocalStorage.get("ct_cookies_type"),t=(t&&t===ctPublic.data__cookies_type||(apbctLocalStorage.set("ct_cookies_type",ctPublic.data__cookies_type),apbctLocalStorage.delete("ct_mouse_moved"),apbctLocalStorage.delete("ct_has_scrolled")),"alternative"!==ctPublic.data__cookies_type&&(ctStartFieldsListening(),setTimeout(ctStartFieldsListening,1e3)),window.addEventListener("animationstart",apbctOnAnimationStart,!0),window.addEventListener("input",apbctOnInput,!0),document.ctTypoData=new CTTypoData,document.ctTypoData.gatheringFields(),document.ctTypoData.setListeners(),[["ct_ps_timestamp",Math.floor((new Date).getTime()/1e3)],["ct_fkp_timestamp","0"],["ct_pointer_data","0"],["ct_timezone",ctDate.getTimezoneOffset()/60*-1],["ct_screen_info",apbctGetScreenInfo()],["apbct_headless",navigator.webdriver]]);if(apbctLocalStorage.set("ct_ps_timestamp",Math.floor((new Date).getTime()/1e3)),apbctLocalStorage.set("ct_fkp_timestamp","0"),apbctLocalStorage.set("ct_pointer_data","0"),apbctLocalStorage.set("ct_timezone",ctDate.getTimezoneOffset()/60*-1),apbctLocalStorage.set("ct_screen_info",apbctGetScreenInfo()),apbctLocalStorage.set("apbct_headless",navigator.webdriver),"native"!==ctPublic.data__cookies_type)t.push(["apbct_visible_fields","0"]);else{var e=document.cookie.split(";");if(0!==e.length)for(let t=0;t<e.length;t++){var o=e[t].trim().split("=")[0];0===o.indexOf("apbct_visible_fields_")&&ctDeleteCookie(o)}}!+ctPublic.pixel__setting||3==+ctPublic.pixel__setting&&1==ctPublic.settings__data__bot_detector_enabled||(ctIsDrawPixel()?ctGetPixelUrl():t.push(["apbct_pixel_url",ctPublic.pixel__url])),+ctPublic.data__email_check_before_post&&(t.push(["ct_checked_emails","0"]),apbct("input[type = 'email'], #email").on("blur",checkEmail)),+ctPublic.data__email_check_exist_post&&(t.push(["ct_checked_emails_exist","0"]),apbct("comment-form input[name = 'email'], input#email").on("blur",checkEmailExist)),apbctLocalStorage.isSet("ct_checkjs")?t.push(["ct_checkjs",apbctLocalStorage.get("ct_checkjs")]):t.push(["ct_checkjs",0]),ctDetectForcedAltCookiesForms();var c=apbctLocalStorage.get("bot_detector_event_token"),n=(void 0!==ctPublic.force_alt_cookies&&ctPublic.force_alt_cookies&&ctPublic.settings__data__bot_detector_enabled&&(apbctLocalStorage.set("event_token_forced_set","0"),c?(t.push(["ct_bot_detector_event_token",c]),apbctLocalStorage.set("event_token_forced_set","1")):startForcedAltEventTokenChecker()),ctSetCookie(t),setTimeout(function(){void 0!==ctPublic.force_alt_cookies&&("undefined"===ctPublic.force_alt_cookies||ctPublic.force_alt_cookies)||ctNoCookieAttachHiddenFieldsToForms(),void 0!==ctPublic.data__cookies_type&&"none"===ctPublic.data__cookies_type&&(ctAjaxSetupAddCleanTalkDataBeforeSendAjax(),ctAddWCMiddlewares());for(let t=0;t<document.forms.length;t++){var e,o,c=document.forms[t];ctCheckHiddenFieldsExclusions(document.forms[t],"visible_fields")||c.querySelector('input[name="wspsc_add_cart_submit"]')||c.querySelector('input[name="option"][value="com_vikrentcar"]')||c.querySelector('input[name="option"][value="com_vikbooking"]')||void 0!==document.forms[t].elements.apbct_visible_fields&&0<document.forms[t].elements.apbct_visible_fields.length||(c.querySelector('input[name="apbct_visible_fields"]')&&(e=c.querySelector('input[name="apbct_visible_fields"]'),c.removeChild(e)),(e=document.createElement("input")).setAttribute("type","hidden"),e.setAttribute("id","apbct_visible_fields_"+t),e.setAttribute("name","apbct_visible_fields"),(o={})[0]=apbct_collect_visible_fields(c),e.value=btoa(JSON.stringify(o)),c.append(e),c.onsubmit_prev=c.onsubmit,c.ctFormIndex=t,c.onsubmit=function(t){"native"!==ctPublic.data__cookies_type&&void 0!==t.target.ctFormIndex&&apbct_visible_fields_set_cookie(apbct_collect_visible_fields(this),t.target.ctFormIndex),"none"===ctPublic.data__cookies_type&&isFormThatNeedCatchXhr(t.target)&&(window.XMLHttpRequest.prototype.send=function(t){var e="data%5Bct_no_cookie_hidden_field%5D="+getNoCookieData()+"&";defaultSend.call(this,e+t),setTimeout(()=>{window.XMLHttpRequest.prototype.send=defaultSend},0)}),t.target.onsubmit_prev instanceof Function&&!ctOnsubmitPrevCallExclude(t.target)&&(void 0!==t.target.classList&&t.target.classList.contains("brave_form_form")&&t.preventDefault(),setTimeout(function(){t.target.onsubmit_prev.call(t.target,t)},0))})}},1e3),document.querySelectorAll("[data-original-string]"));if((ctPublic.encodedEmailNodes=n).length)for(let t=0;t<n.length;++t)n[t].addEventListener("click",ctFillDecodedEmailHandler);for(let e of document.forms)"undefined"==typeof ctPublic||1!=+ctPublic.settings__forms__search_test||!("searchform"===e.getAttribute("id")||null!==e.getAttribute("class")&&-1!==e.getAttribute("class").indexOf("search-form")||null!==e.getAttribute("role")&&-1!==e.getAttribute("role").indexOf("search"))||e.querySelector("input.dgwt-wcas-search-input")||"hero-search-form"!==e.getAttribute("id")&&"hb-booking-search-form"!==e.getAttribute("class")&&(e.apbctSearchPrevOnsubmit=e.onsubmit,e.onsubmit=t=>ctSearchFormOnSubmitHandler(t,e));apbctCatchXmlHttpRequest(),new ApbctCollectingUserActivity,ctPublic.settings__sfw__anti_crawler&&checkBotDetectorExist()}function checkBotDetectorExist(){if(+ctPublic.settings__data__bot_detector_enabled){let t=setInterval(()=>{!localStorage.bot_detector_event_token||(ctSetCookie("apbct_bot_detector_exist","1","3600"),clearInterval(t))},500)}}function ctAddWCMiddlewares(){window.hasOwnProperty("wp")&&window.wp.hasOwnProperty("apiFetch")&&"function"==typeof window.wp.apiFetch.use&&window.wp.apiFetch.use((t,e)=>("object"==typeof t&&null!==t&&t.hasOwnProperty("data")&&t.hasOwnProperty("path")&&(t.data.hasOwnProperty("requests")&&0<t.data.requests.length&&t.data.requests[0].hasOwnProperty("path")&&"/wc/store/v1/cart/add-item"===t.data.requests[0].path&&(t.data.requests[0].data.ct_no_cookie_hidden_field=getNoCookieData(),t.data.requests[0].data.event_token=localStorage.getItem("bot_detector_event_token")),"/wc/store/v1/checkout"===t.path)&&(t.data.ct_no_cookie_hidden_field=getNoCookieData(),t.data.event_token=localStorage.getItem("bot_detector_event_token")),e(t)))}function apbctCatchXmlHttpRequest(){if(null!==document.querySelector("div.wfu_container")||null!==document.querySelector("#newAppointmentForm")||null!==document.querySelector(".booked-calendar-shortcode-wrap")){let t=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(o){if(o&&"string"==typeof o&&(-1!==o.indexOf("action=wfu_ajax_action_ask_server")||-1!==o.indexOf("action=booked_add_appt"))){let t="",e=localStorage.getItem("bot_detector_event_token");try{e=JSON.parse(e)}catch{e=!1}null!==e&&!1!==e&&e.hasOwnProperty("value")&&""!==e.value&&(e=e.value,t+="&data%5Bct_bot_detector_event_token%5D="+e);var c=getNoCookieData();o+=t+="&data%5Bct_no_cookie_hidden_field%5D="+c}return t.apply(this,[o])}}}function ctAjaxSetupAddCleanTalkDataBeforeSendAjax(){let n=!1;"undefined"!=typeof jQuery&&"function"==typeof jQuery.ajaxSetup&&jQuery.ajaxSetup({beforeSend:function(t,e){let o=!1;if("string"==typeof e.data&&(-1!==e.data.indexOf("twt_cc_signup")&&(o="twt_cc_signup"),-1!==e.data.indexOf("action=mailpoet")&&(o="action=mailpoet"),-1!==e.data.indexOf("action=user_registration")&&-1!==e.data.indexOf("ur_frontend_form_nonce")&&(o="action=user_registration"),-1!==e.data.indexOf("action=happyforms_message")&&(o="action=happyforms_message"),-1!==e.data.indexOf("action=new_activity_comment"))&&(o="action=new_activity_comment"),"string"==typeof e.url&&-1!==e.url.indexOf("wc-ajax=add_to_cart")&&(o="wc-ajax=add_to_cart",null!==localStorage.getItem("bot_detector_event_token"))){n=localStorage.getItem("bot_detector_event_token");try{n=JSON.parse(n)}catch{n=!1}!1!==n&&n.hasOwnProperty("value")&&""!==n.value&&(n=n.value)}var c;o&&(c=getNoCookieData(),n="string"==typeof n?"data%5Bct_bot_detector_event_token%5D="+n+"&":"",e.data=(c="data%5Bct_no_cookie_hidden_field%5D="+c+"&")+n+e.data)}})}function ctOnsubmitPrevCallExclude(t){return!!t.classList.contains("hb-booking-search-form")}function ctSearchFormOnSubmitHandler(o,c){try{let t=c.querySelector('[name*="apbct_email_id__"]'),e=null;null!==t&&null!==t.value&&(e=t.value);var n,a,i,s=getCleanTalkStorageDataArray(),r=apbctLocalStorage.get("bot_detector_event_token");null===s&&null===t&&null===r||(o.preventDefault(),n=()=>{null!==t&&t.parentNode.removeChild(t),"function"==typeof c.apbctSearchPrevOnsubmit?c.apbctSearchPrevOnsubmit():HTMLFormElement.prototype.submit.call(c)},a=s,null!==e&&(a.apbct_search_form__honeypot_value=e),a.ct_bot_detector_event_token=r,"string"==typeof a.apbct_pixel_url&&-1!==a.apbct_pixel_url.indexOf("%3A")&&(a.apbct_pixel_url=decodeURIComponent(a.apbct_pixel_url)),void 0!==(i=JSON.stringify(a))&&0!==i.length?ctSetAlternativeCookie(i,{callback:n,onErrorCallback:n,forceAltCookies:!0}):n())}catch(t){console.warn("APBCT search form onsubmit handler error. "+t)}}function getJavascriptClientData(e=[]){let o={};o.ct_checked_emails=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_checked_emails"),o.ct_checked_emails_exist=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_checked_emails_exist"),o.ct_checkjs=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_checkjs"),o.ct_fkp_timestamp=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_fkp_timestamp"),o.ct_pointer_data=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_pointer_data"),o.ct_ps_timestamp=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_ps_timestamp"),o.ct_screen_info=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_screen_info"),o.ct_timezone=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_timezone");var t=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct_mouse_moved"),c=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct_has_scrolled"),n=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct_cookies_type"),a=apbctLocalStorage.get("apbct_page_hits"),i=apbctSessionStorage.get("apbct_prev_referer"),s=apbctSessionStorage.get("apbct_site_referer"),r=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct_js_errors"),l=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"apbct_pixel_url"),d=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"apbct_headless"),u=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct_bot_detector_frontend_data_log"),p=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_mouse_moved"),_=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_has_scrolled"),m=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct_cookies_type"),h=ctGetCookie(ctPublicFunctions.cookiePrefix+"apbct_pixel_url"),b=!!ctGetCookie(ctPublicFunctions.cookiePrefix+"apbct_headless");if(o.ct_mouse_moved=void 0!==t?t:p,o.ct_has_scrolled=void 0!==c?c:_,o.ct_cookies_type=void 0!==n?n:m,o.apbct_pixel_url=void 0!==l?l:h,o.apbct_headless=void 0!==d?d:b,o.ct_bot_detector_frontend_data_log=void 0!==u?u:"",o.apbct_pixel_url&&"string"==typeof o.apbct_pixel_url&&o.apbct_pixel_url.indexOf("%3A%2F")&&(o.apbct_pixel_url=decodeURIComponent(o.apbct_pixel_url)),o.apbct_page_hits=a,o.apbct_prev_referer=i,o.apbct_site_referer=s,o.apbct_ct_js_errors=r,o.apbct_pixel_url||(o.apbct_pixel_url=ctPublic.pixel__url),"object"==typeof e)for(let t=0;t<e.length;++t)"object"==typeof e[t][1]?o[e[t][1][0]]=e[t][1][1]:o[e[t][0]]=e[t][1];else console.log("APBCT JS ERROR: Collecting data type mismatch");return o=removeDoubleJsonEncoding(o),JSON.stringify(o)}function removeDoubleJsonEncoding(t){if("object"==typeof t)for(var e in t){var o;"object"==typeof t[e]&&(t[e]=removeDoubleJsonEncoding(t[e])),"string"==typeof t[e]&&null!==t[e].match(/^[\[{].*?[\]}]$/)&&"object"==typeof(o=JSON.parse(t[e]))&&(t[e]=o)}return t}function apbct_collect_visible_fields(t){let e=[],c="",n=0,a="",i=0,o=[];for(var s in t.elements)isNaN(+s)||(e[s]=t.elements[s]);return(e=e.filter(function(t){return-1===o.indexOf(t.getAttribute("name"))&&(-1===["radio","checkbox"].indexOf(t.getAttribute("type"))||(o.push(t.getAttribute("name")),!1))})).forEach(function(t,e,o){"submit"!==t.getAttribute("type")&&null!==t.getAttribute("name")&&"ct_checkjs"!==t.getAttribute("name")&&("none"!==getComputedStyle(t).display&&"hidden"!==getComputedStyle(t).visibility&&"0"!==getComputedStyle(t).opacity&&"hidden"!==t.getAttribute("type")||t.classList.contains("wp-editor-area")?(c+=" "+t.getAttribute("name"),n++):(a+=" "+t.getAttribute("name"),i++))}),a=a.trim(),{visible_fields:c=c.trim(),visible_fields_count:n,invisible_fields:a,invisible_fields_count:i}}function apbct_visible_fields_set_cookie(t,e){var o="object"==typeof t&&null!==t?t:{};if("native"===ctPublic.data__cookies_type)for(var c in o){if(10<c)return;ctSetCookie("apbct_visible_fields_"+(void 0!==e?e:c),JSON.stringify(o[c]))}else ctSetCookie("apbct_visible_fields",JSON.stringify(o))}function apbct_js_keys__set_input_value(e,t,o,c){if(0<document.querySelectorAll("[name^=ct_checkjs]").length){var n=document.querySelectorAll("[name^=ct_checkjs]");for(let t=0;t<n.length;t++)n[t].value=e.js_key}}function apbctGetScreenInfo(){return JSON.stringify({fullWidth:document.documentElement.scrollWidth,fullHeight:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),visibleWidth:document.documentElement.clientWidth,visibleHeight:document.documentElement.clientHeight})}function ctParseBlockMessage(t){let e="";void 0!==t.apbct&&(t=t.apbct).blocked&&(e=t.comment),(e=void 0!==t.data&&void 0!==(t=t.data).message?t.message:e)&&(document.dispatchEvent(new CustomEvent("apbctAjaxBockAlert",{bubbles:!0,detail:{message:e}})),cleantalkModal.loaded=e,cleantalkModal.open(),1==+t.stop_script)&&window.stop()}function ctSetPixelUrlLocalstorage(t){ctSetCookie("apbct_pixel_url",t)}function ctNoCookieConstructHiddenField(t){let e="hidden";"submit"===t&&(e="submit");var t="",o=getCleanTalkStorageDataArray(),o=JSON.stringify(o);return o="_ct_no_cookie_data_"+btoa(o),(t=document.createElement("input")).setAttribute("name","ct_no_cookie_hidden_field"),t.setAttribute("value",o),t.setAttribute("type",e),t.classList.add("apbct_special_field"),t.classList.add("ct_no_cookie_hidden_field"),t}function getCleanTalkStorageDataArray(){var t,e=apbctLocalStorage.getCleanTalkData(),o=apbctSessionStorage.getCleanTalkData();let c={typo:[]},n=(document.ctTypoData&&document.ctTypoData.data&&(c={typo:document.ctTypoData.data}),{collecting_user_activity_data:[]});return document.ctCollectingUserActivityData&&(t=JSON.parse(JSON.stringify(document.ctCollectingUserActivityData)),n={collecting_user_activity_data:t}),{...e,...o,...c,...n}}function ctGetPageForms(){var t=document.forms;return t||!1}function ctGetHiddenFieldExclusionsType(t){var e={no_cookie:0,visible_fields:0},o=((0==+ctPublic.data__visible_fields_required||"get"===t.method.toString().toLowerCase()&&0===t.querySelectorAll(".nf-form-content").length&&"twt_cc_signup"!==t.id||t.classList.contains("slp_search_form")||t.parentElement.classList.contains("mec-booking")||-1!==t.action.toString().indexOf("activehosted.com")||t.id&&"caspioform"===t.id||t.classList&&t.classList.contains("tinkoffPayRow")||t.classList&&t.classList.contains("give-form")||t.id&&"ult-forgot-password-form"===t.id||t.id&&-1!==t.id.toString().indexOf("calculatedfields")||t.id&&-1!==t.id.toString().indexOf("sac-form")||t.id&&-1!==t.id.toString().indexOf("cp_tslotsbooking_pform")||t.name&&-1!==t.name.toString().indexOf("cp_tslotsbooking_pform")||"https://epayment.epymtservice.com/epay.jhtml"===t.action.toString()||t.name&&-1!==t.name.toString().indexOf("tribe-bar-form")||t.id&&"ihf-login-form"===t.id||t.id&&"subscriberForm"===t.id&&-1!==t.action.toString().indexOf("actionType=update")||t.id&&"ihf-main-search-form"===t.id||t.id&&"frmCalc"===t.id||-1!==t.action.toString().indexOf("property-organizer-delete-saved-search-submit")||null!==t.querySelector('a[name="login"]'))&&(e.visible_fields=1),t.parentNode);return(o&&o.classList.contains("proinput")||"options"===t.name&&t.classList.contains("asp-fss-flex"))&&(e.no_cookie=1),t&&t.classList.contains("woocommerce-form-login")&&(e.visible_fields=1,e.no_cookie=1),e}function ctCheckHiddenFieldsExclusions(t,e){var o="string"==typeof t.action?t.action:"";return!!Boolean(t.querySelector("fieldset.asl_sett_scroll"))||!!t.classList.contains("swpf-instant-filtering")||-1!==o.indexOf("secure.payu.com")||-1!==o.indexOf("hsforms")||-1!==o.indexOf("secureinternetbank.com")||"string"==typeof e&&-1!==["visible_fields","no_cookie"].indexOf(e)&&1===ctGetHiddenFieldExclusionsType(t)[e]}function ctNoCookieAttachHiddenFieldsToForms(){if("none"===ctPublic.data__cookies_type){var e=ctGetPageForms();if(e)for(let t=0;t<e.length;t++)if(!ctCheckHiddenFieldsExclusions(document.forms[t],"no_cookie")&&(null===document.forms[t].getAttribute("method")||"post"===document.forms[t].getAttribute("method").toLowerCase())){var o=e[t].querySelectorAll(".ct_no_cookie_hidden_field");for(let t=0;t<o.length;t++)o[t].outerHTML="";document.forms[t].append(ctNoCookieConstructHiddenField())}}}ctPublic.data__key_is_ok&&(apbct_attach_event_handler(document,"mousemove",ctFunctionMouseMove),apbct_attach_event_handler(document,"mousedown",ctFunctionFirstKey),apbct_attach_event_handler(document,"keydown",ctFunctionFirstKey),apbct_attach_event_handler(document,"scroll",ctSetHasScrolled)),ctPublic.data__key_is_ok&&("loading"!==document.readyState?apbct_ready():apbct_attach_event_handler(document,"DOMContentLoaded",apbct_ready),apbctLocalStorage.set("ct_checkjs",ctPublic.ct_checkjs_key,!0));let defaultFetch=window.fetch,defaultSend=XMLHttpRequest.prototype.send;function checkFormsExistForCatching(){setTimeout(function(){isFormThatNeedCatch()&&(window.fetch=function(...t){var e;return t&&t[0]&&"function"==typeof t[0].includes&&(t[0].includes("/wp-json/metform/")||ctPublicFunctions._rest_url&&(()=>{try{return t[0].includes(new URL(ctPublicFunctions._rest_url).pathname+"metform/")}catch(t){return!1}})())&&(e=getNoCookieData(),t)&&t[1]&&t[1].body&&t[1].body.append("ct_no_cookie_hidden_field",e),defaultFetch.apply(window,t)})},1e3)}function isFormThatNeedCatch(){var t=["metform-form-content"];let o=!1;for(let e of document.forms)t.forEach(function(t){e.classList.contains(t)&&(o=!0)});return o}function isFormThatNeedCatchXhr(t){return null==document.querySelector("div.elementor-widget[title='Login/Signup']")&&!(!t||!t.action||-1===t.action.toString().indexOf("mailpoet_subscription_form"))}function getNoCookieData(){var t=apbctLocalStorage.getCleanTalkData(),e=apbctSessionStorage.getCleanTalkData(),t={...t,...e},t=JSON.stringify(t);return"_ct_no_cookie_data_"+btoa(t)}function apbctWriteReferrersToSessionStorage(){var t=apbctSessionStorage.get("apbct_session_current_page");!1!==t&&document.location.href!==t&&apbctSessionStorage.set("apbct_prev_referer",t,!1),apbctSessionStorage.set("apbct_session_current_page",document.location.href,!1)}function apbctCheckAddToCartByGet(){document.querySelectorAll("a.add_to_cart_button:not(.product_type_variable):not(.wc-interactive)").forEach(c=>{c.addEventListener("click",function(t){let e=c.getAttribute("href");var o=apbctLocalStorage.get("bot_detector_event_token");o&&(-1===e.indexOf("?")?e+="?":e+="&",e+="ct_bot_detector_event_token="+o,c.setAttribute("href",e))})})}"loading"!==document.readyState?checkFormsExistForCatching():apbct_attach_event_handler(document,"DOMContentLoaded",checkFormsExistForCatching);let cleantalkModal={loaded:!1,loading:!1,opened:!1,opening:!1,ignoreURLConvert:!1,load:function(t){var e;this.loaded||(this.loading=!0,e=function(t,e,o,c){cleantalkModal.loading=!1,cleantalkModal.loaded=t,document.dispatchEvent(new CustomEvent("cleantalkModalContentLoaded",{bubbles:!0}))},("function"==typeof apbct_admin_sendAJAX?apbct_admin_sendAJAX:apbct_public_sendAJAX)({action:t},{callback:e,notJson:!0}))},open:function(){function t(){let t="";for(var e in this.styles)t+=e+":"+this.styles[e]+";";return t}var e={styles:{"z-index":"9999999999",position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex","justify-content":"center","align-items":"center"},toString:t},o={styles:{position:"relative",padding:"30px",background:"#FFF",border:"1px solid rgba(0,0,0,0.75)","border-radius":"4px","box-shadow":"7px 7px 5px 0px rgba(50,50,50,0.75)"},toString:t},c={styles:{position:"absolute",background:"#FFF",width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.75)","border-radius":"15px",cursor:"pointer",top:"-8px",right:"-8px","box-sizing":"content-box"},toString:t},n={styles:{content:'""',display:"block",position:"absolute",background:"#000","border-radius":"1px",width:"2px",height:"16px",top:"2px",left:"9px",transform:"rotate(45deg)"},toString:t},a={styles:{content:'""',display:"block",position:"absolute",background:"#000","border-radius":"1px",width:"2px",height:"16px",top:"2px",left:"9px",transform:"rotate(-45deg)"},toString:t},i={styles:{overflow:"hidden"},toString:t},s=document.createElement("style"),i=(s.setAttribute("id","cleantalk-modal-styles"),s.innerHTML="body.cleantalk-modal-opened{"+i+"}",s.innerHTML+="#cleantalk-modal-overlay{"+e+"}",s.innerHTML+="#cleantalk-modal-close{"+c+"}",s.innerHTML+="#cleantalk-modal-close:before{"+n+"}",s.innerHTML+="#cleantalk-modal-close:after{"+a+"}",document.body.append(s),document.createElement("div")),e=(i.setAttribute("id","cleantalk-modal-overlay"),document.body.append(i),document.body.classList.add("cleantalk-modal-opened"),document.createElement("div")),c=(e.setAttribute("id","cleantalk-modal-inner"),e.setAttribute("style",o),i.append(e),document.createElement("div")),n=(c.setAttribute("id","cleantalk-modal-close"),e.append(c),document.createElement("div"));this.loaded?(a=/(https?:\/\/[^\s]+)/g,/.*\/inc/g.test(this.loaded)||this.ignoreURLConvert?n.innerHTML=this.loaded:n.innerHTML=this.loaded.replace(a,'<a href="$1" target="_blank">$1</a>')):(n.innerHTML="Loading...",this.load("get_options_template")),n.setAttribute("id","cleantalk-modal-content"),e.append(n),this.opened=!0},close:function(){document.body.classList.remove("cleantalk-modal-opened"),document.getElementById("cleantalk-modal-overlay").remove(),document.getElementById("cleantalk-modal-styles").remove(),document.dispatchEvent(new CustomEvent("cleantalkModalClosed",{bubbles:!0}))}};function closeAllPopupTRP(){var t=document.querySelectorAll(".apbct-real-user-popup.visible");0<t.length&&t.forEach(t=>{t.classList.remove("visible")})}function ctCheckInternal(e){var t={},o=e.elements;let c;for(c in o)"submit"!==o[c].type&&void 0!==o[c].value&&""!==o[c].value&&(t[o[c].name]=e.elements[c].value);t.action="ct_check_internal",apbct_public_sendAJAX(t,{url:ctPublicFunctions._ajax_url,callback:function(t){if(!0!==t.success)return alert(t.data),!1;e.origSubmit()}})}function ctProtectInternalForms(){var e,o="",c="";for(let t=0;t<document.forms.length;t++)"string"!=typeof document.forms[t].action||null===(o=(c=document.forms[t]).action).indexOf("https?://")||null===o.match(ctPublic.blog_home+".*?.php")||ctCheckInternalIsExcludedForm(o)||(e=c.cloneNode(!0),c.parentNode.replaceChild(e,c),e.origSubmit=c.submit,e.submit=null,e.addEventListener("submit",function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),ctCheckInternal(t.target),!1}))}function ctCheckInternalIsExcludedForm(e){return["wp-login.php","wp-comments-post.php"].some(t=>null!==e.match(new RegExp(ctPublic.blog_home+".*"+t)))}document.addEventListener("click",function(t){!t.target||"cleantalk-modal-overlay"!==t.target.id&&"cleantalk-modal-close"!==t.target.id||cleantalkModal.close()}),document.addEventListener("cleantalkModalContentLoaded",function(t){cleantalkModal.opened&&cleantalkModal.loaded&&(document.getElementById("cleantalk-modal-content").innerHTML=cleantalkModal.loaded)}),document.addEventListener("DOMContentLoaded",function(){let l=void 0,d=!1;if("undefined"==typeof ctPublic&&"undefined"==typeof ctTrpAdminLocalize||void 0===(l="undefined"!=typeof ctPublic&&ctPublic.theRealPerson?ctPublic.theRealPerson:l)&&"undefined"!=typeof ctTrpAdminLocalize&&ctTrpAdminLocalize.theRealPerson&&(l=ctTrpAdminLocalize.theRealPerson,d=!0),l){let t='.apbct-trp *[class*="comment-author"]';document.querySelector(".apbct-trp .comment-author .comment-author-link")&&(t='.apbct-trp *[class*="comment-author-link"]');var e=document.querySelectorAll(t+',.apbct-trp *[class*="review__author"],.apbct-trp td[class*="column-author"] > strong');0!==e.length&&(e.forEach((t,e)=>{var o,c,n,a,i,s,r;"undefined"==typeof pagenow&&t.parentElement.className.indexOf("group")<0&&"DIV"!=t.tagName||((o=document.createElement("div")).setAttribute("class","apbct-real-user-badge"),(c=document.createElement("img")).setAttribute("src",l.imgPersonUrl),c.setAttribute("class","apbct-real-user-popup-img"),(n=document.createElement("div")).setAttribute("class","apbct-real-user-popup"),(a=document.createElement("p")).setAttribute("class","apbct-real-user-popup-header"),a.append(l.phrases.trpHeading),(i=document.createElement("div")).setAttribute("class","apbct-real-user-popup-content_row"),(s=document.createElement("span")).append(l.phrases.trpContent1+" "),s.append(l.phrases.trpContent2),d&&((r=document.createElement("a")).setAttribute("href",l.trpContentLink),r.setAttribute("target","_blank"),r.text=l.phrases.trpContentLearnMore,s.append(" "),s.append(r)),i.append(s),n.append(a,i),o.append(c),t.append(o),t.append(n))}),document.querySelectorAll(".apbct-real-user-badge").forEach(o=>{let c=void 0,t=(this.body.addEventListener("click",function(t){-1==t.target.className.indexOf("apbct-real-user")&&-1==t.target.parentElement.className.indexOf("apbct-real-user")&&closeAllPopupTRP()}),o.addEventListener("click",function(){var t=this.nextElementSibling;t&&t.classList.contains("apbct-real-user-popup")&&t.classList.toggle("visible")}),o.addEventListener("mouseenter",function(){closeAllPopupTRP();var t=this.nextElementSibling;t&&t.classList.contains("apbct-real-user-popup")&&t.classList.add("visible")}),o.addEventListener("mouseleave",function(){c=setTimeout(()=>{var t=this.nextElementSibling;t&&t.classList.contains("apbct-real-user-popup")&&t.classList.remove("visible")},1e3)}),o.nextElementSibling);t.addEventListener("mouseenter",function(){clearTimeout(c),t.classList.add("visible")}),t.addEventListener("mouseleave",function(){c=setTimeout(()=>{t.classList.contains("apbct-real-user-popup")&&t.classList.remove("visible")},1e3)}),o.addEventListener("touchend",function(){c=setTimeout(()=>{var t=this.nextElementSibling,e=window.getSelection();t&&e&&t.classList.contains("apbct-real-user-popup")&&0===e.toString().length?t.classList.remove("visible"):(clearTimeout(c),document.addEventListener("selectionchange",function t(){var e=window.getSelection();e&&0===e.toString().length&&(c=setTimeout(()=>{var t=o.nextElementSibling;t&&t.classList.contains("apbct-real-user-popup")&&t.classList.remove("visible")},3e3),document.removeEventListener("selectionchange",t))}))},3e3)})}))}}),document.addEventListener("DOMContentLoaded",function(){+ctPublic.settings__forms__check_internal&&(setTimeout(()=>{ctProtectInternalForms()},500),document.addEventListener("apbctForceProtectionAllowed",function(){ctProtectInternalForms()}))});
//# sourceMappingURL=apbct-public-bundle_int-protection.min.js.map
