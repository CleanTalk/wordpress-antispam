function ownKeys(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _regenerator(){var f,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function o(e,t,n,o){var a,r,i,c,l,s,u,d,p,t=t&&t.prototype instanceof b?t:b,t=Object.create(t.prototype);return _regeneratorDefine2(t,"_invoke",(a=e,r=n,u=o||[],d=!1,p={p:s=0,n:0,v:f,a:_,f:_.bind(f,4),d:function(e,t){return i=e,c=0,l=f,p.n=t,m}},function(e,t,n){if(1<s)throw TypeError("Generator is already running");for(d&&1===t&&_(t,n),c=t,l=n;(h=c<2?f:l)||!d;){i||(c?c<3?(1<c&&(p.n=-1),_(c,l)):p.n=l:p.v=l);try{if(s=2,i){if(h=i[e=c?e:"next"]){if(!(h=h.call(i,l)))throw TypeError("iterator result is not an object");if(!h.done)return h;l=h.value,c<2&&(c=0)}else 1===c&&(h=i.return)&&h.call(i),c<2&&(l=TypeError("The iterator does not provide a '"+e+"' method"),c=1);i=f}else if((h=(d=p.n<0)?l:a.call(r,p))!==m)break}catch(e){i=f,c=1,l=e}finally{s=1}}return{value:h,done:d}}),!0),t;function _(e,t){for(c=e,l=t,h=0;!d&&s&&!n&&h<u.length;h++){var n,o=u[h],a=p.p,r=o[2];3<e?(n=r===t)&&(l=o[(c=o[4])?5:c=3],o[4]=o[5]=f):o[0]<=a&&((n=e<2&&a<o[1])?(c=0,p.v=t,p.n=o[1]):a<r&&(n=e<3||o[0]>t||r<t)&&(o[4]=e,o[5]=t,p.n=r,c=0))}if(n||1<e)return m;throw d=!0,t}}var m={};function b(){}function a(){}function r(){}var h=Object.getPrototypeOf,e=[][t]?h(h([][t]())):(_regeneratorDefine2(h={},t,function(){return this}),h),i=r.prototype=b.prototype=Object.create(e);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,r):(e.__proto__=r,_regeneratorDefine2(e,n,"GeneratorFunction")),e.prototype=Object.create(i),e}return _regeneratorDefine2(i,"constructor",a.prototype=r),_regeneratorDefine2(r,"constructor",a),_regeneratorDefine2(r,n,a.displayName="GeneratorFunction"),_regeneratorDefine2(i),_regeneratorDefine2(i,n,"Generator"),_regeneratorDefine2(i,t,function(){return this}),_regeneratorDefine2(i,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:o,m:c}})()}function _regeneratorDefine2(e,t,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(_regeneratorDefine2=function(e,t,n,o){function a(t,n){_regeneratorDefine2(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,o)}function asyncGeneratorStep(e,t,n,o,a,r,i){try{var c=e[r](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,a)}function _asyncToGenerator(c){return function(){var e=this,i=arguments;return new Promise(function(t,n){var o=c.apply(e,i);function a(e){asyncGeneratorStep(o,t,n,a,r,"next",e)}function r(e){asyncGeneratorStep(o,t,n,a,r,"throw",e)}a(void 0)})}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r,i,c=[],l=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(c.push(o.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _callSuper(e,t,n){return t=_getPrototypeOf(t),_possibleConstructorReturn(e,_isNativeReflectConstruct()?Reflect.construct(t,n||[],_getPrototypeOf(e).constructor):t.apply(e,n))}function _possibleConstructorReturn(e,t){if(t&&("object"==_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createForOfIteratorHelper(e,t){var n,o,a,r,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return a=!(o=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){a=!0,n=e},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw n}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function apbctSetEmailDecoderPopupAnimation(){var e=["apbct_dog_one","apbct_dog_two","apbct_dog_three"],t=document.createElement("div");t.classList="apbct-ee-animation-wrapper";for(var n=0;n<e.length;n++){var o=document.createElement("span");o.classList="apbct_dog "+e[n],o.innerText="@",t.append(o)}return t}function ctFillDecodedEmailHandler(){var e,t,n,o=0<arguments.length&&void 0!==arguments[0]&&arguments[0],a=!1,r="",i="",c=("undefined"!=typeof ctPublic?(this.removeEventListener("click",ctFillDecodedEmailHandler),a=this,ctPublic.encodedEmailNodesIsMixed=!1,r=ctPublic.wl_brandname,i=ctPublic.encodedEmailNodes):"undefined"!=typeof ctAdminCommon&&(r=ctAdminCommon.plugin_name,i=ctAdminCommon.encodedEmailNode),document.body.classList.add("apbct-popup-fade"),document.getElementById("apbct_popup"));c?(c.setAttribute("style","display: inherit"),"undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_wait_for_decoding?document.getElementById("apbct_popup_text").innerHTML=ctPublicFunctions.text__ee_wait_for_decoding:document.getElementById("apbct_popup_text").innerHTML=ctAdminCommon.text__ee_wait_for_decoding):((c=document.createElement("div")).setAttribute("class","apbct-popup apbct-email-encoder-popup"),c.setAttribute("id","apbct_popup"),(e=document.createElement("span")).classList="apbct-email-encoder-elements_center",(t=document.createElement("p")).innerText=r,t.setAttribute("class","apbct-email-encoder--popup-header"),e.append(t),(r=document.createElement("div")).setAttribute("id","apbct_popup_text"),r.setAttribute("class","apbct-email-encoder-elements_center"),r.style.color="black",(t=document.createElement("p")).id="apbct_email_ecoder__popup_text_node_first","undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_wait_for_decoding?t.innerText=ctPublicFunctions.text__ee_wait_for_decoding:t.innerText=ctAdminCommon.text__ee_wait_for_decoding,t.setAttribute("class","apbct-email-encoder-elements_center"),(n=document.createElement("p")).id="apbct_email_ecoder__popup_text_node_second","undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_decoding_process?n.innerText=ctPublicFunctions.text__ee_decoding_process:n.innerText=ctAdminCommon.text__ee_decoding_process,r.append(t),r.append(n),c.append(e),c.append(r),c.append(apbctSetEmailDecoderPopupAnimation()),document.body.append(c)),apbctAjaxEmailDecodeBulk(o,i,a)}function apbctAjaxEmailDecodeBulk(e,t,n){if(e&&n){for(var o={post_url:document.location.href,referrer:document.referrer,encodedEmails:""},a=(1==ctPublic.settings__data__bot_detector_enabled?o.event_token=apbctLocalStorage.get("bot_detector_event_token"):o.event_javascript_data=getJavascriptClientData(),{}),r=0;r<t.length;r++){void 0!==t[r].href&&0===t[r].href.indexOf("mailto:")&&(e.preventDefault(),ctPublic.encodedEmailNodesIsMixed=!0);var i=document.createElement("div");i.setAttribute("class","apbct-tooltip"),apbct(t[r]).append(i),a[r]=t[r].dataset.originalString}o.encodedEmails=JSON.stringify(a),"rest"===ctPublicFunctions.data__ajax_type?apbct_public_sendREST("apbct_decode_email",{data:o,method:"POST",callback:function(e){ctSetCookie("apbct_email_encoder_passed",ctPublic.emailEncoderPassKey,""),apbctEmailEncoderCallbackBulk(e,t,n)},onErrorCallback:function(e){resetEncodedNodes(),ctShowDecodeComment(e)}}):(o.action="apbct_decode_email",apbct_public_sendAJAX(o,{notJson:!1,callback:function(e){ctSetCookie("apbct_email_encoder_passed",ctPublic.emailEncoderPassKey,""),apbctEmailEncoderCallbackBulk(e,t,n)},onErrorCallback:function(e){resetEncodedNodes(),ctShowDecodeComment(e)}}))}else{var o=t.dataset.originalString,o={encodedEmails:JSON.stringify({0:o})},c=document.createElement("div");c.setAttribute("class","apbct-tooltip"),t.appendChild(c),apbct_admin_sendAJAX({action:"apbct_decode_email",encodedEmails:o.encodedEmails},{callback:function(e){apbctEmailEncoderCallbackBulk(e,t,!1)},notJson:!0})}}function apbctEmailEncoderCallbackBulk(r,i){var e,c=2<arguments.length&&void 0!==arguments[2]&&arguments[2];r.success&&!0===r.data[0].is_allowed?setTimeout(function(){var t,e,n,o,a=document.getElementById("apbct_popup");null!==a&&(o="",o=c?(r.data.forEach(function(e){e.encoded_email===c.dataset.originalString&&(t=e)}),t.decoded_email.split(/[&?]/)[0]):r.data[0].decoded_email,n=a.querySelector("#apbct_email_ecoder__popup_text_node_first"),(e=document.createElement("b")).setAttribute("class","apbct-email-encoder-select-whole-email"),e.innerText=o,"undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_click_to_select?e.title=ctPublicFunctions.text__ee_click_to_select:e.title=ctAdminCommon.text__ee_click_to_select,n&&("undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_original_email?n.innerHTML=ctPublicFunctions.text__ee_original_email+"&nbsp;"+e.outerHTML:n.innerHTML=ctAdminCommon.text__ee_original_email+"&nbsp;"+e.outerHTML,n.setAttribute("style","flex-direction: row;")),(o=a.querySelector(".apbct-ee-animation-wrapper"))&&o.remove(),(e=a.querySelector("#apbct_email_ecoder__popup_text_node_second"))&&e.remove(),(n=document.createElement("span")).classList="apbct-email-encoder-elements_center top-margin-long",document.querySelector(".apbct-email-encoder-got-it-button")||(o=document.createElement("button"),"undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_got_it?o.innerText=ctPublicFunctions.text__ee_got_it:o.innerText=ctAdminCommon.text__ee_got_it,o.classList="apbct-email-encoder-got-it-button",o.addEventListener("click",function(){document.body.classList.remove("apbct-popup-fade"),a.setAttribute("style","display:none"),fillDecodedNodes(i,r),"undefined"!=typeof ctPublic&&ctPublic.encodedEmailNodesIsMixed&&c&&c.click()}),n.append(o),a.append(n)))},3e3):c?(e="unknown_error",r.hasOwnProperty("data")&&0<r.data.length&&"object"===_typeof(r.data[0])&&"string"==typeof r.data[0].comment&&(e=r.data[0].comment),r.success?(resetEncodedNodes(),"undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_blocked?ctShowDecodeComment(ctPublicFunctions.text__ee_blocked+": "+e):ctShowDecodeComment(ctAdminCommon.text__ee_blocked+": "+e)):(resetEncodedNodes(),"undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_cannot_connect?ctShowDecodeComment(ctPublicFunctions.text__ee_cannot_connect+": "+e):ctShowDecodeComment(ctAdminCommon.text__ee_cannot_connect+": "+e))):console.log("result",r)}function resetEncodedNodes(){void 0!==ctPublic.encodedEmailNodes&&ctPublic.encodedEmailNodes.forEach(function(e){e.addEventListener("click",ctFillDecodedEmailHandler)})}function ctShowDecodeComment(e){e=e||("undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_cannot_decode?ctPublicFunctions:ctAdminCommon).text__ee_cannot_decode;var t=document.getElementById("apbct_popup"),n=document.getElementById("apbct_popup_text");null!==t&&(document.body.classList.remove("apbct-popup-fade"),"undefined"!=typeof ctPublicFunctions&&ctPublicFunctions.text__ee_email_decoder?n.innerText=ctPublicFunctions.text__ee_email_decoder+": "+e:n.innerText=ctAdminCommon.text__ee_email_decoder+": "+e,setTimeout(function(){t.setAttribute("style","display:none")},3e3))}function fillDecodedNodes(r,i){if(0<r.length){for(var e,t=0;t<r.length;t++)if(0!==(e=(t=>{var n,e;if(i.data.forEach(function(e){e.encoded_email===r[t].dataset.originalString&&(n=e)}),!1===n.is_allowed)return{v:void 0};if(void 0===r[t].href||0!==r[t].href.indexOf("mailto:")&&0!==r[t].href.indexOf("tel:"))r[t].classList.add("no-blur"),setTimeout(function(){ctProcessDecodedDataResult(n,r[t])},2e3);else{if(0===r[t].href.indexOf("mailto:"))e="mailto:";else{if(0!==r[t].href.indexOf("tel:"))return 0;e="tel:"}var o=r[t].href.replace(e,""),a=r[t].innerHTML;r[t].innerHTML=a.replace(o,n.decoded_email),r[t].href=e+n.decoded_email,r[t].querySelectorAll("span.apbct-email-encoder").forEach(function(t){var n="";i.data.forEach(function(e){e.encoded_email===t.dataset.originalString&&(n=e.decoded_email)}),t.innerHTML=n})}r[t].removeEventListener("click",ctFillDecodedEmailHandler)})(t))&&e)return e.v}else{var n=i.data[0];r.classList.add("no-blur"),setTimeout(function(){ctProcessDecodedDataResult(n,r)},2e3),r.removeEventListener("click",ctFillDecodedEmailHandler)}}function ctProcessDecodedDataResult(e,t){t.setAttribute("title",""),t.removeAttribute("style"),ctFillDecodedEmail(t,e.decoded_email)}function ctFillDecodedEmail(e,t){e.innerHTML=e.innerHTML.replace(/.+?(<div class=["']apbct-tooltip["'].+?<\/div>)/,t+"$1")}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-original-string]");if("undefined"!=typeof ctPublic&&(ctPublic.encodedEmailNodes=e),e.length)for(var t=0;t<e.length;++t){var n,o=e[t];o.parentNode&&"A"===o.parentNode.tagName&&null!=(n=o.parentNode.getAttribute("href"))&&n.includes("mailto:")&&o.parentNode.hasAttribute("data-original-string")||o.addEventListener("click",ctFillDecodedEmailHandler)}});var cleantalkModal=cleantalkModal||{loaded:!1,loading:!1,opened:!1,opening:!1,ignoreURLConvert:!1,load:function(e){var t;this.loaded||(this.loading=!0,t=function(e,t,n,o){cleantalkModal.loading=!1,cleantalkModal.loaded=e,document.dispatchEvent(new CustomEvent("cleantalkModalContentLoaded",{bubbles:!0}))},("function"==typeof apbct_admin_sendAJAX?apbct_admin_sendAJAX:apbct_public_sendAJAX)({action:e},{callback:t,notJson:!0}))},open:function(){function e(){var e,t="";for(e in this.styles)t+=e+":"+this.styles[e]+";";return t}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"get_options_template",n={styles:{"z-index":"9999999999",position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex","justify-content":"center","align-items":"center"},toString:e},o={styles:{position:"relative",padding:"30px",background:"#FFF",border:"1px solid rgba(0,0,0,0.75)","border-radius":"4px","box-shadow":"7px 7px 5px 0px rgba(50,50,50,0.75)"},toString:e},a={styles:{position:"absolute",background:"#FFF",width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.75)","border-radius":"15px",cursor:"pointer",top:"-8px",right:"-8px","box-sizing":"content-box"},toString:e},r={styles:{content:'""',display:"block",position:"absolute",background:"#000","border-radius":"1px",width:"2px",height:"16px",top:"2px",left:"9px",transform:"rotate(45deg)"},toString:e},i={styles:{content:'""',display:"block",position:"absolute",background:"#000","border-radius":"1px",width:"2px",height:"16px",top:"2px",left:"9px",transform:"rotate(-45deg)"},toString:e},c={styles:{overflow:"hidden"},toString:e},l=document.createElement("style"),c=(l.setAttribute("id","cleantalk-modal-styles"),l.innerHTML="body.cleantalk-modal-opened{"+c+"}",l.innerHTML+="#cleantalk-modal-overlay{"+n+"}",l.innerHTML+="#cleantalk-modal-close{"+a+"}",l.innerHTML+="#cleantalk-modal-close:before{"+r+"}",l.innerHTML+="#cleantalk-modal-close:after{"+i+"}",document.body.append(l),document.createElement("div")),n=(c.setAttribute("id","cleantalk-modal-overlay"),document.body.append(c),document.body.classList.add("cleantalk-modal-opened"),document.createElement("div")),a=(n.setAttribute("id","cleantalk-modal-inner"),n.setAttribute("style",o),c.append(n),document.createElement("div")),r=(a.setAttribute("id","cleantalk-modal-close"),n.append(a),document.createElement("div"));this.loaded?/.*\/inc/g.test(this.loaded)||this.ignoreURLConvert?r.innerHTML=this.loaded:r.innerHTML=this.loaded.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>'):(r.innerHTML="Loading...",t&&this.load(t)),r.setAttribute("id","cleantalk-modal-content"),n.append(r),this.opened=!0},confirm:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=3<arguments.length?arguments[3]:void 0,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"Yes",i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"No",c=(cleantalkModal.loading=!1,document.getElementById("cleantalk-modal-content"));c&&(c.innerHTML="",(t=document.createElement("div")).className="cleantalk-confirm-modal_header",t.textContent=e,c.append(t),(e=document.createElement("div")).className="cleantalk-confirm-modal_text-block",c.append(e),o&&60<o.length&&(o="..."+o.slice(o.length-60)),(t=document.createElement("div")).className="cleantalk-confirm-modal_text",t.textContent=n,e.append(t),(o=document.createElement("div")).className="cleantalk-confirm-modal_buttons-block",c.append(o),(n=document.createElement("button")).className="cleantalk_link cleantalk_link-auto",n.textContent=r,n.onclick=function(){a(!0),cleantalkModal.close()},o.append(n),(e=document.createElement("button")).className="cleantalk_link cleantalk_link-auto",e.textContent=i,e.onclick=function(){cleantalkModal.close()},o.append(e)),document.dispatchEvent(new CustomEvent("cleantalkModalContentLoaded",{bubbles:!0}))},close:function(){document.body.classList.remove("cleantalk-modal-opened");var e=document.getElementById("cleantalk-modal-overlay"),t=document.getElementById("cleantalk-modal-styles");null!==e&&e.remove(),null!==t&&t.remove(),document.dispatchEvent(new CustomEvent("cleantalkModalClosed",{bubbles:!0}))}},ApbctCore=(document.addEventListener("click",function(e){!e.target||"cleantalk-modal-overlay"!==e.target.id&&"cleantalk-modal-close"!==e.target.id||cleantalkModal.close()}),document.addEventListener("cleantalkModalContentLoaded",function(e){cleantalkModal.opened&&cleantalkModal.loaded&&(document.getElementById("cleantalk-modal-content").innerHTML=cleantalkModal.loaded)}),(()=>_createClass(function e(t){_classCallCheck(this,e),_defineProperty(this,"ajax_parameters",{}),_defineProperty(this,"restParameters",{}),_defineProperty(this,"selector",null),_defineProperty(this,"elements",[]),_defineProperty(this,"eventCallback",void 0),_defineProperty(this,"eventSelector",void 0),_defineProperty(this,"event",void 0),this.select(t)},[{key:"select",value:function(e){return e instanceof HTMLCollection?(this.selector=null,this.elements=[],this.elements=Array.prototype.slice.call(e)):"object"===_typeof(e)?(this.selector=null,this.elements=[],this.elements[0]=e):"string"==typeof e?(this.selector=e,this.elements=Array.prototype.slice.call(document.querySelectorAll(e))):this.deselect(),this}},{key:"addElement",value:function(e){"object"===_typeof(e)?this.elements.push(e):"string"==typeof e?(this.selector=e,this.elements=Array.prototype.slice.call(document.querySelectorAll(e))):this.deselect()}},{key:"push",value:function(e){this.elements.push(e)}},{key:"reduce",value:function(){this.elements=this.elements.slice(0,-1)}},{key:"deselect",value:function(){this.elements=[]}},{key:"css",value:function(e,t){if(t=t||!1,"object"===_typeof(e)){for(var n in e)if(Object.hasOwn(e,n))for(var o=n.replace(/([-_][a-z])/g,function(e){return e.toUpperCase().replace("-","").replace("_","")}),a=0;a<this.elements.length;a++)this.elements[a].style[o]=e[n];return this}var r;if("string"==typeof e)return void 0!==(r=getComputedStyle(this.elements[0])[e])&&!t&&(r=r.replace(/(\d)(em|pt|%|px){1,2}$/,"$1"),Number(r)==r)?Number(r):r}},{key:"hide",value:function(){this.prop("prev-display",this.css("display")),this.css({display:"none"})}},{key:"show",value:function(){this.css({display:this.prop("prev-display")})}},{key:"addClass",value:function(){for(var e=0;e<this.elements.length;e++)this.elements[e].classList.add(className)}},{key:"removeClass",value:function(){for(var e=0;e<this.elements.length;e++)this.elements[e].classList.remove(className)}},{key:"toggleClass",value:function(e){for(var t=0;t<this.elements.length;t++)this.elements[t].classList.toggle(e)}},{key:"ajax",value:function(e){return this.ajax_parameters=e,new ApbctAjax(e)}},{key:"rest",value:function(e){return this.restParameters=e,new ApbctRest(e)}},{key:"on",value:function(){this.event=arguments.length<=0?void 0:arguments[0],this.eventCallback=(arguments.length<=2?void 0:arguments[2])||(arguments.length<=1?void 0:arguments[1]),this.eventSelector="string"==typeof(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:null;for(var e=0;e<this.elements.length;e++)this.elements[e].addEventListener(this.event,null!==this.eventSelector?this.onChecker.bind(this):this.eventCallback)}},{key:"onChecker",value:function(e){if(e.target===document.querySelector(this.eventSelector))return e.stopPropagation(),this.eventCallback(e)}},{key:"ready",value:function(e){document.addEventListener("DOMContentLoaded",e)}},{key:"change",value:function(e){this.on("change",e)}},{key:"attr",value:function(e){for(var t=[],n=0;n<this.elements.length;n++)void 0!==this.elements[n][e]?t.push(this.elements[n][e]):t.push(this.elements[n].getAttribute(e));return 1===t.length?t[0]:t}},{key:"prop",value:function(e,t){if(void 0!==t){for(var n=0;n<this.elements.length;n++)this.elements[n][e]=t;return this}for(var o=[],a=0;a<this.elements.length;a++)o.push(this.elements[a][e]);return 1===o.length?o[0]:o}},{key:"html",value:function(e){return void 0!==e?this.prop("innerHTML",e):this.prop("innerHTML")}},{key:"val",value:function(e){return void 0!==e?this.prop("value",e):this.prop("value")}},{key:"data",value:function(e,t){return void 0!==t?this.prop("apbct-data",e,t):this.prop("apbct-data")}},{key:"is",value:function(e){var t,n=!1,o=_createForOfIteratorHelper(this.elements);try{for(o.s();!(t=o.n()).done;)var a=t.value,n=n||this.isElem(a,e)}catch(e){o.e(e)}finally{o.f()}return n}},{key:"isElem",value:function(e,t){var n=!1;return"function"==typeof t&&(n=n||t.call(this,e)),n="string"==typeof t?t.match(/^[a-z]/)&&(e=>(e=document.createElement(e).constructor,!Boolean(~[HTMLElement,HTMLUnknownElement].indexOf(e))))(t)?n||e.tagName.toLowerCase()===t.toLowerCase():t.match(/^[a-z]/)?n||Boolean(e[t]):n||(null!==this.selector?null!==document.querySelector(this.selector+t):this.isWithoutSelector(e,t)):n}},{key:"isWithoutSelector",value:function(e,t){var n,o=!1,a=_createForOfIteratorHelper(document.querySelectorAll(t));try{for(a.s();!(n=a.n()).done;)o=o||e===n.value}catch(e){a.e(e)}finally{a.f()}return o}},{key:"filter",value:function(e){this.selector=null;for(var t=this.elements.length-1;0<=t;t--)this.isElem(this.elements[t],e)||this.elements.splice(Number(t),1);return this}},{key:"parent",value:function(e){return this.select(this.elements[0].parentElement),void 0===e||this.is(e)||this.deselect(),this}},{key:"parents",value:function(e){for(this.select(this.elements[0]);null!==this.elements[this.elements.length-1].parentElement;)this.push(this.elements[this.elements.length-1].parentElement);return this.elements.splice(0,1),void 0!==e&&this.filter(e),this}},{key:"children",value:function(e){return this.select(this.elements[0].children),void 0!==e&&this.filter(e),this}},{key:"siblings",value:function(e){var t=this.elements[0];return this.parent(),this.children(e),this.elements.splice(this.elements.indexOf(t),1),this}},{key:"remove",value:function(){var e,t=_createForOfIteratorHelper(this.elements);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}}},{key:"after",value:function(e){var t,n=_createForOfIteratorHelper(this.elements);try{for(n.s();!(t=n.n()).done;)t.value.after(e)}catch(e){n.e(e)}finally{n.f()}}},{key:"append",value:function(e){var t,n=_createForOfIteratorHelper(this.elements);try{for(n.s();!(t=n.n()).done;)t.value.append(e)}catch(e){n.e(e)}finally{n.f()}}},{key:"fadeIn",value:function(o){var a,t=_createForOfIteratorHelper(this.elements);try{for(t.s();!(a=t.n()).done;)(()=>{function e(){t.style.opacity=+t.style.opacity+(new Date-n)/o,n=+new Date,+t.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))}var t=a.value,n=(t.style.opacity=0,t.style.display="block",+new Date);e()})()}catch(e){t.e(e)}finally{t.f()}}},{key:"fadeOut",value:function(o){var a,t=_createForOfIteratorHelper(this.elements);try{for(t.s();!(a=t.n()).done;)(()=>{function e(){t.style.opacity=+t.style.opacity-(new Date-n)/o,n=+new Date,0<+t.style.opacity?window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16):t.style.display="none"}var t=a.value,n=(t.style.opacity=1,+new Date);e()})()}catch(e){t.e(e)}finally{t.f()}}}]))());function selectActualNonce(){var e="";return ctPublicFunctions.hasOwnProperty("_fresh_nonce")&&"string"==typeof ctPublicFunctions._fresh_nonce&&0<ctPublicFunctions._fresh_nonce.length?ctPublicFunctions._fresh_nonce:("admin_ajax"===ctPublicFunctions.data__ajax_type&&ctPublicFunctions.hasOwnProperty("_ajax_nonce")&&"string"==typeof ctPublicFunctions._ajax_nonce&&0<ctPublicFunctions._ajax_nonce.length&&(e=ctPublicFunctions._ajax_nonce),"rest"===ctPublicFunctions.data__ajax_type&&ctPublicFunctions.hasOwnProperty("_rest_nonce")&&"string"==typeof ctPublicFunctions._rest_nonce&&0<ctPublicFunctions._rest_nonce.length?ctPublicFunctions._rest_nonce:e)}function apbct(e){return(new ApbctCore).select(e)}var ApbctXhr=(()=>{function o(e){for(var t in _classCallCheck(this,o),_defineProperty(this,"xhr",new XMLHttpRequest),_defineProperty(this,"method","POST"),_defineProperty(this,"url",""),_defineProperty(this,"async",!0),_defineProperty(this,"user",null),_defineProperty(this,"password",null),_defineProperty(this,"data",{}),_defineProperty(this,"button",null),_defineProperty(this,"spinner",null),_defineProperty(this,"progressbar",null),_defineProperty(this,"context",this),_defineProperty(this,"callback",null),_defineProperty(this,"onErrorCallback",null),_defineProperty(this,"responseType","json"),_defineProperty(this,"headers",{}),_defineProperty(this,"timeout",15e3),_defineProperty(this,"methods_to_convert_data_to_URL",["GET","HEAD"]),_defineProperty(this,"body",null),_defineProperty(this,"http_code",0),_defineProperty(this,"status_text",""),e)void 0!==this[t]&&(this[t]=e[t]);if(this.prepare(),Object.keys(this.data).length&&(this.deleteDoubleJSONEncoding(this.data),this.convertData()),!this.url)return console.log("%cXHR%c not URL provided","color: red; font-weight: bold;","color: grey; font-weight: normal;"),!1;this.xhr.open(this.method,this.url,this.async,this.user,this.password),this.setHeaders(),this.xhr.responseType=this.responseType,this.xhr.timeout=this.timeout,this.xhr.onreadystatechange=function(){this.isWpNonceError()?this.getFreshNonceAndRerunXHR(e):this.onReadyStateChange()}.bind(this),this.xhr.onload=function(){this.onLoad()}.bind(this),this.xhr.onprogress=function(e){this.onProgress(e)}.bind(this),this.xhr.onerror=function(){this.onError()}.bind(this),this.xhr.ontimeout=function(){this.onTimeout()}.bind(this),this.xhr.send(this.body)}return _createClass(o,[{key:"prepare",value:function(){this.button&&(this.button.setAttribute("disabled","disabled"),this.button.style.cursor="not-allowed"),this.spinner&&(this.spinner.style.display="inline")}},{key:"complete",value:function(){this.http_code=this.xhr.status,this.status_text=this.xhr.statusText,this.button&&(this.button.removeAttribute("disabled"),this.button.style.cursor="auto"),this.spinner&&(this.spinner.style.display="none"),this.progressbar&&this.progressbar.fadeOut("slow")}},{key:"onReadyStateChange",value:function(){null!==this.on_ready_state_change&&"function"==typeof this.on_ready_state_change&&this.on_ready_state_change()}},{key:"onProgress",value:function(e){null!==this.on_progress&&"function"==typeof this.on_progress&&this.on_progress()}},{key:"onError",value:function(){console.log("error"),this.complete(),this.error(this.http_code,this.status_text),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback(this.status_text)}},{key:"onTimeout",value:function(){this.complete(),this.error(0,"timeout"),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback("Timeout")}},{key:"onLoad",value:function(){if(this.complete(),"json"===this.responseType){if(null===this.xhr.response)return this.error(this.http_code,this.status_text,"No response"),!1;if(void 0!==this.xhr.response.error)return this.error(this.http_code,this.status_text,this.xhr.response.error),!1}null!==this.callback&&"function"==typeof this.callback&&this.callback.call(this.context,this.xhr.response,this.data)}},{key:"isWpNonceError",value:function(){var e=!1,t=!1;return 4==this.xhr.readyState&&(e="object"===_typeof(this.xhr.response)&&null!==this.xhr.response&&this.xhr.response.hasOwnProperty("data")&&this.xhr.response.data.hasOwnProperty("status")&&403===this.xhr.response.data.status,t="-1"===this.xhr.response&&403===this.xhr.status),e||t}},{key:"getFreshNonceAndRerunXHR",value:function(e){var t,n="";e.hasOwnProperty("headers")&&e.headers.hasOwnProperty("X-WP-Nonce")&&(n=e.headers["X-WP-Nonce"]),""!==(n=e.hasOwnProperty("data")&&e.data.hasOwnProperty("_ajax_nonce")?e.data._ajax_nonce:n)&&((t={method:"POST"}).data={spbc_remote_call_action:"get_fresh_wpnonce",plugin_name:"antispam",nonce_prev:n,initial_request_params:e},t.notJson=!0,t.url=ctPublicFunctions.host_url,t.callback=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],a=!1;(a=void 0!==t[1]&&t[1].hasOwnProperty("initial_request_params")?t[1].initial_request_params:a)&&o.hasOwnProperty("wpnonce")&&(ctPublicFunctions._fresh_nonce=o.wpnonce,"rest"===ctPublicFunctions.data__ajax_type?(new ApbctCore).rest(a):(new ApbctCore).ajax(a))},new o(t))}},{key:"error",value:function(e,t,n){var o="";"timeout"===t?o+="Server response timeout":200===e?"parsererror"===t?o+="Unexpected response from server. See console for details.":(o+="Unexpected error. Status: "+t+".",void 0!==n&&(o+=" Additional error info: "+n)):o+=500===e?"Internal server error.":"Unexpected response code:"+e,this.errorOutput(o),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback(this.status_text)}},{key:"errorOutput",value:function(e){console.log("%c ctXHR error: %c"+e,"color: red;","color: grey;")}},{key:"setHeaders",value:function(){for(var e in this.headers)void 0!==this.headers[e]&&this.xhr.setRequestHeader(e,this.headers[e])}},{key:"convertData",value:function(){return~this.methods_to_convert_data_to_URL.indexOf(this.method)?this.convertDataToURL():this.convertDataToBody()}},{key:"convertDataToURL",value:function(){var e=new URLSearchParams(this.data).toString(),t=this.url.match(/^(https?:\/{2})?[a-z0-9.]+\?/)?"&":"?";return this.url+=t+e,this.url}},{key:"convertDataToBody",value:function(){for(var e in this.body=new FormData,this.data)Object.hasOwn(this.data,e)&&this.body.append(e,"object"===_typeof(this.data[e])?JSON.stringify(this.data[e]):this.data[e]);return this.body}},{key:"deleteDoubleJSONEncoding",value:function(e){if("object"===_typeof(e))for(var t in e){var n;Object.hasOwn(e,t)&&("object"===_typeof(e[t])&&(e[t]=this.deleteDoubleJSONEncoding(e[t])),"string"==typeof e[t])&&null!==e[t].match(/^[\[{].*?[\]}]$/)&&"object"===_typeof(n=JSON.parse(e[t]))&&(e[t]=n)}return e}}])})(),ApbctAjax=(()=>{function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _classCallCheck(this,o),(t=t[0]).data._ajax_nonce=selectActualNonce(),_callSuper(this,o,[t])}return _inherits(o,ApbctXhr),_createClass(o)})(),ApbctRest=(()=>{function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_classCallCheck(this,a);var t=t[0],o=selectActualNonce();return t.url=a.default_route+t.route,t.headers={"X-WP-Nonce":o},_defineProperty(o=_callSuper(this,a,[t]),"route",""),o}return _inherits(a,ApbctXhr),_createClass(a)})(),ApbctShadowRootCallbacks=(_defineProperty(ApbctRest,"default_route",ctPublicFunctions._rest_url+"cleantalk-antispam/v1/"),Object.prototype.hasOwn||Object.defineProperty(Object.prototype,"hasOwn",{value:function(e){return Object.prototype.hasOwnProperty.call(this,e)},enumerable:!1,configurable:!0,writable:!0}),{mailchimpBlock:function(e){try{for(var t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);n&&-1!==n.indexOf("mcforms")&&localStorage.removeItem(n)}}catch(e){console.warn("Error clearing localStorage by mcforms mask:",e)}}}),ApbctShadowRootConfig={mailchimp:{selector:".mcforms-wrapper",urlPattern:"mcf-integrations-mcmktg.mlchmpcompprduse2.iks2.a.intuit.com/gateway/receive",externalForm:!0,action:"cleantalk_force_mailchimp_shadowroot_check",callbackAllow:!1,callbackBlock:ApbctShadowRootCallbacks.mailchimpBlock}},ApbctShadowRootProtection=(()=>{return _createClass(function e(){_classCallCheck(this,e),this.config=ApbctShadowRootConfig},[{key:"findMatchingConfig",value:function(e){for(var t=0,n=Object.entries(this.config);t<n.length;t++){var o=_slicedToArray(n[t],2),a=o[0],o=o[1];if((!o.externalForm||+ctPublic.settings__forms__check_external)&&0<document.querySelectorAll(o.selector).length&&e&&e.includes(o.urlPattern))return{formKey:a,config:o}}return null}},{key:"checkRequest",value:(o=_asyncToGenerator(_regenerator().m(function e(t,i,c){return _regenerator().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(t){var n={action:i.action};try{for(var e=JSON.parse(c),o=0,a=Object.entries(e);o<a.length;o++){var r=_slicedToArray(a[o],2);n[r[0]]=r[1]}}catch(e){n.raw_body=c}+ctPublic.settings__data__bot_detector_enabled?(e=(new ApbctHandler).toolGetEventToken())&&(n.ct_bot_detector_event_token=e):n.ct_no_cookie_hidden_field=getNoCookieData(),apbct_public_sendAJAX(n,{async:!0,callback:function(e){void 0===e.apbct&&void 0===e.data||void 0!==e.apbct&&!+e.apbct.blocked?("function"==typeof i.callbackAllow&&i.callbackAllow(e),t(!1)):void 0!==e.apbct&&+e.apbct.blocked||void 0!==e.data&&void 0!==e.data.message?((new ApbctShowForbidden).parseBlockMessage(e),"function"==typeof i.callbackBlock&&i.callbackBlock(e),t(!0)):t(!1)},onErrorCallback:function(e){console.log("APBCT ShadowRoot check error:",e),t(!1)}})}))},e)})),function(e,t,n){return o.apply(this,arguments)})},{key:"extractBodyText",value:function(e){var e=e[1]&&e[1].body,t="";if(e instanceof FormData){var n,o={},a=_createForOfIteratorHelper(e.entries());try{for(a.s();!(n=a.n()).done;){var r=_slicedToArray(n.value,2);o[r[0]]=r[1]}}catch(e){a.e(e)}finally{a.f()}t=JSON.stringify(o)}else"string"==typeof e&&(t=e);return t}},{key:"processFetch",value:(t=_asyncToGenerator(_regenerator().m(function e(t){var n,o,a;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:if(n="string"==typeof t[0]?t[0]:(null==(n=t[0])?void 0:n.url)||"",o=this.findMatchingConfig(n)){e.n=1;break}return e.a(2,null);case 1:return a=this.extractBodyText(t),e.n=2,this.checkRequest(o.formKey,o.config,a);case 2:return e.a(2,e.v)}},e,this)})),function(e){return t.apply(this,arguments)})}]);var t,o})();function initParams(e){var t=new Date,n=navigator.webdriver,o="undefined"!=typeof ApbctGatheringData&&"function"==typeof ApbctGatheringData.prototype.getScreenInfo?(new ApbctGatheringData).getScreenInfo():"",a=[["ct_ps_timestamp",Math.floor((new Date).getTime()/1e3)],["ct_fkp_timestamp","0"],["ct_pointer_data","0"],["ct_timezone",t.getTimezoneOffset()/60*-1],["ct_screen_info",o],["apbct_headless",n]];if(apbctLocalStorage.set("ct_ps_timestamp",Math.floor((new Date).getTime()/1e3)),apbctLocalStorage.set("ct_fkp_timestamp","0"),apbctLocalStorage.set("ct_pointer_data","0"),apbctLocalStorage.set("ct_timezone",t.getTimezoneOffset()/60*-1),apbctLocalStorage.set("ct_screen_info",o),apbctLocalStorage.set("apbct_headless",n),"native"!==ctPublic.data__cookies_type)a.push(["apbct_visible_fields","0"]);else{var r=document.cookie.split(";");if(0!==r.length)for(var i=0;i<r.length;i++){var c=r[i].trim().split("=")[0];0===c.indexOf("apbct_visible_fields_")&&ctDeleteCookie(c)}}+ctPublic.pixel__setting&&3!=+ctPublic.pixel__setting&&("function"==typeof ctIsDrawPixel&&ctIsDrawPixel()?"function"==typeof ctGetPixelUrl&&ctGetPixelUrl():a.push(["apbct_pixel_url",ctPublic.pixel__url])),+ctPublic.data__email_check_before_post&&(a.push(["ct_checked_emails","0"]),"function"==typeof apbct)&&apbct('input[type = "email"], #email').on("blur",checkEmail),+ctPublic.data__email_check_exist_post&&(a.push(["ct_checked_emails_exist","0"]),"function"==typeof apbct)&&(apbct('.comment-form input[name = "email"], input#email').on("blur",checkEmailExist),apbct('.frm-fluent-form input[name = "email"], input#email').on("blur",checkEmailExist),apbct('#registerform input[name = "user_email"]').on("blur",checkEmailExist),apbct('form.wc-block-checkout__form input[type = "email"]').on("blur",checkEmailExist),apbct('form.checkout input[type = "email"]').on("blur",checkEmailExist),apbct('form.wpcf7-form input[type = "email"]').on("blur",ctDebounceFuncExec(checkEmailExist,300)),apbct('form.wpforms-form input[type = "email"]').on("blur",checkEmailExist),apbct('form[id^="gform_"] input[type = "email"]').on("blur",checkEmailExist),apbctIntegrateDynamicEmailCheck({formSelector:".nf-form-content",emailSelector:'input[type="email"], input[type="email"].ninja-forms-field',handler:checkEmailExist,debounce:300})),apbctLocalStorage.isSet("ct_checkjs")?a.push(["ct_checkjs",apbctLocalStorage.get("ct_checkjs")]):a.push(["ct_checkjs",0]),e&&a.push(["ct_gathering_loaded",e]),ctSetCookie(a)}function ctSetCookie(e,t,o){var n,a=["ct_sfw_pass_key","ct_sfw_passed","wordpress_apbct_antibot","apbct_anticrawler_passed","apbct_bot_detector_exist","apbct_antiflood_passed","apbct_email_encoder_passed"],r=!1;"string"==typeof e&&(r="ct_pointer_data"===e,"string"!=typeof t&&"number"!=typeof t||(e=[[e,t,o]])),"none"===ctPublicFunctions.data__cookies_type?(n=[],e.forEach(function(e){-1!==a.indexOf(e[0])?n.push(e):apbctLocalStorage.set(e[0],e[1])}),0<n.length&&ctSetAlternativeCookie(n),ctPublic.force_alt_cookies&&!r?ctSetAlternativeCookie(e,{forceAltCookies:!0}):+ctPublic.settings__data__bot_detector_enabled||ctNoCookieAttachHiddenFieldsToForms()):"native"===ctPublicFunctions.data__cookies_type?(ctPublic.force_alt_cookies&&!r&&ctSetAlternativeCookie(e,{forceAltCookies:!0}),e.forEach(function(e){var t=void 0!==e[2]?"expires="+o+"; ":"",n="https:"===location.protocol?"; secure":"";document.cookie=ctPublicFunctions.cookiePrefix+e[0]+"="+encodeURIComponent(e[1])+"; "+t+"path=/; samesite=lax"+n})):"alternative"!==ctPublicFunctions.data__cookies_type||r||ctSetAlternativeCookie(e)}function ctSetAlternativeCookie(e,t){if("function"==typeof getJavascriptClientData?Array.isArray(e)&&(e=getJavascriptClientData(e)):+ctPublic.settings__data__bot_detector_enabled||console.log("APBCT ERROR: getJavascriptClientData() is not loaded"),"string"==typeof(e=Array.isArray(e)&&e[0]&&"apbct_bot_detector_exist"===e[0][0]?{apbct_bot_detector_exist:e[0][1]}:e))try{e=JSON.parse(e)}catch(e){return void console.log("APBCT ERROR: JSON parse error:"+e)}var n=t&&t.callback||null,o=t&&t.onErrorCallback||null;t&&t.forceAltCookies&&(e.apbct_force_alt_cookies=!0),"rest"===ctPublicFunctions.data__ajax_type?("string"==typeof e.apbct_pixel_url&&-1!==e.apbct_pixel_url.indexOf("%3A")&&(e.apbct_pixel_url=decodeURIComponent(e.apbct_pixel_url)),apbct_public_sendREST("alt_sessions",{method:"POST",data:{cookies:e},callback:n,onErrorCallback:o})):"admin_ajax"===ctPublicFunctions.data__ajax_type&&apbct_public_sendAJAX({action:"apbct_alt_session__save__AJAX",cookies:e},{notJson:1,callback:n,onErrorCallback:o,beforeSend:function(e){e.setRequestHeader("X-Robots-Tag","noindex, nofollow")}})}function ctGetCookie(e){e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}function ctDeleteCookie(e){var t;"none"!==ctPublicFunctions.data__cookies_type&&("native"===ctPublicFunctions.data__cookies_type?(t="https:"===location.protocol?"; secure":"",document.cookie=e+'=""; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; samesite=lax'+t):ctPublicFunctions.data__cookies_type)}function apbct_public_sendAJAX(e,t,n){var o=[],n=(o.callback=t.callback||null,o.onErrorCallback=t.onErrorCallback||null,o.callback_context=t.callback_context||null,o.callback_params=t.callback_params||null,o.async=t.async||!0,o.notJson=t.notJson||null,o.responseType=t.notJson?"text":"json",o.timeout=t.timeout||15e3,o.obj=n||null,o.button=t.button||null,o.spinner=t.spinner||null,o.progressbar=t.progressbar||null,o.silent=t.silent||null,o.no_nonce=t.no_nonce||null,o.data=e,o.url=ctPublicFunctions._ajax_url,selectActualNonce());"string"==typeof e?(o.no_nonce||(o.data=o.data+"&_ajax_nonce="+n),o.data=o.data+"&no_cache="+Math.random()):(o.no_nonce||(o.data._ajax_nonce=n),o.data.no_cache=Math.random()),(new ApbctCore).ajax(o)}function apbct_public_sendREST(e,t){var n=[];n.route=e,n.callback=t.callback||null,n.onErrorCallback=t.onErrorCallback||null,n.data=t.data||[],n.method=t.method||"POST",(new ApbctCore).rest(n)}function apbct_attach_event_handler(e,t,n){"function"==typeof window.addEventListener?e.addEventListener(t,n):e.attachEvent(t,n)}function apbct_remove_event_handler(e,t,n){"function"==typeof window.removeEventListener?e.removeEventListener(t,n):e.detachEvent(t,n)}function removeDoubleJsonEncoding(e){if("object"===_typeof(e))for(var t in e){var n;"object"===_typeof(e[t])&&(e[t]=removeDoubleJsonEncoding(e[t])),"string"==typeof e[t]&&null!==e[t].match(/^[\[{].*?[\]}]$/)&&"object"===_typeof(n=JSON.parse(e[t]))&&(e[t]=n)}return e}function ctGetPageForms(){var e=document.forms;return e||!1}function apbct_js_keys__set_input_value(e,t,n,o){if(0<document.querySelectorAll("[name^=ct_checkjs]").length)for(var a=document.querySelectorAll("[name^=ct_checkjs]"),r=0;r<a.length;r++)a[r].value=e.js_key}var apbctLocalStorage={get:function(t,n){void 0===n&&(n="value");t=localStorage.getItem(t);if(null!==t)try{var o=JSON.parse(t);if(!o.hasOwnProperty(n))return o;try{return JSON.parse(o[n])}catch(e){return o[n].toString()}}catch(e){return t}return!1},set:function(e,t){var n;!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?(n={value:JSON.stringify(t),timestamp:Math.floor((new Date).getTime()/1e3)},localStorage.setItem(e,JSON.stringify(n))):localStorage.setItem(e,t)},isAlive:function(e,t){return void 0===t&&(t=86400),this.get(e,"timestamp")+t>Math.floor((new Date).getTime()/1e3)},isSet:function(e){return null!==localStorage.getItem(e)},delete:function(e){localStorage.removeItem(e)},getCleanTalkData:function(){for(var e={},t=0;t<localStorage.length;t++){var n=localStorage.key(t);-1===n.indexOf("ct_")&&-1===n.indexOf("apbct_")||(e[n.toString()]=apbctLocalStorage.get(n))}return e}},apbctSessionStorage={get:function(t,e){void 0===e&&(e="value");t=sessionStorage.getItem(t);if(null!==t)try{var n=JSON.parse(t);return n.hasOwnProperty(e)?JSON.parse(n[e]):n}catch(e){return t}return!1},set:function(e,t){var n;!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?(n={value:JSON.stringify(t),timestamp:Math.floor((new Date).getTime()/1e3)},sessionStorage.setItem(e,JSON.stringify(n))):sessionStorage.setItem(e,t)},isSet:function(e){return null!==sessionStorage.getItem(e)},delete:function(e){sessionStorage.removeItem(e)},getCleanTalkData:function(){for(var e={},t=0;t<sessionStorage.length;t++){var n=sessionStorage.key(t);-1===n.indexOf("ct_")&&-1===n.indexOf("apbct_")||(e[n.toString()]=apbctSessionStorage.get(n))}return e}};function getNoCookieData(){var e=apbctLocalStorage.getCleanTalkData(),t=apbctSessionStorage.getCleanTalkData(),e=_objectSpread(_objectSpread({},e),t),e=JSON.stringify(e);return"_ct_no_cookie_data_"+btoa(e)}function getCleanTalkStorageDataArray(){var e=apbctLocalStorage.getCleanTalkData(),t=apbctSessionStorage.getCleanTalkData(),n={typo:[]},o=(document.ctTypoData&&document.ctTypoData.data&&(n={typo:document.ctTypoData.data}),{collecting_user_activity_data:[]});return document.ctCollectingUserActivityData&&(o={collecting_user_activity_data:JSON.parse(JSON.stringify(document.ctCollectingUserActivityData))}),_objectSpread(_objectSpread(_objectSpread(_objectSpread({},e),t),n),o)}function ctDebounceFuncExec(a,r){var i;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=this;clearTimeout(i),i=setTimeout(function(){a.apply(o,t)},r)}}var ApbctEventTokenTransport=(()=>_createClass(function e(){_classCallCheck(this,e)},[{key:"attachEventTokenToMultipageGravityForms",value:function(){document.addEventListener("gform_page_loaded",function(){void 0!==ctPublic.force_alt_cookies&&("undefined"===ctPublic.force_alt_cookies||ctPublic.force_alt_cookies)||"function"!=typeof setEventTokenField||"function"!=typeof botDetectorLocalStorage||setEventTokenField(botDetectorLocalStorage.get("bot_detector_event_token"))})}},{key:"attachEventTokenToWoocommerceGetRequestAddToCart",value:function(){ctPublic.wc_ajax_add_to_cart||document.querySelectorAll("a.add_to_cart_button:not(.product_type_variable):not(.wc-interactive)").forEach(function(o){o.addEventListener("click",function(e){var t=o.getAttribute("href"),n=apbctLocalStorage.get("bot_detector_event_token");n&&(-1===t.indexOf("?")?t+="?":t+="&",o.setAttribute("href",t+="ct_bot_detector_event_token="+n))})})}},{key:"restartBotDetectorEventTokenAttach",value:function(){var e,t=0<document.getElementsByClassName("latepoint-form").length||0<document.getElementsByClassName("mec-booking-form-container").length||null!==document.getElementById("login-form-popup");try{t&&(e=apbctLocalStorage.get("bot_detector_event_token"),"function"==typeof setEventTokenField)&&void 0!==e&&64===e.length&&setEventTokenField(e)}catch(e){console.log(e.toString())}}}]))(),ApbctAttachData=(()=>_createClass(function e(){_classCallCheck(this,e)},[{key:"attachHiddenFieldsToForms",value:function(e){void 0!==ctPublic.force_alt_cookies&&("undefined"===ctPublic.force_alt_cookies||ctPublic.force_alt_cookies)||+ctPublic.settings__data__bot_detector_enabled&&!e||(ctNoCookieAttachHiddenFieldsToForms(),document.addEventListener("gform_page_loaded",ctNoCookieAttachHiddenFieldsToForms))}},{key:"attachVisibleFieldsToForm",value:function(e,t){var n=document.createElement("input"),t=(n.setAttribute("type","hidden"),n.setAttribute("id","apbct_visible_fields_"+t),n.setAttribute("name","apbct_visible_fields"),{});t[0]=this.collectVisibleFields(e),n.value=btoa(JSON.stringify(t)),e.append(n)}},{key:"attachVisibleFieldsDuringSubmit",value:function(e,t){"native"!==ctPublic.data__cookies_type&&void 0!==e.target.ctFormIndex&&this.setVisibleFieldsCookie(this.collectVisibleFields(t),e.target.ctFormIndex)}},{key:"constructNoCookieHiddenField",value:function(e){var t="hidden",e=("submit"===e&&(t="submit"),""),n=getCleanTalkStorageDataArray(),n=JSON.stringify(n);return n="_ct_no_cookie_data_"+btoa(n),(e=document.createElement("input")).setAttribute("name","ct_no_cookie_hidden_field"),e.setAttribute("value",n),e.setAttribute("type",t),e.classList.add("apbct_special_field"),e.classList.add("ct_no_cookie_hidden_field"),e}},{key:"attachNoCookieDuringSubmit",value:function(e){"none"===ctPublic.data__cookies_type&&e.target&&e.target.action&&-1!==e.target.action.toString().indexOf("mailpoet_subscription_form")&&(window.XMLHttpRequest.prototype.send=function(e){var t,n;+ctPublic.settings__data__bot_detector_enabled?(t=(new ApbctHandler).toolGetEventToken())&&(n="data%5Bct_no_cookie_hidden_field%5D="+getNoCookieData()+"&",defaultSend.call(this,n+("data%5Bct_bot_detector_event_token%5D="+t+"&")+e)):(n="data%5Bct_no_cookie_hidden_field%5D="+getNoCookieData()+"&",defaultSend.call(this,n+e)),setTimeout(function(){window.XMLHttpRequest.prototype.send=defaultSend},0)})}},{key:"setVisibleFieldsCookie",value:function(e,t){var n="object"===_typeof(e)&&null!==e?e:{};if("native"===ctPublic.data__cookies_type)for(var o in n){if(10<o)return;ctSetCookie("apbct_visible_fields_"+(void 0!==t?t:o),JSON.stringify(n[o]))}else ctSetCookie("apbct_visible_fields",JSON.stringify(n))}},{key:"collectVisibleFields",value:function(e){var t,n=[],o="",a=0,r="",i=0,c=[];for(t in e.elements)isNaN(+t)||(n[t]=e.elements[t]);return(n=n.filter(function(e){return-1===c.indexOf(e.getAttribute("name"))&&(-1===["radio","checkbox"].indexOf(e.getAttribute("type"))||(c.push(e.getAttribute("name")),!1))})).map(function(e){var t;return"submit"===e.getAttribute("type")||null===e.getAttribute("name")||"ct_checkjs"===e.getAttribute("name")?{elem:e,skip:!0}:"hidden"===e.getAttribute("type")?{elem:e,isVisible:!1,isWpEditor:e.classList.contains("wp-editor-area")}:{elem:e,isVisible:!("none"===(t=getComputedStyle(e)).display||"hidden"===t.visibility||"0"===t.opacity),isWpEditor:e.classList.contains("wp-editor-area")}}).forEach(function(e){e.skip||(e.isVisible||e.isWpEditor?(o+=" "+e.elem.getAttribute("name"),a++):(r+=" "+e.elem.getAttribute("name"),i++))}),r=r.trim(),{visible_fields:o=o.trim(),visible_fields_count:a,invisible_fields:r,invisible_fields_count:i}}}]))(),ApbctHandler=(()=>{function c(){_classCallCheck(this,c)}return _createClass(c,[{key:"excludeForm",value:function(e){return!!this.checkHiddenFieldsExclusions(e,"visible_fields")||!!(e.querySelector('input[name="wspsc_add_cart_submit"]')||e.querySelector('input[name="option"][value="com_vikrentcar"]')||e.querySelector('input[name="option"][value="com_vikbooking"]'))||void 0!==e.elements.apbct_visible_fields&&0<e.elements.apbct_visible_fields.length}},{key:"checkHiddenFieldsExclusions",value:function(e,t){var n="string"==typeof e.action?e.action:"";return!!Boolean(e.querySelector("fieldset.asl_sett_scroll"))||!!e.classList.contains("swpf-instant-filtering")||-1!==n.indexOf("secure.payu.com")||-1!==n.indexOf("hsforms")||-1!==n.indexOf("secureinternetbank.com")||"string"==typeof t&&-1!==["visible_fields","no_cookie"].indexOf(t)&&1===this.getHiddenFieldExclusionsType(e)[t]}},{key:"getHiddenFieldExclusionsType",value:function(e){var t={no_cookie:0,visible_fields:0},n=((0==+ctPublic.data__visible_fields_required||"get"===e.method.toString().toLowerCase()&&0===e.querySelectorAll(".nf-form-content").length&&"twt_cc_signup"!==e.id||e.classList.contains("slp_search_form")||e.parentElement.classList.contains("mec-booking")||-1!==e.action.toString().indexOf("activehosted.com")||e.id&&"caspioform"===e.id||e.classList&&e.classList.contains("tinkoffPayRow")||e.classList&&e.classList.contains("give-form")||e.id&&"ult-forgot-password-form"===e.id||e.id&&-1!==e.id.toString().indexOf("calculatedfields")||e.id&&-1!==e.id.toString().indexOf("sac-form")||e.id&&-1!==e.id.toString().indexOf("cp_tslotsbooking_pform")||e.name&&-1!==e.name.toString().indexOf("cp_tslotsbooking_pform")||"https://epayment.epymtservice.com/epay.jhtml"===e.action.toString()||e.name&&-1!==e.name.toString().indexOf("tribe-bar-form")||e.id&&"ihf-login-form"===e.id||e.id&&"subscriberForm"===e.id&&-1!==e.action.toString().indexOf("actionType=update")||e.id&&"ihf-main-search-form"===e.id||e.id&&"frmCalc"===e.id||-1!==e.action.toString().indexOf("property-organizer-delete-saved-search-submit")||null!==e.querySelector('a[name="login"]'))&&(t.visible_fields=1),e.parentNode);return(n&&n.classList.contains("proinput")||"options"===e.name&&e.classList.contains("asp-fss-flex"))&&(t.no_cookie=1),e&&e.classList.contains("woocommerce-form-login")&&(t.visible_fields=1,t.no_cookie=1),t}},{key:"prevCallExclude",value:function(e){return!!e.classList.contains("hb-booking-search-form")}},{key:"catchMain",value:function(t,e){t.onsubmit_prev=t.onsubmit,t.ctFormIndex=e;var n=this;t.onsubmit=function(e){(new ApbctAttachData).attachVisibleFieldsDuringSubmit(e,t),e.target.onsubmit_prev instanceof Function&&!n.prevCallExclude(e.target)&&(void 0!==e.target.classList&&e.target.classList.contains("brave_form_form")&&e.preventDefault(),setTimeout(function(){e.target.onsubmit_prev.call(e.target,e)},0))}}},{key:"cronFormsHandler",value:function(){setTimeout(function(){setInterval(function(){+ctPublic.settings__data__bot_detector_enabled||"undefined"==typeof ApbctGatheringData||(new ApbctGatheringData).restartFieldsListening(),(new ApbctEventTokenTransport).restartBotDetectorEventTokenAttach()},2e3)},0<arguments.length&&void 0!==arguments[0]?arguments[0]:2e3)}},{key:"detectForcedAltCookiesForms",value:function(){var e=0<document.querySelectorAll('script[id*="smart-forms"]').length,t=0<document.querySelectorAll('iframe[name="jetpack_remote_comment"]').length,n=0<document.querySelectorAll('div[id^="user-registration-form"]').length,o=0<document.querySelectorAll('div[class^="et_pb_newsletter_form"]').length,a=0<document.querySelectorAll('div[class^="fluent_booking_app"]').length,r=0<document.querySelectorAll('div[class^="et_bloom_form_container"]').length,i=0<document.querySelectorAll('div[class*="pafe-form"]').length,c=0<document.querySelectorAll('div [class*="otter-form"]').length;ctPublic.force_alt_cookies=e||t||n||o||a||i||r||c,setTimeout(function(){var e;ctPublic.force_alt_cookies||(e=0<document.querySelectorAll('main[id^="bookingpress_booking_form"]').length||0<document.querySelectorAll(".bpa-frontend-main-container").length,ctPublic.force_alt_cookies=e)},1e3)}},{key:"catchXmlHttpRequest",value:function(){var a;(null!==document.querySelector("div.wfu_container")||null!==document.querySelector("#newAppointmentForm")||null!==document.querySelector(".booked-calendar-shortcode-wrap")||document.body.classList.contains("single-product")&&"undefined"!=typeof cwginstock||null!==document.querySelector("div.fluent_booking_wrap"))&&(a=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(e){var t,n=e&&"string"==typeof e&&(-1!==e.indexOf("action=wfu_ajax_action_ask_server")||-1!==e.indexOf("action=booked_add_appt")||-1!==e.indexOf("action=cwginstock_product_subscribe")),o=e&&"object"===_typeof(e)&&e instanceof FormData&&e.has("action")&&"fluent_cal_schedule_meeting"===e.get("action");return n&&(n="",+ctPublic.settings__data__bot_detector_enabled&&apbctLocalStorage.get("bot_detector_event_token")?(t=(new c).toolGetEventToken())&&(n+="&data%5Bct_bot_detector_event_token%5D="+t):n+="&data%5Bct_no_cookie_hidden_field%5D="+getNoCookieData(),e+=n),o&&(+ctPublic.settings__data__bot_detector_enabled&&apbctLocalStorage.get("bot_detector_event_token")?(t=(new c).toolGetEventToken())&&e.append("ct_bot_detector_event_token",t):(n=getNoCookieData(),e.append("ct_no_cookie_hidden_field",n))),a.apply(this,[e])})}},{key:"catchIframeFetchRequest",value:function(){setTimeout(function(){try{var r,e=Array.from(document.querySelectorAll("iframe")).find(function(e){return null==(e=e.src)?void 0:e.includes("givewp-route")});if(e){try{if(!(r=e.contentWindow)||!r.fetch)return}catch(e){return}var i=r.fetch;r.fetch=_asyncToGenerator(_regenerator().m(function e(){var t,n,o,a=arguments;return _regenerator().w(function(e){for(;;)if(0===e.n){for(t=a.length,n=new Array(t),o=0;o<t;o++)n[o]=a[o];try{n&&n[1]&&n[1].body&&(n[1].body instanceof FormData||"function"==typeof n[1].body.append)&&(+ctPublic.settings__data__bot_detector_enabled&&apbctLocalStorage.get("bot_detector_event_token")?n[1].body.append("ct_bot_detector_event_token",apbctLocalStorage.get("bot_detector_event_token")):n[1].body.append("ct_no_cookie_hidden_field",getNoCookieData()))}catch(e){}return e.a(2,i.apply(r,n))}},e)}))}}catch(e){}},1e3)}},{key:"catchFetchRequest",value:function(){function u(e){var t={key:null,value:null};return e?(t.key="ct_bot_detector_event_token",t.value=apbctLocalStorage.get("bot_detector_event_token")):(t.key="ct_no_cookie_hidden_field",t.value=getNoCookieData()),!(!t.key||!t.value)&&t}function d(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return n&&(e instanceof FormData||"function"==typeof e.append?e.append(n.key,n.value):(t=JSON.parse(e)).hasOwnProperty(n.key)||(t[n.key]=n.value,e=JSON.stringify(t))),e}var p=new ApbctShadowRootProtection,_=!1;window.fetch=_asyncToGenerator(_regenerator().m(function e(){var t,n,o,a,r,i,c,l,s=arguments;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:for(t=s.length,n=new Array(t),o=0;o<t;o++)n[o]=s[o];if(_=!1,n&&n[0]&&n[1]&&n[1].body){e.n=1;break}return e.a(2,defaultFetch.apply(window,n));case 1:return e.n=2,p.processFetch(n);case 2:if(!0===e.v)return e.a(2,new Promise(function(){}));e.n=3;break;case 3:0<document.querySelectorAll("form.metform-form-content").length&&"function"==typeof n[0].includes&&(n[0].includes("/wp-json/metform/")||ctPublicFunctions._rest_url&&(()=>{try{return n[0].includes(new URL(ctPublicFunctions._rest_url).pathname+"metform/")}catch(e){return defaultFetch.apply(window,n)}})())?(e.p=4,n[1].body=d(n[1].body,u(+ctPublic.settings__data__bot_detector_enabled)),e.n=6):e.n=6;break;case 5:return e.p=5,e.a(2,defaultFetch.apply(window,n));case 6:0<document.querySelectorAll("form.wprm-user-ratings-modal-stars-container").length&&"function"==typeof n[0].includes&&n[0].includes("/wp-json/wp-recipe-maker/")?(e.p=7,n[1].body=d(n[1].body,u(+ctPublic.settings__data__bot_detector_enabled)),e.n=9):e.n=9;break;case 8:return e.p=8,e.a(2,defaultFetch.apply(window,n));case 9:(0<document.querySelectorAll("button.add_to_cart_button, button.ajax_add_to_cart, button.single_add_to_cart_button").length||0<document.querySelectorAll("a.add_to_cart_button").length)&&n[0].includes("/wc/store/v1/cart/add-item")?(e.p=10,+ctPublic.settings__forms__wc_add_to_cart&&(n[1].body=d(n[1].body,u(+ctPublic.settings__data__bot_detector_enabled))),e.n=12):e.n=12;break;case 11:return e.p=11,e.a(2,defaultFetch.apply(window,n));case 12:if(!(+ctPublic.settings__forms__check_external&&0<document.querySelectorAll(".b24-form").length&&n[0].includes("bitrix/services/main/ajax.php?action=crm.site.form.fill")&&n[1].body instanceof FormData)){e.n=13;break}a=document.querySelector(".b24-form form"),r={action:"cleantalk_force_ajax_check"},i=_createForOfIteratorHelper(a.elements);try{for(i.s();!(c=i.n()).done;)r[(l=c.value).name]=l.value}catch(e){i.e(e)}finally{i.f()}return e.n=13,new Promise(function(a,t){apbct_public_sendAJAX(r,{async:!0,callback:function(e,t,n,o){(void 0===e.apbct&&void 0===e.data||void 0!==e.apbct&&!+e.apbct.blocked)&&(_=!1),(void 0!==e.apbct&&+e.apbct.blocked||void 0!==e.data&&void 0!==e.data.message)&&(_=!0,(new ApbctShowForbidden).parseBlockMessage(e)),a(e)},onErrorCallback:function(e){console.log("AJAX error:",e),t(e)}})});case 13:if(_){e.n=14;break}return e.a(2,defaultFetch.apply(window,n));case 14:return e.a(2)}},e,null,[[10,11],[7,8],[4,5]])}))}},{key:"catchJqueryAjax",value:function(){"undefined"!=typeof jQuery&&"function"==typeof jQuery.ajaxSetup&&jQuery.ajaxSetup({beforeSend:function(e,t){var n={found:!1,keepUnwrapped:!1,attachVisibleFieldsData:!1};if("string"==typeof t.data&&(-1!==t.data.indexOf("action=fl_builder_subscribe_form_submit")&&(n.found="fl_builder_subscribe_form_submit"),-1!==t.data.indexOf("twt_cc_signup")&&(n.found="twt_cc_signup"),-1!==t.data.indexOf("action=mailpoet")&&(n.found="action=mailpoet",n.attachVisibleFieldsData=!0),-1!==t.data.indexOf("action=user_registration")&&-1!==t.data.indexOf("ur_frontend_form_nonce")&&(n.found="action=user_registration"),-1!==t.data.indexOf("action=happyforms_message")&&(n.found="action=happyforms_message"),-1!==t.data.indexOf("action=new_activity_comment")&&(n.found="action=new_activity_comment"),-1!==t.data.indexOf("action=wwlc_create_user")&&(n.found="action=wwlc_create_user"),-1!==t.data.indexOf("action=drplus_signup")&&(n.found="action=drplus_signup",n.keepUnwrapped=!0),-1!==t.data.indexOf("action=bt_cc")&&(n.found="action=bt_cc",n.keepUnwrapped=!0),-1!==t.data.indexOf("action=wpr_form_builder_email")&&(n.found="action=wpr_form_builder_email",n.keepUnwrapped=!0),-1!==t.data.indexOf("action=nf_ajax_submit")&&(n.found="action=nf_ajax_submit",n.keepUnwrapped=!0,n.attachVisibleFieldsData=!0),-1!==t.data.indexOf("action=uael_register_user")&&"none"===ctPublic.data__cookies_type&&(n.found="action=uael_register_user",n.keepUnwrapped=!0),-1!==t.data.indexOf("action=SQBSubmitQuizAjax"))&&(n.found="action=SQBSubmitQuizAjax",n.keepUnwrapped=!0),"string"==typeof t.url&&-1!==t.url.indexOf("wc-ajax=add_to_cart")&&(n.found="wc-ajax=add_to_cart"),!1!==n.found){var o="",a="",r="";if(+ctPublic.settings__data__bot_detector_enabled&&apbctLocalStorage.get("bot_detector_event_token")?(i=(new c).toolGetEventToken())&&(o=n.keepUnwrapped?"ct_bot_detector_event_token="+i+"&":"data%5Bct_bot_detector_event_token%5D="+i+"&"):(a=getNoCookieData(),a=n.keepUnwrapped?"ct_no_cookie_hidden_field="+a+"&":"data%5Bct_no_cookie_hidden_field%5D="+a+"&"),n.attachVisibleFieldsData){var i=!1,n=ApbctVisibleFieldsExtractor.createExtractor(n.found);if("string"==typeof(i=n?n.extract(t.data):i))try{r="apbct_visible_fields="+encodeURIComponent(i)+"&"}catch(e){}}t.data=a+o+r+t.data}}})}},{key:"catchWCRestRequestAsMiddleware",value:function(){window.hasOwnProperty("wp")&&window.wp.hasOwnProperty("apiFetch")&&"function"==typeof window.wp.apiFetch.use&&window.wp.apiFetch.use(function(e,t){var n;return"object"===_typeof(e)&&null!==e&&e.hasOwnProperty("data")&&void 0!==e.data&&e.hasOwnProperty("path")&&void 0!==e.path&&(e.data.hasOwnProperty("requests")&&0<e.data.requests.length&&e.data.requests[0].hasOwnProperty("path")&&"/wc/store/v1/cart/add-item"===e.data.requests[0].path&&(+ctPublic.settings__data__bot_detector_enabled&&apbctLocalStorage.get("bot_detector_event_token")?(n=localStorage.getItem("bot_detector_event_token"),e.data.requests[0].data.ct_bot_detector_event_token=n):"none"===ctPublic.data__cookies_type&&(e.data.requests[0].data.ct_no_cookie_hidden_field=getNoCookieData())),e.path.includes("/wc/store/v1/checkout"))&&(+ctPublic.settings__data__bot_detector_enabled&&apbctLocalStorage.get("bot_detector_event_token")?e.data.ct_bot_detector_event_token=localStorage.getItem("bot_detector_event_token"):"none"===ctPublic.data__cookies_type&&(e.data.ct_no_cookie_hidden_field=getNoCookieData())),t(e)})}},{key:"searchFormMiddleware",value:function(){var e,n=this,t=_createForOfIteratorHelper(document.forms);try{for(t.s();!(e=t.n()).done;)(()=>{var t=e.value;"undefined"!=typeof ctPublic&&1==+ctPublic.settings__forms__search_test&&null!==t.getAttribute("apbct-form-sign")&&"native_search"===t.getAttribute("apbct-form-sign")&&(t.apbctSearchPrevOnsubmit=t.onsubmit,t.onsubmit=function(e){return n.searchFormHandler(e,t)})})()}catch(e){t.e(e)}finally{t.f()}}},{key:"searchFormHandler",value:function(e,t){try{var n,o,a,r=t.querySelector('[name*="apbct_email_id__"]'),i=null,c=(null!==r&&null!==r.value&&(i=r.value),getCleanTalkStorageDataArray()),l=apbctLocalStorage.get("bot_detector_event_token");null===c&&null===r&&null===l||(e.preventDefault(),n=function(){null!==r&&r.parentNode.removeChild(r),"function"==typeof t.apbctSearchPrevOnsubmit?t.apbctSearchPrevOnsubmit():HTMLFormElement.prototype.submit.call(t)},o=c,null!==i&&(o.apbct_search_form__honeypot_value=i),o.ct_bot_detector_event_token=l,"string"==typeof o.apbct_pixel_url&&-1!==o.apbct_pixel_url.indexOf("%3A")&&(o.apbct_pixel_url=decodeURIComponent(o.apbct_pixel_url)),void 0!==(a=JSON.stringify(o))&&0!==a.length?ctSetAlternativeCookie(a,{callback:n,onErrorCallback:n,forceAltCookies:!0}):n())}catch(e){console.warn("APBCT search form onsubmit handler error. "+e)}}},{key:"toolForAntiCrawlerCheckDuringBotDetector",value:function(){var e=setInterval(function(){localStorage.bot_detector_event_token&&(ctSetCookie("apbct_bot_detector_exist","1","3600"),clearInterval(e))},500)}},{key:"toolGetEventToken",value:function(){var t=localStorage.getItem("bot_detector_event_token");try{t=JSON.parse(t)}catch(e){t=!1}return!(null===t||!1===t||!t.hasOwnProperty("value")||""===t.value)&&t.value}}])})(),ApbctShowForbidden=(()=>_createClass(function e(){_classCallCheck(this,e)},[{key:"prepareBlockForAjaxForms",value:function(){var o=function(e){if(e.responseText&&-1!==e.responseText.indexOf('"apbct')&&-1===e.responseText.indexOf("DOCTYPE"))try{this.parseBlockMessage(JSON.parse(e.responseText))}catch(e){console.log(e.toString())}}.bind(this);"undefined"!=typeof jQuery?"function"!=typeof jQuery(document).ajaxComplete()?jQuery(document).on("ajaxComplete",function(e,t,n){o(t)}):jQuery(document).ajaxComplete(function(e,t,n){o(t)}):"undefined"!=typeof XMLHttpRequest&&document.addEventListener("readystatechange",function(e){4===e.target.readyState&&o(e.target)})}},{key:"parseBlockMessage",value:function(e){var t="";void 0!==e.apbct&&(e=e.apbct).blocked&&(t=e.comment),(t=void 0!==e.data&&void 0!==(e=e.data).message?e.message:t)&&(document.dispatchEvent(new CustomEvent("apbctAjaxBockAlert",{bubbles:!0,detail:{message:t}})),cleantalkModal.loaded=t,cleantalkModal.open(),1==+e.stop_script)&&(window.stop(),e.integration)&&"NEXForms"===e.integration&&((t=document.querySelector("form.submit-nex-form button.nex-submit"))&&(t.disabled=!0,t.style.opacity="0.5",t.style.cursor="not-allowed",t.style.pointerEvents="none",t.style.backgroundColor="#ccc",t.style.color="#fff"),e=document.querySelector("div.nex_success_message"))&&(e.style.display="none")}}]))(),ApbctVisibleFieldsExtractor=(()=>_createClass(function e(){_classCallCheck(this,e)},[{key:"extract",value:function(e){if(e&&"string"==typeof e){try{e=decodeURIComponent(e)}catch(e){return!1}var t=document.querySelectorAll("form"),n=this.getIdFromAjax(e);if(n){var o,a=_createForOfIteratorHelper(t);try{for(a.s();!(o=a.n()).done;){var r=o.value,i=this.findParentContainer(r);if(i){var c=this.getIdFromHTML(i);if(c===n){var l=i.querySelector("input[id^=apbct_visible_fields_]");if(null!=l&&l.value)return l.value}}}}catch(e){a.e(e)}finally{a.f()}}}return!1}},{key:"getIdFromAjax",value:function(e){return console.warn("getIdFromAjax must be implemented by child class"),null}},{key:"findParentContainer",value:function(e){return console.warn("findParentContainer must be implemented by child class"),null}},{key:"getIdFromHTML",value:function(e){return console.warn("getIdFromHTML must be implemented by child class"),null}}],[{key:"createExtractor",value:function(e){switch(e){case"action=nf_ajax_submit":return new ApbctNinjaFormsVisibleFields;case"action=mailpoet":return new ApbctMailpoetVisibleFields;default:return null}}}]))(),ApbctNinjaFormsVisibleFields=(()=>{function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,ApbctVisibleFieldsExtractor),_createClass(e,[{key:"getIdFromAjax",value:function(e){for(var t=0,n=[/"id"\s*:\s*"?(\d+)"/,/form_id\s*[:\s]*"?(\d+)"/,/nf-form-(\d+)/,/"id":(\d+)/];t<n.length;t++){var o=e.match(n[t]);if(o&&o[1])return parseInt(o[1],10)}return null}},{key:"findParentContainer",value:function(e){for(var t=e;t&&t!==document.body;){if(t.id&&/^nf-form-\d+-cont$/.test(t.id))return t;t=t.parentElement}return null}},{key:"getIdFromHTML",value:function(e){e=e.id.match(/^nf-form-(\d+)-cont$/);return e?parseInt(e[1],10):null}}])})(),ApbctMailpoetVisibleFields=(()=>{function e(){return _classCallCheck(this,e),_callSuper(this,e,arguments)}return _inherits(e,ApbctVisibleFieldsExtractor),_createClass(e,[{key:"getIdFromAjax",value:function(e){for(var t=0,n=[/form_id\s*[:\s]*"?(\d+)"/,/data\[form_id\]=(\d+)/,/form_id=(\d+)/];t<n.length;t++){var o=e.match(n[t]);if(o&&o[1])return parseInt(o[1],10)}return null}},{key:"findParentContainer",value:function(e){return e}},{key:"getIdFromHTML",value:function(e){return e.action&&e.action.match(/mailpoet_subscription_form/)&&(e=e.querySelector('input[type="hidden"][name="data[form_id]"]'))&&e.value?parseInt(e.value,10):null}}])})();function getApbctBasePath(){var e,t=_createForOfIteratorHelper(document.getElementsByTagName("script"));try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.src&&n.src.includes("apbct-public-bundle")){var o=n.src.match(/^(.*\/js\/)/);if(o&&o[1])return o[1]}}}catch(e){t.e(e)}finally{t.f()}return null}function apbctImportScript(e){return _apbctImportScript.apply(this,arguments)}function _apbctImportScript(){return(_apbctImportScript=_asyncToGenerator(_regenerator().m(function e(o){var t,n,a;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:t=o.replace(/\/$/,""),n=document.querySelectorAll("script[src]"),n=_createForOfIteratorHelper(n),e.p=1,n.s();case 2:if((a=n.n()).done)e.n=4;else{if(a.value.src.replace(/\/$/,"")===t)return e.a(2,!0);e.n=3}break;case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,a=e.v,n.e(a);case 6:return e.p=6,n.f(),e.f(6);case 7:return e.a(2,new Promise(function(e,t){var n=document.createElement("script");n.src=o,n.async=!0,n.onload=function(){e(!0)},n.onerror=function(){t(new Error("Script loading failed: "+o))},document.head.appendChild(n)}).catch(function(e){return!1}))}},e,null,[[1,5,6,7]])}))).apply(this,arguments)}function apbct_ready(){return _apbct_ready.apply(this,arguments)}function _apbct_ready(){return(_apbct_ready=_asyncToGenerator(_regenerator().m(function e(){var a,t,r,n,o;return _regenerator().w(function(e){for(;;)switch(e.n){case 0:(new ApbctShowForbidden).prepareBlockForAjaxForms(),a=!1,apbctLocalStorage.get("apbct_existing_visitor")&&+ctPublic.settings__data__bot_detector_enabled&&!apbctLocalStorage.get("bot_detector_event_token")&&"undefined"==typeof ApbctGatheringData?(t=getApbctBasePath(),e.n=t?1:3):e.n=3;break;case 1:return n=t+"public-2-gathering-data.min.js",e.n=2,apbctImportScript(n);case 2:a=e.v;case 3:if((r=new ApbctHandler).detectForcedAltCookiesForms(),+ctPublic.settings__data__bot_detector_enabled&&!a||"undefined"==typeof ApbctGatheringData||((n=new ApbctGatheringData).setSessionId(),n.writeReferrersToSessionStorage(),n.setCookiesType(),n.startFieldsListening(),n.listenAutocomplete(),n.gatheringTypoData()),"function"==typeof initParams)try{initParams(a)}catch(e){console.log("initParams error:",e)}setTimeout(function(){+ctPublic.settings__data__bot_detector_enabled&&((e=new ApbctEventTokenTransport).attachEventTokenToMultipageGravityForms(),e.attachEventTokenToWoocommerceGetRequestAddToCart());var e,t=new ApbctAttachData;+ctPublic.settings__data__bot_detector_enabled&&!a||t.attachHiddenFieldsToForms(a);for(var n=0;n<document.forms.length;n++){var o=document.forms[n];r.excludeForm(o)||(t.attachVisibleFieldsToForm(o,n),r.catchMain(o,n))}},1e3),1==+ctPublic.settings__forms__search_test&&r.searchFormMiddleware(),r.catchXmlHttpRequest(),r.catchFetchRequest(),r.catchIframeFetchRequest(),r.catchJqueryAjax(),r.catchWCRestRequestAsMiddleware(),+ctPublic.settings__data__bot_detector_enabled&&(o=!1,window.addEventListener("botDetectorEventTokenUpdated",function(e){e=null==(e=e.detail)?void 0:e.eventToken;e&&!o&&(ctSetCookie([["ct_bot_detector_event_token",e]]),o=!0,void 0!==ctPublic.force_alt_cookies)&&ctPublic.force_alt_cookies&&ctSetAlternativeCookie(JSON.stringify({ct_bot_detector_event_token:e}),{forceAltCookies:!0})})),ctPublic.settings__sfw__anti_crawler&&+ctPublic.settings__data__bot_detector_enabled&&r.toolForAntiCrawlerCheckDuringBotDetector(),apbctLocalStorage.set("apbct_existing_visitor",1);case 4:return e.a(2)}},e)}))).apply(this,arguments)}ctPublic.data__key_is_ok&&("loading"!==document.readyState?apbct_ready():apbct_attach_event_handler(document,"DOMContentLoaded",apbct_ready),apbctLocalStorage.set("ct_checkjs",ctPublic.ct_checkjs_key,!0),"native"===ctPublic.data__cookies_type)&&ctSetCookie("ct_checkjs",ctPublic.ct_checkjs_key,!0);var tokenCheckerIntervalId,defaultFetch=window.fetch,defaultSend=XMLHttpRequest.prototype.send;function ctCheckInternal(t){var e,n={},o=t.elements;for(e in o)"submit"!==o[e].type&&void 0!==o[e].value&&""!==o[e].value&&(n[o[e].name]=t.elements[e].value);n.action="ct_check_internal",apbct_public_sendAJAX(n,{url:ctPublicFunctions._ajax_url,callback:function(e){if(!0!==e.success)return alert(e.data),!1;t.origSubmit()}})}function ctProtectInternalForms(){for(var e,t="",n="",o=0;o<document.forms.length;o++)"string"!=typeof document.forms[o].action||null===(t=(n=document.forms[o]).action).indexOf("https?://")||null===t.match(ctPublic.blog_home+".*?.php")||ctCheckInternalIsExcludedForm(t)||(e=n.cloneNode(!0),n.parentNode.replaceChild(e,n),e.origSubmit=n.submit,e.submit=null,e.addEventListener("submit",function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),ctCheckInternal(e.target),!1}))}function ctCheckInternalIsExcludedForm(t){return["wp-login.php","wp-comments-post.php","admin-ajax.php","admin-post.php"].some(function(e){return null!==t.match(new RegExp(ctPublic.blog_home+".*"+e))})}(new ApbctHandler).cronFormsHandler(2e3),document.addEventListener("DOMContentLoaded",function(){+ctPublic.settings__forms__check_internal&&(setTimeout(function(){ctProtectInternalForms()},500),document.addEventListener("apbctForceProtectionAllowed",function(){ctProtectInternalForms()}))});var botDetectorLogLastUpdate=0,botDetectorLogEventTypesCollected=[];function sendBotDetectorLogToAltSessions(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;setTimeout(function(){setInterval(function(){var e=apbctLocalStorage.get("ct_bot_detector_frontend_data_log");needsSaveLogToAltSessions(e)&&(botDetectorLogLastUpdate=e.log_last_update,ctSetAlternativeCookie([],{forceAltCookies:!0}))},t)},e)}function needsSaveLogToAltSessions(e){if(e&&e.hasOwnProperty("log_last_update")&&botDetectorLogLastUpdate!==e.log_last_update)try{for(var t=0;t<e.records.length;t++){var n=e.records[t].frontend_data.js_event;if(void 0===n||!botDetectorLogEventTypesCollected.includes(n))return botDetectorLogEventTypesCollected.push(n),!0}}catch(e){console.log("APBCT: bot detector log collection error: ".e.toString())}return!1}ctPublicFunctions.hasOwnProperty("data__bot_detector_enabled")&&1==ctPublicFunctions.data__bot_detector_enabled&&ctPublicFunctions.hasOwnProperty("data__frontend_data_log_enabled")&&1==ctPublicFunctions.data__frontend_data_log_enabled&&sendBotDetectorLogToAltSessions(1e3);var ctCheckedEmails={},ctCheckedEmailsExist={};function checkEmail(e){var t=e.target.value;!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||!t||t in ctCheckedEmails||("rest"===ctPublicFunctions.data__ajax_type?apbct_public_sendREST("check_email_before_post",{method:"POST",data:{email:t},callback:function(e){e.result&&(ctCheckedEmails[t]={result:e.result,timestamp:Date.now()/1e3|0},ctSetCookie("ct_checked_emails",JSON.stringify(ctCheckedEmails)))}}):"admin_ajax"===ctPublicFunctions.data__ajax_type&&apbct_public_sendAJAX({action:"apbct_email_check_before_post",email:t},{callback:function(e){e.result&&(ctCheckedEmails[t]={result:e.result,timestamp:Date.now()/1e3|0},ctSetCookie("ct_checked_emails",JSON.stringify(ctCheckedEmails)))}}))}function checkEmailExist(t){var e,n=t.target.value;n&&n.length?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)&&(n in ctCheckedEmailsExist?(e=ctCheckedEmailsExist[n],getResultCheckEmailExist(t,e,n)):(viewCheckEmailExist(t,"load"),(ctPublicFunctions.data__ajax_type="rest")===ctPublicFunctions.data__ajax_type?apbct_public_sendREST("check_email_exist_post",{method:"POST",data:{email:n},callback:function(e){getResultCheckEmailExist(t,e,n)}}):"admin_ajax"===ctPublicFunctions.data__ajax_type&&apbct_public_sendAJAX({action:"apbct_email_check_exist_post",email:n},{callback:function(e){getResultCheckEmailExist(t,e,n)}}))):((e=document.getElementById("apbct-check_email_exist-block"))&&e.remove(),(e=document.getElementById("apbct-check_email_exist-popup_description"))&&e.remove())}function getResultCheckEmailExist(e,t,n){t&&t.result&&(t=t.result,ctCheckedEmailsExist[n]={result:t,timestamp:Date.now()/1e3|0},"EXISTS"==t.result?viewCheckEmailExist(e,"good_email",t.text_result):viewCheckEmailExist(e,"bad_email",t.text_result),ctSetCookie("ct_checked_emails_exist",JSON.stringify(ctCheckedEmailsExist)))}function viewCheckEmailExist(e,t,n){var o,a,e=e.target.parentElement,r=(r=e.querySelector('[name*="email"]'))||e.querySelector('[type*="email"]');if(r)switch(document.getElementById("apbct-check_email_exist-block")?o=document.getElementById("apbct-check_email_exist-block"):((o=document.createElement("div")).setAttribute("class","apbct-check_email_exist-block"),o.setAttribute("id","apbct-check_email_exist-block"),window.addEventListener("scroll",function(){o.style.top=r.getBoundingClientRect().top+"px"}),e.after(o)),document.getElementById("apbct-check_email_exist-popup_description")?a=document.getElementById("apbct-check_email_exist-popup_description"):((a=document.createElement("div")).setAttribute("class","apbct-check_email_exist-popup_description"),a.setAttribute("id","apbct-check_email_exist-popup_description"),window.addEventListener("scroll",function(){a.style.top=o.getBoundingClientRect().top+"px"}),o.after(a)),ctEmailExistSetElementsPositions(r),ctListenRequiredRedrawing(r),t){case"load":o.classList.remove("apbct-check_email_exist-good_email","apbct-check_email_exist-bad_email"),o.classList.add("apbct-check_email_exist-load");break;case"good_email":o.classList.remove("apbct-check_email_exist-load","apbct-check_email_exist-bad_email"),o.classList.add("apbct-check_email_exist-good_email"),o.onmouseover=function(){a.textContent=n,a.style.display="block",a.style.top=r.getBoundingClientRect().top-a.getBoundingClientRect().height+"px",a.style.color="#1C7129"},o.onmouseout=function(){a.style.display="none"};break;case"bad_email":o.classList.remove("apbct-check_email_exist-load","apbct-check_email_exist-good_email"),o.classList.add("apbct-check_email_exist-bad_email"),o.onmouseover=function(){a.textContent=n,a.style.display="block",a.style.top=r.getBoundingClientRect().top-a.getBoundingClientRect().height+"px",a.style.color="#E01111"},o.onmouseout=function(){a.style.display="none"}}}function ctEmailExistSetElementsPositions(e){if(!(!e instanceof HTMLInputElement)){var t=e.getBoundingClientRect(),n=e.offsetHeight,o=e.offsetWidth,a=1.2*n,r=0,i=!1;try{var c=window.getComputedStyle(e),l=e.parentElement||e,s=window.getComputedStyle(l,"::after"),u=s.getPropertyValue("content"),r=s.getPropertyValue("font-size")||s.getPropertyValue("width"),d=(u&&"none"!==u&&0<parseFloat(r)&&(i=!0),"string"==typeof c.fontSize&&c.fontSize),p=d||"inherit"}catch(e){p="inherit"}e=document.getElementById("apbct-check_email_exist-block"),s=(e&&(l=0,i&&(l=parseFloat(r)),e.style.cssText="\n            top: ".concat(t.top,"px;\n            left: ").concat(t.right-a-l,"px;\n            height: ").concat(n,"px;\n            width: ").concat(a,"px;\n            background-size: ").concat(p,";\n            background-position: center;\n        ")),document.getElementById("apbct-check_email_exist-popup_description"));s&&(s.style.width="".concat(o,"px"),s.style.left="".concat(t.left,"px"))}}function ctListenRequiredRedrawing(t){window.addEventListener("resize",function(e){ctEmailExistSetElementsPositions(t)}),[{selector:"form.wpcf7-form",observerConfig:{childList:!0,subtree:!0},emailElement:t}].forEach(function(e){ctWatchFormChanges(e.selector,e.observerConfig,function(){ctEmailExistSetElementsPositions(e.emailElement)})})}function ctWatchFormChanges(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length?arguments[2]:void 0,o=document.querySelector(e);return!(!o||!t)&&((e=new MutationObserver(function(e){e.forEach(function(e){"childList"!==e.type&&"attributes"!==e.type||n(o,e)})})).observe(o,t),e)}function apbctIntegrateDynamicEmailCheck(e){var t=e.formSelector,n=e.emailSelector,o=e.handler,a=e.debounce,r=void 0===a?300:a,a=e.attribute,i=void 0===a?"data-apbct-email-exist":a;document.querySelectorAll(t+" "+n).forEach(function(e){e.hasAttribute(i)||(e.addEventListener("blur",ctDebounceFuncExec(o,r)),e.setAttribute(i,"1"))}),new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){1===e.nodeType&&(e.matches&&e.matches(t+" "+n)&&(e.hasAttribute(i)||(e.addEventListener("blur",ctDebounceFuncExec(o,r)),e.setAttribute(i,"1"))),e.querySelectorAll)&&e.querySelectorAll(n).forEach(function(e){e.hasAttribute(i)||(e.addEventListener("blur",ctDebounceFuncExec(o,r)),e.setAttribute(i,"1"))})})})}).observe(document.body,{childList:!0,subtree:!0})}function ctProcessError(e,t){var n={},e=(e&&e.message?n.err={msg:e.message,file:e.fileName||!1,ln:e.lineNumber||lineNo||!1,col:e.columnNumber||columnNo||!1,stacktrace:e.stack||!1,cause:!!t&&JSON.stringify(t),errorObj:error||!1}:(n.err={msg:e},t&&(n.err.file=t)),n.url=window.location.href,n.userAgent=window.navigator.userAgent,"ct_js_errors");null===(o=localStorage.getItem(e))&&(o="[]");for(var o=JSON.parse(o),a=0;a<o.length;a++)if(o[a].err.msg===n.err.msg)return;o.push(n),localStorage.setItem(e,JSON.stringify(o))}function closeAllPopupTRP(){var e=document.querySelectorAll(".apbct-real-user-popup.visible");0<e.length&&e.forEach(function(e){e.classList.remove("visible")})}1===Math.floor(100*Math.random())&&(window.onerror=function(e,t){for(var n=["apbct","ctPublic"],o=n.length;o--;)-1!==e.indexOf(n[o])&&ctProcessError(e,t);return!1}),document.addEventListener("DOMContentLoaded",function(){var e,t=this,d=void 0,p=!1;"undefined"==typeof ctPublic&&"undefined"==typeof ctTrpAdminLocalize||void 0===(d="undefined"!=typeof ctPublic&&ctPublic.theRealPerson?ctPublic.theRealPerson:d)&&"undefined"!=typeof ctTrpAdminLocalize&&ctTrpAdminLocalize.theRealPerson&&(d=ctTrpAdminLocalize.theRealPerson,p=!0),d&&(e='.apbct-trp > .comment-body *[class*="comment-author"]',document.querySelector(".apbct-trp .comment-author .comment-author-link")&&(e='.apbct-trp *[class*="comment-author-link"]'),0!==(e=document.querySelectorAll(e+',.apbct-trp > .wp-block-group *[class*="comment-author"],.apbct-trp *[class*="review__author"],.apbct-trp td[class*="column-author"] > strong')).length)&&(e.forEach(function(e,t){var n,o,a,r,i,c,l,s,u;e.className.indexOf("review")<0&&"undefined"==typeof pagenow&&e.parentElement.className.indexOf("group")<0&&"DIV"!=e.tagName||e.querySelector(".comment-metadata")||((n=document.createElement("div")).setAttribute("class","apbct-real-user-badge"),(o=document.createElement("img")).setAttribute("src",d.imgPersonUrl),o.setAttribute("class","apbct-real-user-popup-img"),(a=document.createElement("div")).setAttribute("class","apbct-real-user-popup"),(c=document.createElement("strong")).append(d.phrases.trpHeading),(r=document.createElement("div")).setAttribute("class","apbct-real-user-popup-content_row"),r.setAttribute("style","white-space: nowrap"),(i=document.createElement("div")).append(c),i.append(" "),i.append(d.phrases.trpContent1),(c=document.createElement("div")).style.display="flex",c.style.gap="5px",(l=document.createElement("div")).append(d.phrases.trpContent2),c.append(l),p&&(l=document.createElement("div"),(s=document.createElement("a")).setAttribute("href",d.trpContentLink),s.setAttribute("target","_blank"),(u=document.createElement("img")).setAttribute("src",ctAdminCommon.new_window_gif),u.setAttribute("alt","New window"),u.setAttribute("style","padding-top:3px"),s.append(u),l.append(s),c.append(l)),r.append(i,c),a.append(r),n.append(o),e.append(n),e.append(a))}),document.querySelectorAll(".apbct-real-user-badge").forEach(function(o){var a=void 0,e=(t.body.addEventListener("click",function(e){-1==e.target.className.indexOf("apbct-real-user")&&-1==e.target.parentElement.className.indexOf("apbct-real-user")&&closeAllPopupTRP()}),o.addEventListener("click",function(){var e=this.nextElementSibling;e&&e.classList.contains("apbct-real-user-popup")&&e.classList.toggle("visible")}),o.addEventListener("mouseenter",function(){closeAllPopupTRP();var e=this.nextElementSibling;e&&e.classList.contains("apbct-real-user-popup")&&e.classList.add("visible")}),o.addEventListener("mouseleave",function(){var t=this;a=setTimeout(function(){var e=t.nextElementSibling;e&&e.classList.contains("apbct-real-user-popup")&&e.classList.remove("visible")},1e3)}),o.nextElementSibling);e.addEventListener("mouseenter",function(){clearTimeout(a),e.classList.add("visible")}),e.addEventListener("mouseleave",function(){a=setTimeout(function(){e.classList.contains("apbct-real-user-popup")&&e.classList.remove("visible")},1e3)}),o.addEventListener("touchend",function(){var n=this;a=setTimeout(function(){var e=n.nextElementSibling,t=window.getSelection();e&&t&&e.classList.contains("apbct-real-user-popup")&&0===t.toString().length?e.classList.remove("visible"):(clearTimeout(a),document.addEventListener("selectionchange",function e(){var t=window.getSelection();t&&0===t.toString().length&&(a=setTimeout(function(){var e=o.nextElementSibling;e&&e.classList.contains("apbct-real-user-popup")&&e.classList.remove("visible")},3e3),document.removeEventListener("selectionchange",e))}))},3e3)})}))});