{"version":3,"file":"cleantalk-admin-settings-page.min.js","sources":["cleantalk-admin-settings-page.js"],"sourcesContent":["jQuery(document).ready(function() {\n    // Top level settings\n    jQuery('.apbct_setting---data__email_decoder').on('click', (event) => {\n        if ( event.target.type === 'checkbox' ) {\n            let currentTarget = event.target.checked ? 1 : 2;\n            document.querySelectorAll('input[id^=apbct_setting_data__email_decoder]')[currentTarget].checked = true;\n        } else {\n            document.getElementById('apbct_setting_data__email_decoder').checked = parseInt(event.target.value) === 1;\n        }\n    });\n\n    // Crunch for Right to Left direction languages\n    if (document.getElementsByClassName('apbct_settings-title')[0]) {\n        if (getComputedStyle(document.getElementsByClassName('apbct_settings-title')[0]).direction === 'rtl') {\n            jQuery('.apbct_switchers').css('text-align', 'right');\n        }\n    }\n\n    // Show/Hide access key\n    jQuery('#apbct_showApiKey').on('click', function() {\n        jQuery('.apbct_setting---apikey').val(jQuery('.apbct_setting---apikey').attr('key'));\n        jQuery('.apbct_setting---apikey+div').show();\n        jQuery(this).fadeOut(300);\n    });\n\n    let d = new Date();\n    let timezone = d.getTimezoneOffset()/60*(-1);\n    jQuery('#ct_admin_timezone').val(timezone);\n\n    // Key KEY automatically\n    jQuery('#apbct_button__get_key_auto').on('click', function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_get_key_auto', ct_admin_timezone: timezone},\n            {\n                timeout: 25000,\n                button: document.getElementById('apbct_button__get_key_auto' ),\n                spinner: jQuery('#apbct_button__get_key_auto .apbct_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    jQuery('#apbct_button__get_key_auto .apbct_success').show(300);\n                    setTimeout(function() {\n                        jQuery('#apbct_button__get_key_auto .apbct_success').hide(300);\n                    }, 2000);\n                    if (result.reload) {\n                        document.location.reload();\n                    }\n                    if (result.getTemplates) {\n                        cleantalkModal.loaded = result.getTemplates;\n                        cleantalkModal.open();\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                    }\n                },\n            },\n        );\n    });\n\n    // Import settings\n    jQuery( document ).on('click', '#apbct_settings_templates_import_button', function() {\n        jQuery('#apbct-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#apbct_settings_templates_import'));\n        let templateNameInput = jQuery('#apbct_settings_templates_import_name');\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        let data = {\n            'template_id': optionSelected.data('id'),\n            'template_name': optionSelected.data('name'),\n            'settings': optionSelected.data('settings'),\n        };\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_import', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_import_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_import_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_import_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Export settings\n    jQuery( document ).on('click', '#apbct_settings_templates_export_button', function() {\n        jQuery('#apbct-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#apbct_settings_templates_export'));\n        let templateNameInput = jQuery('#apbct_settings_templates_export_name');\n        let data = {};\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        if ( optionSelected.data('id') === 'new_template' ) {\n            let templateName = templateNameInput.val();\n            if ( templateName === '' ) {\n                templateNameInput.css('border-color', 'red');\n                return;\n            }\n            data = {\n                'template_name': templateName,\n            };\n        } else {\n            data = {\n                'template_id': optionSelected.data('id'),\n            };\n        }\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_export', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_export_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_export_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_export_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Reset settings\n    jQuery( document ).on('click', '#apbct_settings_templates_reset_button', function() {\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_reset'},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_reset_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_reset_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_reset_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Sync button\n    jQuery('#apbct_button__sync').on('click', function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_sync'},\n            {\n                timeout: 25000,\n                button: document.getElementById('apbct_button__sync' ),\n                spinner: jQuery('#apbct_button__sync .apbct_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    jQuery('#apbct_button__sync .apbct_success').show(300);\n                    setTimeout(function() {\n                        jQuery('#apbct_button__sync .apbct_success').hide(300);\n                    }, 2000);\n                    if (result.reload) {\n                        if ( ctSettingsPage.key_changed ) {\n                            jQuery('.key_changed_sync').hide(300);\n                            jQuery('.key_changed_success').show(300);\n                            setTimeout(function() {\n                                document.location.reload();\n                            }, 3000);\n                        } else {\n                            document.location.reload();\n                        }\n                    }\n                },\n            },\n        );\n    });\n\n    if ( ctSettingsPage.key_changed ) {\n        jQuery('#apbct_button__sync').click();\n    }\n\n    jQuery(document).on('click', '.apbct_settings-long_description---show', function() {\n        self = jQuery(this);\n        apbctSettingsShowDescription(self, self.attr('setting'));\n    });\n\n    if (jQuery('#cleantalk_notice_renew').length || jQuery('#cleantalk_notice_trial').length) {\n        apbctBannerCheck();\n    }\n\n    jQuery(document).on('change', '#apbct_settings_templates_export', function() {\n        let optionSelected = jQuery('option:selected', this);\n        if ( optionSelected.data('id') === 'new_template' ) {\n            jQuery(this).parent().parent().find('#apbct_settings_templates_export_name').show();\n        } else {\n            jQuery(this).parent().parent().find('#apbct_settings_templates_export_name').hide();\n        }\n    });\n\n    apbctSaveButtonPosition();\n    window.addEventListener('scroll', apbctSaveButtonPosition);\n    jQuery('#ct_adv_showhide a').on('click', apbctSaveButtonPosition);\n\n\n    /**\n     * Change cleantalk account email\n     */\n    jQuery('#apbct-change-account-email').on('click', function(e) {\n        e.preventDefault();\n\n        let $this = jQuery(this);\n        let accountEmailField = jQuery('#apbct-account-email');\n        let accountEmail = accountEmailField.text();\n\n        $this.toggleClass('active');\n\n        if ($this.hasClass('active')) {\n            $this.text($this.data('save-text'));\n            accountEmailField.attr('contenteditable', 'true');\n            accountEmailField.on('keydown', function(e) {\n                if (e.code === 'Enter') {\n                    e.preventDefault();\n                }\n            });\n            accountEmailField.on('input', function(e) {\n                if (e.inputType === 'insertParagraph') {\n                    e.preventDefault();\n                }\n            });\n        } else {\n            apbct_admin_sendAJAX(\n                {\n                    action: 'apbct_update_account_email',\n                    accountEmail: accountEmail,\n                },\n                {\n                    timeout: 5000,\n                    callback: function(result, data, params, obj) {\n                        if (result.success !== undefined && result.success === 'ok') {\n                            if (result.manuallyLink !== undefined) {\n                                jQuery('#apbct-key-manually-link').attr('href', result.manuallyLink);\n                            }\n                        }\n\n                        if (result.error !== undefined) {\n                            jQuery('#apbct-account-email').css('border-color', 'red');\n                        }\n                    },\n                },\n            );\n\n            accountEmailField.attr('contenteditable', 'false');\n            $this.text($this.data('default-text'));\n        }\n    });\n\n    /**\n     * Validate apkikey and hide get auto btn\n     */\n    jQuery('#apbct_setting_apikey').on('input', function() {\n        let enteredValue = jQuery(this).val();\n        jQuery('button.cleantalk_link[value=\"save_changes\"]').off('click');\n        if (enteredValue !== '' && enteredValue.match(/^[a-z\\d]{3,30}\\s*$/) === null) {\n            jQuery('#apbct_button__get_key_auto__wrapper').show();\n            jQuery('button.cleantalk_link[value=\"save_changes\"]').on('click',\n                function(e) {\n                    e.preventDefault();\n                    if (!jQuery('#apbct_bad_key_notice').length) {\n                        jQuery( '<div class=\\'apbct_notice_inner error\\'><h4 id=\\'apbct_bad_key_notice\\'>' +\n                            'Please, insert a correct access key before saving changes!' +\n                            '</h4></div>' ).insertAfter( jQuery('#apbct_setting_apikey') );\n                    }\n                    apbctHighlightElement('apbct_setting_apikey', 3);\n                },\n            );\n            return;\n        }\n    });\n\n    if ( jQuery('#apbct_setting_apikey').val() && ctSettingsPage.key_is_ok) {\n        jQuery('#apbct_button__get_key_auto__wrapper').hide();\n    }\n\n    /**\n     * Handle synchronization errors when key is no ok to force user check the key and restart the sync\n     */\n    if ( !ctSettingsPage.key_is_ok ) {\n        jQuery('button.cleantalk_link[value=\"save_changes\"]').on('click',\n            function(e) {\n                e.preventDefault();\n                if (!jQuery('#sync_required_notice').length) {\n                    jQuery( '<div class=\\'apbct_notice_inner error\\'><h4 id=\\'sync_required_notice\\'>' +\n                        'Synchronization process failed. Please, check the acces key and restart the synch.' +\n                        '<h4></div>' ).insertAfter( jQuery('#apbct_button__sync') );\n                }\n                apbctHighlightElement('apbct_setting_apikey', 3);\n                apbctHighlightElement('apbct_button__sync', 3);\n                jQuery('#apbct_button__get_key_auto__wrapper').show();\n            },\n        );\n    }\n\n    /**\n     * Open WP gallery for adding custom logo\n     */\n    jQuery('#apbct-custom-logo-open-gallery').click(function(e) {\n        e.preventDefault();\n\n        const button = jQuery(this);\n\n        const customUploader = wp.media({\n            library: {\n                type: 'image',\n            },\n            multiple: false,\n        });\n\n        customUploader.on('select', function() {\n            const image = customUploader.state().get('selection').first().toJSON();\n\n            button.parent().prev().attr( 'src', image.url );\n            jQuery('#cleantalk_custom_logo').val( image.id );\n        });\n\n        customUploader.open();\n    });\n\n    /**\n     * Remove selected logo\n     */\n    jQuery('#apbct-custom-logo-remove-image').click(function(e) {\n        e.preventDefault();\n\n        if ( true === confirm( 'Sure?' ) ) {\n            const src = jQuery(this).parent().prev().data('src');\n            jQuery(this).parent().prev().attr('src', src);\n            jQuery(this).prev().prev().val('');\n        }\n    });\n\n    jQuery('button[id*=\"apbct-action-adjust-change-\"]').click(function(e) {\n        e.preventDefault();\n\n        let data = {};\n        data.action = 'apbct_action_adjust_change';\n        data.adjust = jQuery(this).data('adjust');\n\n        let params = {};\n        params.button = document.getElementById('apbct-action-adjust-change-' + data.adjust);\n        params.notJson = true;\n\n        params.callback = function() {\n            document.location.reload();\n        };\n\n        apbct_admin_sendAJAX(data, params);\n    });\n\n    jQuery('button[id*=\"apbct-action-adjust-reverse-\"]').click(function(e) {\n        e.preventDefault();\n\n        let data = {};\n        data.action = 'apbct_action_adjust_reverse';\n        data.adjust = jQuery(this).data('adjust');\n\n        let params = {};\n        params.button = document.getElementById('apbct-action-adjust-reverse-' + data.adjust);\n        params.notJson = true;\n\n        params.callback = function() {\n            document.location.reload();\n        };\n\n        apbct_admin_sendAJAX(data, params);\n    });\n\n    document.querySelector('.apbct_hidden_section_nav_mob_btn').addEventListener('click', () => {\n        document.querySelector('#apbct_hidden_section_nav ul').style.display = 'block';\n        document.querySelector('.apbct_hidden_section_nav_mob_btn').style.display = 'none';\n    });\n\n    document.querySelector('.apbct_hidden_section_nav_mob_btn-close').addEventListener('click', () => {\n        document.querySelector('#apbct_hidden_section_nav ul').style.display = 'none';\n        document.querySelector('.apbct_hidden_section_nav_mob_btn').style.display = 'block';\n    });\n});\n\n/**\n * Checking current account status for renew notice\n */\nfunction apbctBannerCheck() {\n    let bannerChecker = setInterval( function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_settings__check_renew_banner'},\n            {\n                callback: function(result, data, params, obj) {\n                    if (result.close_renew_banner) {\n                        if (jQuery('#cleantalk_notice_renew').length) {\n                            jQuery('#cleantalk_notice_renew').hide('slow');\n                        }\n                        if (jQuery('#cleantalk_notice_trial').length) {\n                            jQuery('#cleantalk_notice_trial').hide('slow');\n                        }\n                        clearInterval(bannerChecker);\n                    }\n                },\n            },\n        );\n    }, 900000);\n}\n\n/**\n * Select elems like #{selector} or .{selector}\n * Selector passed in string separated by ,\n *\n * @param {string|array} elems\n * @return {*}\n */\nfunction apbctGetElems(elems) {\n    elems = elems.split(',');\n    for ( let i=0, len = elems.length, tmp; i < len; i++) {\n        tmp = jQuery('#'+elems[i]);\n        elems[i] = tmp.length === 0 ? jQuery('.'+elems[i]) : tmp;\n    }\n    return elems;\n}\n\n/**\n * Select elems like #{selector} or .{selector}\n * Selector could be passed in a string ( separated by comma ) or in array ( [ elem1, elem2, ... ] )\n *\n * @param {string|array} elems\n * @return {array}\n */\nfunction apbctGetElemsNative(elems) {\n    // Make array from a string\n    if (typeof elems === 'string') {\n        elems = elems.split(',');\n    }\n\n    let out = [];\n\n    elems.forEach(function(elem, i, arr) {\n        // try to get elements with such IDs\n        let tmp = document.getElementById(elem);\n        if (tmp !== null) {\n            out.push( tmp[key] );\n            return;\n        }\n\n        // try to get elements with such class name\n        // write each elem from collection to new element of output array\n        tmp = document.getElementsByClassName(elem);\n        if (tmp !== null && tmp.length !==0 ) {\n            for (key in tmp) {\n                if ( +key >= 0 ) {\n                    out.push( tmp[key] );\n                }\n            }\n        }\n    });\n\n    return out;\n}\n\n/**\n * @param {string|array} elems\n */\nfunction apbctShowHideElem(elems) {\n    elems = apbctGetElems(elems);\n    for ( let i=0, len = elems.length; i < len; i++) {\n        elems[i].each(function(i, elem) {\n            elem = jQuery(elem);\n            let label = elem.next('label') || elem.prev('label') || null;\n            if (elem.is(':visible')) {\n                elem.hide();\n                if (label) label.hide();\n            } else {\n                elem.show();\n                if (label) label.show();\n            }\n        });\n    }\n}\n\n/**\n * @param {string|array} element\n */\nfunction apbctExceptedShowHide(element) { // eslint-disable-line no-unused-vars\n    let toHide = [\n        'apbct_settings__dwpms_settings',\n        'apbct_settings__advanced_settings',\n        'trusted_and_affiliate__special_span',\n    ];\n    let index = toHide.indexOf(element);\n    if (index !== -1) {\n        toHide.splice(index, 1);\n    }\n    apbctShowHideElem(element);\n    toHide.forEach((toHideElem) => {\n        if (document.getElementById(toHideElem) && document.getElementById(toHideElem).style.display !== 'none') {\n            apbctShowHideElem(toHideElem);\n        }\n    });\n}\n\n/**\n * @param {mixed} event\n * @param {string} id\n */\nfunction apbctShowRequiredGroups(event, id) { // eslint-disable-line no-unused-vars\n    let required = document.getElementById('apbct_settings__dwpms_settings');\n    if (required && required.style.display === 'none') {\n        let originEvent = event;\n        event.preventDefault();\n        apbctShowHideElem('apbct_settings__dwpms_settings');\n        document.getElementById(id).dispatchEvent(new originEvent.constructor(originEvent.type, originEvent));\n    }\n}\n\n/**\n * Settings dependences. Switch|toggle depended elements state (disabled|enabled)\n * Recieve list of selectors ( without class mark (.) or id mark (#) )\n *\n * @param {string|array} ids\n * @param {int} enable\n */\nfunction apbctSettingsDependencies(ids, enable) { // eslint-disable-line no-unused-vars\n    enable = ! isNaN(enable) ? enable : null;\n\n    // Get elements\n    let elems = apbctGetElemsNative( ids );\n\n    elems.forEach(function(elem, i, arr) {\n        let doDisable = function() {\n            elem.setAttribute('disabled', 'disabled');\n        };\n        let doEnable = function() {\n            elem.removeAttribute('disabled');\n        };\n\n        // Set defined state\n        if (enable === null) {\n            enable = elem.getAttribute('disabled') === null ? 0 : 1;\n        }\n\n        enable === 1 ? doEnable() : doDisable();\n\n        if ( elem.getAttribute('apbct_children') !== null) {\n            let state = apbctSettingsDependenciesGetState( elem ) && enable;\n            if ( state !== null ) {\n                apbctSettingsDependencies( elem.getAttribute('apbct_children'), state );\n            }\n        }\n    });\n}\n\n/**\n * @param {HTMLElement} elem\n * @return {int|null}\n */\nfunction apbctSettingsDependenciesGetState(elem) {\n    let state;\n\n    switch ( elem.getAttribute( 'type' ) ) {\n    case 'checkbox':\n        state = +elem.checked;\n        break;\n    case 'radio':\n        state = +(+elem.getAttribute('value') === 1);\n        break;\n    default:\n        state = null;\n    }\n\n    return state;\n}\n\n/**\n * @param {HTMLElement} label\n * @param {string} settingId\n */\nfunction apbctSettingsShowDescription(label, settingId) {\n    let removeDescFunc = function(e) {\n        const callerIsPopup = jQuery(e.target).parent('.apbct_long_desc').length != 0;\n        const callerIsHideCross = jQuery(e.target).hasClass('apbct_long_desc__cancel');\n        const descIsShown = jQuery('.apbct_long_desc__title').length > 0;\n        if (descIsShown && !callerIsPopup || callerIsHideCross) {\n            jQuery('.apbct_long_desc').remove();\n            jQuery(document).off('click', removeDescFunc);\n        }\n    };\n\n    label.after('<div id=\\'apbct_long_desc__'+settingId+'\\' class=\\'apbct_long_desc\\'></div>');\n    let obj = jQuery('#apbct_long_desc__'+settingId);\n    obj.append('<i class= \\'apbct-icon-spin1 animate-spin\\'></i>')\n        .append('<div class=\\'apbct_long_desc__angle\\'></div>')\n        .css({\n            top: label.position().top - 5,\n            left: label.position().left + 25,\n        });\n\n\n    apbct_admin_sendAJAX(\n        {action: 'apbct_settings__get__long_description', setting_id: settingId},\n        {\n            spinner: obj.children('img'),\n            callback: function(result, data, params, obj) {\n                obj.empty()\n                    .append('<div class=\\'apbct_long_desc__angle\\'></div>')\n                    .append('<i class=\\'apbct_long_desc__cancel apbct-icon-cancel\\'></i>')\n                    .append('<h3 class=\\'apbct_long_desc__title\\'>'+result.title+'</h3>')\n                    .append('<p>'+result.desc+'</p>');\n\n                jQuery(document).on('click', removeDescFunc);\n            },\n        },\n        obj,\n    );\n}\n\n/**\n * save button, navigation menu, navigation button position\n */\nfunction apbctSaveButtonPosition() {\n    if (\n        document.getElementById('apbct_settings__before_advanced_settings') === null ||\n        document.getElementById('apbct_settings__after_advanced_settings') === null ||\n        document.getElementById('apbct_settings__button_section') === null ||\n        document.getElementById('apbct_settings__advanced_settings') === null ||\n        document.getElementById('apbct_hidden_section_nav') === null\n    ) {\n        return;\n    }\n    let docInnerHeight = window.innerHeight;\n    let advSettingsBlock = document.getElementById('apbct_settings__advanced_settings');\n    let advSettingsOffset = advSettingsBlock.getBoundingClientRect().top;\n    let buttonBlock = document.getElementById('apbct_settings__button_section');\n    let buttonHeight = buttonBlock.getBoundingClientRect().height;\n    let navBlock = document.getElementById('apbct_hidden_section_nav');\n    let navBlockOffset = navBlock.getBoundingClientRect().top;\n    let navBlockHeight = navBlock.getBoundingClientRect().height;\n\n    // Set Save button position\n    if ( getComputedStyle(advSettingsBlock).display !== 'none' ) {\n        jQuery('#apbct_settings__main_save_button').hide();\n        if ( docInnerHeight < navBlockOffset + navBlockHeight + buttonHeight ) {\n            buttonBlock.style.bottom = '';\n            buttonBlock.style.top = navBlockOffset + navBlockHeight + 20 + 'px';\n        } else {\n            buttonBlock.style.bottom = 0;\n            buttonBlock.style.top = '';\n        }\n    } else {\n        jQuery('#apbct_settings__main_save_button').show();\n    }\n\n    if (window.innerWidth <= 768 && advSettingsOffset < 0) {\n        document.querySelector('#apbct_hidden_section_nav').style.display = 'grid';\n        document.querySelector('#apbct_hidden_section_nav').style.top = docInnerHeight + 'px';\n    } else if (window.innerWidth <= 768) {\n        document.querySelector('#apbct_hidden_section_nav').style.display = 'none';\n    }\n\n    // Set nav position\n    if ( advSettingsOffset <= 0 ) {\n        navBlock.style.top = - advSettingsOffset + 30 + 'px';\n    } else {\n        navBlock.style.top = 0;\n    }\n}\n\n/**\n * Hightlights element\n *\n * @param {string} id\n * @param {int} times\n */\nfunction apbctHighlightElement(id, times) {\n    times = times-1 || 0;\n    let keyField = jQuery('#'+id);\n    jQuery('html, body').animate({scrollTop: keyField.offset().top - 100}, 'slow');\n    keyField.addClass('apbct_highlighted');\n    keyField.animate({opacity: 0}, 400, 'linear', function() {\n        keyField.animate({opacity: 1}, 400, 'linear', function() {\n            if (times>0) {\n                apbctHighlightElement(id, times);\n            } else {\n                keyField.removeClass('apbct_highlighted');\n            }\n        });\n    });\n}\n"],"names":["apbctBannerCheck","let","bannerChecker","setInterval","apbct_admin_sendAJAX","action","callback","result","data","params","obj","close_renew_banner","jQuery","length","hide","clearInterval","apbctGetElems","elems","i","len","split","tmp","apbctGetElemsNative","out","forEach","elem","arr","document","getElementById","push","key","getElementsByClassName","apbctShowHideElem","each","label","next","prev","is","show","apbctExceptedShowHide","element","toHide","index","indexOf","splice","toHideElem","style","display","apbctShowRequiredGroups","event","id","required","originEvent","preventDefault","dispatchEvent","constructor","type","apbctSettingsDependencies","ids","enable","isNaN","state","getAttribute","removeAttribute","setAttribute","apbctSettingsDependenciesGetState","checked","apbctSettingsShowDescription","settingId","removeDescFunc","e","callerIsPopup","target","parent","callerIsHideCross","hasClass","remove","off","after","append","css","top","position","left","setting_id","spinner","children","empty","title","desc","on","apbctSaveButtonPosition","docInnerHeight","advSettingsBlock","advSettingsOffset","buttonBlock","buttonHeight","navBlock","navBlockOffset","navBlockHeight","window","innerHeight","getBoundingClientRect","height","getComputedStyle","bottom","innerWidth","querySelector","apbctHighlightElement","times","keyField","animate","scrollTop","offset","addClass","opacity","removeClass","ready","currentTarget","querySelectorAll","parseInt","value","direction","val","attr","this","fadeOut","timezone","Date","getTimezoneOffset","ct_admin_timezone","timeout","button","setTimeout","reload","location","getTemplates","cleantalkModal","loaded","open","addEventListener","optionSelected","console","log","template_id","template_name","settings","notJson","success","insertAfter","close","templateNameInput","templateName","ctSettingsPage","key_changed","click","self","find","$this","accountEmailField","accountEmail","text","toggleClass","code","inputType","undefined","manuallyLink","error","enteredValue","match","key_is_ok","customUploader","wp","media","library","multiple","image","get","first","toJSON","url","confirm","src","adjust"],"mappings":"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"}