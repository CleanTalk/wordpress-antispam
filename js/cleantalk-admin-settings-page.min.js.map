{"version":3,"file":"cleantalk-admin-settings-page.min.js","sources":["cleantalk-admin-settings-page.js"],"sourcesContent":["jQuery(document).ready(function() {\n    // Top level settings\n    jQuery('.apbct_setting---data__email_decoder').on('click', (event) => {\n        if ( event.target.type === 'checkbox' ) {\n            let currentTarget = event.target.checked ? 1 : 2;\n            document.querySelectorAll('input[id^=apbct_setting_data__email_decoder]')[currentTarget].checked = true;\n        } else {\n            document.getElementById('apbct_setting_data__email_decoder').checked = parseInt(event.target.value) === 1;\n        }\n    });\n\n    // Crunch for Right to Left direction languages\n    if (document.getElementsByClassName('apbct_settings-title')[0]) {\n        if (getComputedStyle(document.getElementsByClassName('apbct_settings-title')[0]).direction === 'rtl') {\n            jQuery('.apbct_switchers').css('text-align', 'right');\n        }\n    }\n\n    // Show/Hide access key\n    jQuery('#apbct_showApiKey').on('click', function() {\n        jQuery('.apbct_setting---apikey').val(jQuery('.apbct_setting---apikey').attr('key'));\n        jQuery('.apbct_setting---apikey+div').show();\n        jQuery(this).fadeOut(300);\n    });\n\n    let d = new Date();\n    let timezone = d.getTimezoneOffset()/60*(-1);\n    jQuery('#ct_admin_timezone').val(timezone);\n\n    // Key KEY automatically\n    jQuery('#apbct_button__get_key_auto').on('click', function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_get_key_auto', ct_admin_timezone: timezone},\n            {\n                timeout: 25000,\n                button: document.getElementById('apbct_button__get_key_auto' ),\n                spinner: jQuery('#apbct_button__get_key_auto .apbct_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    jQuery('#apbct_button__get_key_auto .apbct_success').show(300);\n                    setTimeout(function() {\n                        jQuery('#apbct_button__get_key_auto .apbct_success').hide(300);\n                    }, 2000);\n                    if (result.reload) {\n                        document.location.reload();\n                    }\n                    if (result.getTemplates) {\n                        cleantalkModal.loaded = result.getTemplates;\n                        cleantalkModal.open();\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                    }\n                },\n            },\n        );\n    });\n\n    // Import settings\n    jQuery( document ).on('click', '#apbct_settings_templates_import_button', function() {\n        jQuery('#apbct-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#apbct_settings_templates_import'));\n        let templateNameInput = jQuery('#apbct_settings_templates_import_name');\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        let data = {\n            'template_id': optionSelected.data('id'),\n            'template_name': optionSelected.data('name'),\n            'settings': optionSelected.data('settings'),\n        };\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_import', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_import_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_import_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_import_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Export settings\n    jQuery( document ).on('click', '#apbct_settings_templates_export_button', function() {\n        jQuery('#apbct-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#apbct_settings_templates_export'));\n        let templateNameInput = jQuery('#apbct_settings_templates_export_name');\n        let data = {};\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        if ( optionSelected.data('id') === 'new_template' ) {\n            let templateName = templateNameInput.val();\n            if ( templateName === '' ) {\n                templateNameInput.css('border-color', 'red');\n                return;\n            }\n            data = {\n                'template_name': templateName,\n            };\n        } else {\n            data = {\n                'template_id': optionSelected.data('id'),\n            };\n        }\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_export', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_export_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_export_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_export_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Reset settings\n    jQuery( document ).on('click', '#apbct_settings_templates_reset_button', function() {\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_reset'},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_reset_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_reset_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_reset_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Sync button\n    jQuery('#apbct_button__sync').on('click', function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_sync'},\n            {\n                timeout: 25000,\n                button: document.getElementById('apbct_button__sync' ),\n                spinner: jQuery('#apbct_button__sync .apbct_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    jQuery('#apbct_button__sync .apbct_success').show(300);\n                    setTimeout(function() {\n                        jQuery('#apbct_button__sync .apbct_success').hide(300);\n                    }, 2000);\n                    if (result.reload) {\n                        if ( ctSettingsPage.key_changed ) {\n                            jQuery('.key_changed_sync').hide(300);\n                            jQuery('.key_changed_success').show(300);\n                            setTimeout(function() {\n                                document.location.reload();\n                            }, 3000);\n                        } else {\n                            document.location.reload();\n                        }\n                    }\n                },\n            },\n        );\n    });\n\n    if ( ctSettingsPage.key_changed ) {\n        jQuery('#apbct_button__sync').click();\n    }\n\n    jQuery(document).on('click', '.apbct_settings-long_description---show', function() {\n        self = jQuery(this);\n        apbctSettingsShowDescription(self, self.attr('setting'));\n    });\n\n    if (jQuery('#cleantalk_notice_renew').length || jQuery('#cleantalk_notice_trial').length) {\n        apbctBannerCheck();\n    }\n\n    jQuery(document).on('change', '#apbct_settings_templates_export', function() {\n        let optionSelected = jQuery('option:selected', this);\n        if ( optionSelected.data('id') === 'new_template' ) {\n            jQuery(this).parent().parent().find('#apbct_settings_templates_export_name').show();\n        } else {\n            jQuery(this).parent().parent().find('#apbct_settings_templates_export_name').hide();\n        }\n    });\n\n    apbctSaveButtonPosition();\n    window.addEventListener('scroll', apbctSaveButtonPosition);\n    jQuery('#ct_adv_showhide a').on('click', apbctSaveButtonPosition);\n\n\n    /**\n     * Change cleantalk account email\n     */\n    jQuery('#apbct-change-account-email').on('click', function(e) {\n        e.preventDefault();\n\n        let $this = jQuery(this);\n        let accountEmailField = jQuery('#apbct-account-email');\n        let accountEmail = accountEmailField.text();\n\n        $this.toggleClass('active');\n\n        if ($this.hasClass('active')) {\n            $this.text($this.data('save-text'));\n            accountEmailField.attr('contenteditable', 'true');\n            accountEmailField.on('keydown', function(e) {\n                if (e.code === 'Enter') {\n                    e.preventDefault();\n                }\n            });\n            accountEmailField.on('input', function(e) {\n                if (e.inputType === 'insertParagraph') {\n                    e.preventDefault();\n                }\n            });\n        } else {\n            apbct_admin_sendAJAX(\n                {\n                    action: 'apbct_update_account_email',\n                    accountEmail: accountEmail,\n                },\n                {\n                    timeout: 5000,\n                    callback: function(result, data, params, obj) {\n                        if (result.success !== undefined && result.success === 'ok') {\n                            if (result.manuallyLink !== undefined) {\n                                jQuery('#apbct-key-manually-link').attr('href', result.manuallyLink);\n                            }\n                        }\n\n                        if (result.error !== undefined) {\n                            jQuery('#apbct-account-email').css('border-color', 'red');\n                        }\n                    },\n                },\n            );\n\n            accountEmailField.attr('contenteditable', 'false');\n            $this.text($this.data('default-text'));\n        }\n    });\n\n    /**\n     * Validate apkikey and hide get auto btn\n     */\n    jQuery('#apbct_setting_apikey').on('input', function() {\n        let enteredValue = jQuery(this).val();\n        jQuery('button.cleantalk_link[value=\"save_changes\"]').off('click');\n        if (enteredValue !== '' && enteredValue.match(/^[a-z\\d]{3,30}\\s*$/) === null) {\n            jQuery('#apbct_button__get_key_auto__wrapper').show();\n            jQuery('button.cleantalk_link[value=\"save_changes\"]').on('click',\n                function(e) {\n                    e.preventDefault();\n                    if (!jQuery('#apbct_bad_key_notice').length) {\n                        jQuery( '<div class=\\'apbct_notice_inner error\\'><h4 id=\\'apbct_bad_key_notice\\'>' +\n                            'Please, insert a correct access key before saving changes!' +\n                            '</h4></div>' ).insertAfter( jQuery('#apbct_setting_apikey') );\n                    }\n                    apbctHighlightElement('apbct_setting_apikey', 3);\n                },\n            );\n            return;\n        }\n    });\n\n    if ( jQuery('#apbct_setting_apikey').val() && ctSettingsPage.key_is_ok) {\n        jQuery('#apbct_button__get_key_auto__wrapper').hide();\n    }\n\n    /**\n     * Handle synchronization errors when key is no ok to force user check the key and restart the sync\n     */\n    if ( !ctSettingsPage.key_is_ok ) {\n        jQuery('button.cleantalk_link[value=\"save_changes\"]').on('click',\n            function(e) {\n                e.preventDefault();\n                if (!jQuery('#sync_required_notice').length) {\n                    jQuery( '<div class=\\'apbct_notice_inner error\\'><h4 id=\\'sync_required_notice\\'>' +\n                        'Synchronization process failed. Please, check the acces key and restart the synch.' +\n                        '<h4></div>' ).insertAfter( jQuery('#apbct_button__sync') );\n                }\n                apbctHighlightElement('apbct_setting_apikey', 3);\n                apbctHighlightElement('apbct_button__sync', 3);\n                jQuery('#apbct_button__get_key_auto__wrapper').show();\n            },\n        );\n    }\n\n    /**\n     * Open WP gallery for adding custom logo\n     */\n    jQuery('#apbct-custom-logo-open-gallery').click(function(e) {\n        e.preventDefault();\n\n        const button = jQuery(this);\n\n        const customUploader = wp.media({\n            library: {\n                type: 'image',\n            },\n            multiple: false,\n        });\n\n        customUploader.on('select', function() {\n            const image = customUploader.state().get('selection').first().toJSON();\n\n            button.parent().prev().attr( 'src', image.url );\n            jQuery('#cleantalk_custom_logo').val( image.id );\n        });\n\n        customUploader.open();\n    });\n\n    /**\n     * Remove selected logo\n     */\n    jQuery('#apbct-custom-logo-remove-image').click(function(e) {\n        e.preventDefault();\n\n        if ( true === confirm( 'Sure?' ) ) {\n            const src = jQuery(this).parent().prev().data('src');\n            jQuery(this).parent().prev().attr('src', src);\n            jQuery(this).prev().prev().val('');\n        }\n    });\n\n    jQuery('button[id*=\"apbct-action-adjust-change-\"]').click(function(e) {\n        e.preventDefault();\n\n        let data = {};\n        data.action = 'apbct_action_adjust_change';\n        data.adjust = jQuery(this).data('adjust');\n\n        let params = {};\n        params.button = document.getElementById('apbct-action-adjust-change-' + data.adjust);\n        params.notJson = true;\n\n        params.callback = function() {\n            document.location.reload();\n        };\n\n        apbct_admin_sendAJAX(data, params);\n    });\n\n    jQuery('button[id*=\"apbct-action-adjust-reverse-\"]').click(function(e) {\n        e.preventDefault();\n\n        let data = {};\n        data.action = 'apbct_action_adjust_reverse';\n        data.adjust = jQuery(this).data('adjust');\n\n        let params = {};\n        params.button = document.getElementById('apbct-action-adjust-reverse-' + data.adjust);\n        params.notJson = true;\n\n        params.callback = function() {\n            document.location.reload();\n        };\n\n        apbct_admin_sendAJAX(data, params);\n    });\n\n    document.querySelector('.apbct_hidden_section_nav_mob_btn').addEventListener('click', () => {\n        document.querySelector('#apbct_hidden_section_nav ul').style.display = 'block';\n        document.querySelector('.apbct_hidden_section_nav_mob_btn').style.display = 'none';\n    });\n\n    document.querySelector('.apbct_hidden_section_nav_mob_btn-close').addEventListener('click', () => {\n        document.querySelector('#apbct_hidden_section_nav ul').style.display = 'none';\n        document.querySelector('.apbct_hidden_section_nav_mob_btn').style.display = 'block';\n    });\n\n    // Hide/show EmailEncoder replacing text textarea\n    apbctManageEmailEncoderCustomTextField();\n});\n\n/**\n * Hide/show EmailEncoder replacing text textarea\n */\nfunction apbctManageEmailEncoderCustomTextField() {\n    const replacingText = document\n        .querySelector('#apbct_setting_data__email_decoder_obfuscation_custom_text');\n    let replacingTextWrapperSub;\n    if (replacingText !== null) {\n        replacingTextWrapperSub = typeof replacingText.parentElement !== 'undefined' ?\n            replacingText.parentElement :\n            null;\n    }\n    document.querySelectorAll('.apbct_setting---data__email_decoder_obfuscation_mode').forEach((elem) => {\n        // visibility set on saved settings\n        if (replacingTextWrapperSub && elem.checked && elem.value !== 'replace') {\n            replacingTextWrapperSub.classList.add('hidden');\n        }\n        // visibility set on change\n        elem.addEventListener('click', (event) => {\n            if (typeof replacingTextWrapperSub !== 'undefined') {\n                if (event.target.value === 'replace') {\n                    replacingTextWrapperSub.classList.remove('hidden');\n                } else {\n                    replacingTextWrapperSub.classList.add('hidden');\n                }\n            }\n        });\n    });\n}\n\n/**\n * Checking current account status for renew notice\n */\nfunction apbctBannerCheck() {\n    let bannerChecker = setInterval( function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_settings__check_renew_banner'},\n            {\n                callback: function(result, data, params, obj) {\n                    if (result.close_renew_banner) {\n                        if (jQuery('#cleantalk_notice_renew').length) {\n                            jQuery('#cleantalk_notice_renew').hide('slow');\n                        }\n                        if (jQuery('#cleantalk_notice_trial').length) {\n                            jQuery('#cleantalk_notice_trial').hide('slow');\n                        }\n                        clearInterval(bannerChecker);\n                    }\n                },\n            },\n        );\n    }, 900000);\n}\n\n/**\n * Select elems like #{selector} or .{selector}\n * Selector passed in string separated by ,\n *\n * @param {string|array} elems\n * @return {*}\n */\nfunction apbctGetElems(elems) {\n    elems = elems.split(',');\n    for ( let i=0, len = elems.length, tmp; i < len; i++) {\n        tmp = jQuery('#'+elems[i]);\n        elems[i] = tmp.length === 0 ? jQuery('.'+elems[i]) : tmp;\n    }\n    return elems;\n}\n\n/**\n * Select elems like #{selector} or .{selector}\n * Selector could be passed in a string ( separated by comma ) or in array ( [ elem1, elem2, ... ] )\n *\n * @param {string|array} elems\n * @return {array}\n */\nfunction apbctGetElemsNative(elems) {\n    // Make array from a string\n    if (typeof elems === 'string') {\n        elems = elems.split(',');\n    }\n\n    let out = [];\n\n    elems.forEach(function(elem, i, arr) {\n        // try to get elements with such IDs\n        let tmp = document.getElementById(elem);\n        if (tmp !== null) {\n            out.push( tmp[key] );\n            return;\n        }\n\n        // try to get elements with such class name\n        // write each elem from collection to new element of output array\n        tmp = document.getElementsByClassName(elem);\n        if (tmp !== null && tmp.length !==0 ) {\n            for (key in tmp) {\n                if ( +key >= 0 ) {\n                    out.push( tmp[key] );\n                }\n            }\n        }\n    });\n\n    return out;\n}\n\n/**\n * @param {string|array} elems\n */\nfunction apbctShowHideElem(elems) {\n    elems = apbctGetElems(elems);\n    for ( let i=0, len = elems.length; i < len; i++) {\n        elems[i].each(function(i, elem) {\n            elem = jQuery(elem);\n            let label = elem.next('label') || elem.prev('label') || null;\n            if (elem.is(':visible')) {\n                elem.hide();\n                if (label) label.hide();\n            } else {\n                elem.show();\n                if (label) label.show();\n            }\n        });\n    }\n}\n\n/**\n * @param {string|array} element\n */\nfunction apbctExceptedShowHide(element) { // eslint-disable-line no-unused-vars\n    let toHide = [\n        'apbct_settings__dwpms_settings',\n        'apbct_settings__advanced_settings',\n        'trusted_and_affiliate__special_span',\n    ];\n    let index = toHide.indexOf(element);\n    if (index !== -1) {\n        toHide.splice(index, 1);\n    }\n    apbctShowHideElem(element);\n    toHide.forEach((toHideElem) => {\n        if (document.getElementById(toHideElem) && document.getElementById(toHideElem).style.display !== 'none') {\n            apbctShowHideElem(toHideElem);\n        }\n    });\n}\n\n/**\n * @param {mixed} event\n * @param {string} id\n */\nfunction apbctShowRequiredGroups(event, id) { // eslint-disable-line no-unused-vars\n    let required = document.getElementById('apbct_settings__dwpms_settings');\n    if (required && required.style.display === 'none') {\n        let originEvent = event;\n        event.preventDefault();\n        apbctShowHideElem('apbct_settings__dwpms_settings');\n        document.getElementById(id).dispatchEvent(new originEvent.constructor(originEvent.type, originEvent));\n    }\n}\n\n/**\n * Settings dependences. Switch|toggle depended elements state (disabled|enabled)\n * Recieve list of selectors ( without class mark (.) or id mark (#) )\n *\n * @param {string|array} ids\n * @param {int} enable\n */\nfunction apbctSettingsDependencies(ids, enable) { // eslint-disable-line no-unused-vars\n    enable = ! isNaN(enable) ? enable : null;\n\n    // Get elements\n    let elems = apbctGetElemsNative( ids );\n\n    elems.forEach(function(elem, i, arr) {\n        let doDisable = function() {\n            elem.setAttribute('disabled', 'disabled');\n        };\n        let doEnable = function() {\n            elem.removeAttribute('disabled');\n        };\n\n        // Set defined state\n        if (enable === null) {\n            enable = elem.getAttribute('disabled') === null ? 0 : 1;\n        }\n\n        enable === 1 ? doEnable() : doDisable();\n\n        if ( elem.getAttribute('apbct_children') !== null) {\n            let state = apbctSettingsDependenciesGetState( elem ) && enable;\n            if ( state !== null ) {\n                apbctSettingsDependencies( elem.getAttribute('apbct_children'), state );\n            }\n        }\n    });\n}\n\n/**\n * @param {HTMLElement} elem\n * @return {int|null}\n */\nfunction apbctSettingsDependenciesGetState(elem) {\n    let state;\n\n    switch ( elem.getAttribute( 'type' ) ) {\n    case 'checkbox':\n        state = +elem.checked;\n        break;\n    case 'radio':\n        state = +(+elem.getAttribute('value') === 1);\n        break;\n    default:\n        state = null;\n    }\n\n    return state;\n}\n\n/**\n * @param {HTMLElement} label\n * @param {string} settingId\n */\nfunction apbctSettingsShowDescription(label, settingId) {\n    let removeDescFunc = function(e) {\n        const callerIsPopup = jQuery(e.target).parent('.apbct_long_desc').length != 0;\n        const callerIsHideCross = jQuery(e.target).hasClass('apbct_long_desc__cancel');\n        const descIsShown = jQuery('.apbct_long_desc__title').length > 0;\n        if (descIsShown && !callerIsPopup || callerIsHideCross) {\n            jQuery('.apbct_long_desc').remove();\n            jQuery(document).off('click', removeDescFunc);\n        }\n    };\n\n    label.after('<div id=\\'apbct_long_desc__'+settingId+'\\' class=\\'apbct_long_desc\\'></div>');\n    let obj = jQuery('#apbct_long_desc__'+settingId);\n    obj.append('<i class= \\'apbct-icon-spin1 animate-spin\\'></i>')\n        .append('<div class=\\'apbct_long_desc__angle\\'></div>')\n        .css({\n            top: label.position().top - 5,\n            left: label.position().left + 25,\n        });\n\n\n    apbct_admin_sendAJAX(\n        {action: 'apbct_settings__get__long_description', setting_id: settingId},\n        {\n            spinner: obj.children('img'),\n            callback: function(result, data, params, obj) {\n                obj.empty()\n                    .append('<div class=\\'apbct_long_desc__angle\\'></div>')\n                    .append('<i class=\\'apbct_long_desc__cancel apbct-icon-cancel\\'></i>')\n                    .append('<h3 class=\\'apbct_long_desc__title\\'>'+result.title+'</h3>')\n                    .append('<p>'+result.desc+'</p>');\n\n                jQuery(document).on('click', removeDescFunc);\n            },\n        },\n        obj,\n    );\n}\n\n/**\n * save button, navigation menu, navigation button position\n */\nfunction apbctSaveButtonPosition() {\n    if (\n        document.getElementById('apbct_settings__before_advanced_settings') === null ||\n        document.getElementById('apbct_settings__after_advanced_settings') === null ||\n        document.getElementById('apbct_settings__button_section') === null ||\n        document.getElementById('apbct_settings__advanced_settings') === null ||\n        document.getElementById('apbct_hidden_section_nav') === null\n    ) {\n        return;\n    }\n    let docInnerHeight = window.innerHeight;\n    let advSettingsBlock = document.getElementById('apbct_settings__advanced_settings');\n    let advSettingsOffset = advSettingsBlock.getBoundingClientRect().top;\n    let buttonBlock = document.getElementById('apbct_settings__button_section');\n    let buttonHeight = buttonBlock.getBoundingClientRect().height;\n    let navBlock = document.getElementById('apbct_hidden_section_nav');\n    let navBlockOffset = navBlock.getBoundingClientRect().top;\n    let navBlockHeight = navBlock.getBoundingClientRect().height;\n\n    // Set Save button position\n    if ( getComputedStyle(advSettingsBlock).display !== 'none' ) {\n        jQuery('#apbct_settings__main_save_button').hide();\n        if ( docInnerHeight < navBlockOffset + navBlockHeight + buttonHeight ) {\n            buttonBlock.style.bottom = '';\n            buttonBlock.style.top = navBlockOffset + navBlockHeight + 20 + 'px';\n        } else {\n            buttonBlock.style.bottom = 0;\n            buttonBlock.style.top = '';\n        }\n    } else {\n        jQuery('#apbct_settings__main_save_button').show();\n    }\n\n    if (window.innerWidth <= 768 && advSettingsOffset < 0) {\n        document.querySelector('#apbct_hidden_section_nav').style.display = 'grid';\n        document.querySelector('#apbct_hidden_section_nav').style.top = docInnerHeight + 'px';\n    } else if (window.innerWidth <= 768) {\n        document.querySelector('#apbct_hidden_section_nav').style.display = 'none';\n    }\n\n    // Set nav position\n    if ( advSettingsOffset <= 0 ) {\n        navBlock.style.top = - advSettingsOffset + 30 + 'px';\n    } else {\n        navBlock.style.top = 0;\n    }\n}\n\n/**\n * Hightlights element\n *\n * @param {string} id\n * @param {int} times\n */\nfunction apbctHighlightElement(id, times) {\n    times = times-1 || 0;\n    let keyField = jQuery('#'+id);\n    jQuery('html, body').animate({scrollTop: keyField.offset().top - 100}, 'slow');\n    keyField.addClass('apbct_highlighted');\n    keyField.animate({opacity: 0}, 400, 'linear', function() {\n        keyField.animate({opacity: 1}, 400, 'linear', function() {\n            if (times>0) {\n                apbctHighlightElement(id, times);\n            } else {\n                keyField.removeClass('apbct_highlighted');\n            }\n        });\n    });\n}\n"],"names":["apbctManageEmailEncoderCustomTextField","replacingText","document","querySelector","let","replacingTextWrapperSub","parentElement","querySelectorAll","forEach","elem","checked","value","classList","add","addEventListener","event","target","remove","apbctBannerCheck","bannerChecker","setInterval","apbct_admin_sendAJAX","action","callback","result","data","params","obj","close_renew_banner","jQuery","length","hide","clearInterval","apbctGetElems","elems","i","len","split","tmp","apbctGetElemsNative","out","arr","getElementById","push","key","getElementsByClassName","apbctShowHideElem","each","label","next","prev","is","show","apbctExceptedShowHide","element","toHide","index","indexOf","splice","toHideElem","style","display","apbctShowRequiredGroups","id","required","originEvent","preventDefault","dispatchEvent","constructor","type","apbctSettingsDependencies","ids","enable","isNaN","state","getAttribute","removeAttribute","setAttribute","apbctSettingsDependenciesGetState","apbctSettingsShowDescription","settingId","removeDescFunc","e","callerIsPopup","parent","callerIsHideCross","hasClass","off","after","append","css","top","position","left","setting_id","spinner","children","empty","title","desc","on","apbctSaveButtonPosition","docInnerHeight","advSettingsBlock","advSettingsOffset","buttonBlock","buttonHeight","navBlock","navBlockOffset","navBlockHeight","window","innerHeight","getBoundingClientRect","height","getComputedStyle","bottom","innerWidth","apbctHighlightElement","times","keyField","animate","scrollTop","offset","addClass","opacity","removeClass","ready","currentTarget","parseInt","direction","val","attr","this","fadeOut","timezone","Date","getTimezoneOffset","ct_admin_timezone","timeout","button","setTimeout","reload","location","getTemplates","cleantalkModal","loaded","open","optionSelected","console","log","template_id","template_name","settings","notJson","success","insertAfter","close","templateNameInput","templateName","ctSettingsPage","key_changed","click","self","find","$this","accountEmailField","accountEmail","text","toggleClass","code","inputType","undefined","manuallyLink","error","enteredValue","match","key_is_ok","customUploader","wp","media","library","multiple","image","get","first","toJSON","url","confirm","src","adjust"],"mappings":"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"}