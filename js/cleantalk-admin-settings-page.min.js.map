{"version":3,"file":"cleantalk-admin-settings-page.min.js","sources":["cleantalk-admin-settings-page.js"],"sourcesContent":["jQuery(document).ready(function() {\n    // Top level settings\n    jQuery('.apbct_setting---data__email_decoder').on('click', (event) => {\n        if ( event.target.type === 'checkbox' ) {\n            let currentTarget = event.target.checked ? 1 : 2;\n            document.querySelectorAll('input[id^=apbct_setting_data__email_decoder]')[currentTarget].checked = true;\n        } else {\n            document.getElementById('apbct_setting_data__email_decoder').checked = parseInt(event.target.value) === 1;\n        }\n    });\n\n    // Crunch for Right to Left direction languages\n    if (document.getElementsByClassName('apbct_settings-title')[0]) {\n        if (getComputedStyle(document.getElementsByClassName('apbct_settings-title')[0]).direction === 'rtl') {\n            jQuery('.apbct_switchers').css('text-align', 'right');\n        }\n    }\n\n    // Show/Hide access key\n    jQuery('#apbct_showApiKey').on('click', function() {\n        jQuery('.apbct_setting---apikey').val(jQuery('.apbct_setting---apikey').attr('key'));\n        jQuery('.apbct_setting---apikey+div').show();\n        jQuery(this).fadeOut(300);\n    });\n\n    let d = new Date();\n    let timezone = d.getTimezoneOffset()/60*(-1);\n    jQuery('#ct_admin_timezone').val(timezone);\n\n    // Key KEY automatically\n    jQuery('#apbct_button__get_key_auto').on('click', function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_get_key_auto', ct_admin_timezone: timezone},\n            {\n                timeout: 25000,\n                button: document.getElementById('apbct_button__get_key_auto' ),\n                spinner: jQuery('#apbct_button__get_key_auto .apbct_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    jQuery('#apbct_button__get_key_auto .apbct_success').show(300);\n                    setTimeout(function() {\n                        jQuery('#apbct_button__get_key_auto .apbct_success').hide(300);\n                    }, 2000);\n                    if (result.reload) {\n                        document.location.reload();\n                    }\n                    if (result.getTemplates) {\n                        cleantalkModal.loaded = result.getTemplates;\n                        cleantalkModal.open();\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                    }\n                },\n            },\n        );\n    });\n\n    // Import settings\n    jQuery( document ).on('click', '#apbct_settings_templates_import_button', function() {\n        jQuery('#apbct-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#apbct_settings_templates_import'));\n        let templateNameInput = jQuery('#apbct_settings_templates_import_name');\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        let data = {\n            'template_id': optionSelected.data('id'),\n            'template_name': optionSelected.data('name'),\n            'settings': optionSelected.data('settings'),\n        };\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_import', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_import_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_import_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_import_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Export settings\n    jQuery( document ).on('click', '#apbct_settings_templates_export_button', function() {\n        jQuery('#apbct-ajax-result').remove();\n        let optionSelected = jQuery('option:selected', jQuery('#apbct_settings_templates_export'));\n        let templateNameInput = jQuery('#apbct_settings_templates_export_name');\n        let data = {};\n        templateNameInput.css('border-color', 'inherit');\n        if ( typeof optionSelected.data('id') === 'undefined' ) {\n            console.log( 'Attribute \"data-id\" not set for the option.' );\n            return;\n        }\n        if ( optionSelected.data('id') === 'new_template' ) {\n            let templateName = templateNameInput.val();\n            if ( templateName === '' ) {\n                templateNameInput.css('border-color', 'red');\n                return;\n            }\n            data = {\n                'template_name': templateName,\n            };\n        } else {\n            data = {\n                'template_id': optionSelected.data('id'),\n            };\n        }\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_export', data: data},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_export_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_export_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_export_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Reset settings\n    jQuery( document ).on('click', '#apbct_settings_templates_reset_button', function() {\n        let button = this;\n        apbct_admin_sendAJAX(\n            {action: 'settings_templates_reset'},\n            {\n                timeout: 25000,\n                button: button,\n                spinner: jQuery('#apbct_settings_templates_reset_button .apbct_preloader_button' ),\n                notJson: true,\n                callback: function(result, data, params, obj) {\n                    if (result.success) {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'success\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                        jQuery('#apbct_settings_templates_reset_button .apbct_success').show(300);\n                        setTimeout(function() {\n                            jQuery('#apbct_settings_templates_reset_button .apbct_success').hide(300);\n                        }, 2000);\n                        document.addEventListener('cleantalkModalClosed', function( e ) {\n                            document.location.reload();\n                        });\n                        setTimeout(function() {\n                            cleantalkModal.close();\n                        }, 2000);\n                    } else {\n                        jQuery( '<p id=\\'apbct-ajax-result\\' class=\\'error\\'>' + result.data + '</p>' )\n                            .insertAfter( jQuery(button) );\n                    }\n                },\n            },\n        );\n    });\n\n    // Sync button\n    jQuery('#apbct_button__sync').on('click', function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_sync'},\n            {\n                timeout: 25000,\n                button: document.getElementById('apbct_button__sync' ),\n                spinner: jQuery('#apbct_button__sync .apbct_preloader_button' ),\n                callback: function(result, data, params, obj) {\n                    jQuery('#apbct_button__sync .apbct_success').show(300);\n                    setTimeout(function() {\n                        jQuery('#apbct_button__sync .apbct_success').hide(300);\n                    }, 2000);\n                    if (result.reload) {\n                        if ( ctSettingsPage.key_changed ) {\n                            jQuery('.key_changed_sync').hide(300);\n                            jQuery('.key_changed_success').show(300);\n                            setTimeout(function() {\n                                document.location.reload();\n                            }, 3000);\n                        } else {\n                            document.location.reload();\n                        }\n                    }\n                },\n            },\n        );\n    });\n\n    if ( ctSettingsPage.key_changed ) {\n        jQuery('#apbct_button__sync').click();\n    }\n\n    jQuery(document).on('click', '.apbct_settings-long_description---show', function() {\n        self = jQuery(this);\n        apbctSettingsShowDescription(self, self.attr('setting'));\n    });\n\n    if (jQuery('#cleantalk_notice_renew').length || jQuery('#cleantalk_notice_trial').length) {\n        apbctBannerCheck();\n    }\n\n    jQuery(document).on('change', '#apbct_settings_templates_export', function() {\n        let optionSelected = jQuery('option:selected', this);\n        if ( optionSelected.data('id') === 'new_template' ) {\n            jQuery(this).parent().parent().find('#apbct_settings_templates_export_name').show();\n        } else {\n            jQuery(this).parent().parent().find('#apbct_settings_templates_export_name').hide();\n        }\n    });\n\n    apbctSaveButtonPosition();\n    let debounceTimer;\n    window.addEventListener('scroll', function() {\n        clearTimeout(debounceTimer);\n        debounceTimer = setTimeout(function() {\n            apbctSaveButtonPosition();\n        }, 50);\n    });\n    jQuery('#ct_adv_showhide a').on('click', apbctSaveButtonPosition);\n\n\n    /**\n     * Change cleantalk account email\n     */\n    jQuery('#apbct-change-account-email').on('click', function(e) {\n        e.preventDefault();\n\n        let $this = jQuery(this);\n        let accountEmailField = jQuery('#apbct-account-email');\n        let accountEmail = accountEmailField.text();\n\n        $this.toggleClass('active');\n\n        if ($this.hasClass('active')) {\n            $this.text($this.data('save-text'));\n            accountEmailField.attr('contenteditable', 'true');\n            accountEmailField.on('keydown', function(e) {\n                if (e.code === 'Enter') {\n                    e.preventDefault();\n                }\n            });\n            accountEmailField.on('input', function(e) {\n                if (e.inputType === 'insertParagraph') {\n                    e.preventDefault();\n                }\n            });\n        } else {\n            apbct_admin_sendAJAX(\n                {\n                    action: 'apbct_update_account_email',\n                    accountEmail: accountEmail,\n                },\n                {\n                    timeout: 5000,\n                    callback: function(result, data, params, obj) {\n                        if (result.success !== undefined && result.success === 'ok') {\n                            if (result.manuallyLink !== undefined) {\n                                jQuery('#apbct-key-manually-link').attr('href', result.manuallyLink);\n                            }\n                        }\n\n                        if (result.error !== undefined) {\n                            jQuery('#apbct-account-email').css('border-color', 'red');\n                        }\n                    },\n                },\n            );\n\n            accountEmailField.attr('contenteditable', 'false');\n            $this.text($this.data('default-text'));\n        }\n    });\n\n    /**\n     * Validate apkikey and hide get auto btn\n     */\n    jQuery('#apbct_setting_apikey').on('input', function() {\n        let enteredValue = jQuery(this).val();\n        jQuery('button.cleantalk_link[value=\"save_changes\"]').off('click');\n        if (enteredValue !== '' && enteredValue.match(/^[a-z\\d]{3,30}\\s*$/) === null) {\n            jQuery('#apbct_button__get_key_auto__wrapper').show();\n            jQuery('button.cleantalk_link[value=\"save_changes\"]').on('click',\n                function(e) {\n                    e.preventDefault();\n                    if (!jQuery('#apbct_bad_key_notice').length) {\n                        jQuery( '<div class=\\'apbct_notice_inner error\\'><h4 id=\\'apbct_bad_key_notice\\'>' +\n                            'Please, insert a correct access key before saving changes!' +\n                            '</h4></div>' ).insertAfter( jQuery('#apbct_setting_apikey') );\n                    }\n                    apbctHighlightElement('apbct_setting_apikey', 3);\n                },\n            );\n            return;\n        }\n    });\n\n    if ( jQuery('#apbct_setting_apikey').val() && ctSettingsPage.key_is_ok) {\n        jQuery('#apbct_button__get_key_auto__wrapper').hide();\n    }\n\n    /**\n     * Handle synchronization errors when key is no ok to force user check the key and restart the sync\n     */\n    if ( !ctSettingsPage.key_is_ok ) {\n        jQuery('button.cleantalk_link[value=\"save_changes\"]').on('click',\n            function(e) {\n                e.preventDefault();\n                if (!jQuery('#sync_required_notice').length) {\n                    jQuery( '<div class=\\'apbct_notice_inner error\\'><h4 id=\\'sync_required_notice\\'>' +\n                        'Synchronization process failed. Please, check the acces key and restart the synch.' +\n                        '<h4></div>' ).insertAfter( jQuery('#apbct_button__sync') );\n                }\n                apbctHighlightElement('apbct_setting_apikey', 3);\n                apbctHighlightElement('apbct_button__sync', 3);\n                jQuery('#apbct_button__get_key_auto__wrapper').show();\n            },\n        );\n    }\n\n    /**\n     * Open WP gallery for adding custom logo\n     */\n    jQuery('#apbct-custom-logo-open-gallery').click(function(e) {\n        e.preventDefault();\n\n        const button = jQuery(this);\n\n        const customUploader = wp.media({\n            library: {\n                type: 'image',\n            },\n            multiple: false,\n        });\n\n        customUploader.on('select', function() {\n            const image = customUploader.state().get('selection').first().toJSON();\n\n            button.parent().prev().attr( 'src', image.url );\n            jQuery('#cleantalk_custom_logo').val( image.id );\n        });\n\n        customUploader.open();\n    });\n\n    /**\n     * Remove selected logo\n     */\n    jQuery('#apbct-custom-logo-remove-image').click(function(e) {\n        e.preventDefault();\n\n        if ( true === confirm( 'Sure?' ) ) {\n            const src = jQuery(this).parent().prev().data('src');\n            jQuery(this).parent().prev().attr('src', src);\n            jQuery(this).prev().prev().val('');\n        }\n    });\n\n    jQuery('button[id*=\"apbct-action-adjust-change-\"]').click(function(e) {\n        e.preventDefault();\n\n        let data = {};\n        data.action = 'apbct_action_adjust_change';\n        data.adjust = jQuery(this).data('adjust');\n\n        let params = {};\n        params.button = document.getElementById('apbct-action-adjust-change-' + data.adjust);\n        params.notJson = true;\n\n        params.callback = function() {\n            document.location.reload();\n        };\n\n        apbct_admin_sendAJAX(data, params);\n    });\n\n    jQuery('button[id*=\"apbct-action-adjust-reverse-\"]').click(function(e) {\n        e.preventDefault();\n\n        let data = {};\n        data.action = 'apbct_action_adjust_reverse';\n        data.adjust = jQuery(this).data('adjust');\n\n        let params = {};\n        params.button = document.getElementById('apbct-action-adjust-reverse-' + data.adjust);\n        params.notJson = true;\n\n        params.callback = function() {\n            document.location.reload();\n        };\n\n        apbct_admin_sendAJAX(data, params);\n    });\n\n    document.querySelector('.apbct_hidden_section_nav_mob_btn').addEventListener('click', () => {\n        document.querySelector('#apbct_hidden_section_nav ul').style.display = 'block';\n        document.querySelector('.apbct_hidden_section_nav_mob_btn').style.display = 'none';\n    });\n\n    document.querySelector('.apbct_hidden_section_nav_mob_btn-close').addEventListener('click', () => {\n        document.querySelector('#apbct_hidden_section_nav ul').style.display = 'none';\n        document.querySelector('.apbct_hidden_section_nav_mob_btn').style.display = 'block';\n    });\n\n    // Hide/show EmailEncoder replacing text textarea\n    apbctManageEmailEncoderCustomTextField();\n});\n\n/**\n * Hide/show EmailEncoder replacing text textarea\n */\nfunction apbctManageEmailEncoderCustomTextField() {\n    const replacingText = document\n        .querySelector('#apbct_setting_data__email_decoder_obfuscation_custom_text');\n    let replacingTextWrapperSub;\n    if (replacingText !== null) {\n        replacingTextWrapperSub = typeof replacingText.parentElement !== 'undefined' ?\n            replacingText.parentElement :\n            null;\n    }\n    document.querySelectorAll('.apbct_setting---data__email_decoder_obfuscation_mode').forEach((elem) => {\n        // visibility set on saved settings\n        if (replacingTextWrapperSub && elem.checked && elem.value !== 'replace') {\n            replacingTextWrapperSub.classList.add('hidden');\n        }\n        // visibility set on change\n        elem.addEventListener('click', (event) => {\n            if (typeof replacingTextWrapperSub !== 'undefined') {\n                if (event.target.value === 'replace') {\n                    replacingTextWrapperSub.classList.remove('hidden');\n                } else {\n                    replacingTextWrapperSub.classList.add('hidden');\n                }\n            }\n        });\n    });\n}\n\n/**\n * Checking current account status for renew notice\n */\nfunction apbctBannerCheck() {\n    let bannerChecker = setInterval( function() {\n        apbct_admin_sendAJAX(\n            {action: 'apbct_settings__check_renew_banner'},\n            {\n                callback: function(result, data, params, obj) {\n                    if (result.close_renew_banner) {\n                        if (jQuery('#cleantalk_notice_renew').length) {\n                            jQuery('#cleantalk_notice_renew').hide('slow');\n                        }\n                        if (jQuery('#cleantalk_notice_trial').length) {\n                            jQuery('#cleantalk_notice_trial').hide('slow');\n                        }\n                        clearInterval(bannerChecker);\n                    }\n                },\n            },\n        );\n    }, 900000);\n}\n\n/**\n * Select elems like #{selector} or .{selector}\n * Selector passed in string separated by ,\n *\n * @param {string|array} elems\n * @return {*}\n */\nfunction apbctGetElems(elems) {\n    elems = elems.split(',');\n    for ( let i=0, len = elems.length, tmp; i < len; i++) {\n        tmp = jQuery('#'+elems[i]);\n        elems[i] = tmp.length === 0 ? jQuery('.'+elems[i]) : tmp;\n    }\n    return elems;\n}\n\n/**\n * Select elems like #{selector} or .{selector}\n * Selector could be passed in a string ( separated by comma ) or in array ( [ elem1, elem2, ... ] )\n *\n * @param {string|array} elems\n * @return {array}\n */\nfunction apbctGetElemsNative(elems) {\n    // Make array from a string\n    if (typeof elems === 'string') {\n        elems = elems.split(',');\n    }\n\n    let out = [];\n\n    elems.forEach(function(elem, i, arr) {\n        // try to get elements with such IDs\n        let tmp = document.getElementById(elem);\n        if (tmp !== null) {\n            out.push( tmp[key] );\n            return;\n        }\n\n        // try to get elements with such class name\n        // write each elem from collection to new element of output array\n        tmp = document.getElementsByClassName(elem);\n        if (tmp !== null && tmp.length !==0 ) {\n            for (key in tmp) {\n                if ( +key >= 0 ) {\n                    out.push( tmp[key] );\n                }\n            }\n        }\n    });\n\n    return out;\n}\n\n/**\n * @param {string|array} elems\n */\nfunction apbctShowHideElem(elems) {\n    elems = apbctGetElems(elems);\n    for ( let i=0, len = elems.length; i < len; i++) {\n        elems[i].each(function(i, elem) {\n            elem = jQuery(elem);\n            let label = elem.next('label') || elem.prev('label') || null;\n            if (elem.is(':visible')) {\n                elem.hide();\n                if (label) label.hide();\n            } else {\n                elem.show();\n                if (label) label.show();\n            }\n        });\n    }\n}\n\n/**\n * @param {string|array} element\n */\nfunction apbctExceptedShowHide(element) { // eslint-disable-line no-unused-vars\n    let toHide = [\n        'apbct_settings__dwpms_settings',\n        'apbct_settings__advanced_settings',\n        'trusted_and_affiliate__special_span',\n    ];\n    let index = toHide.indexOf(element);\n    if (index !== -1) {\n        toHide.splice(index, 1);\n    }\n    apbctShowHideElem(element);\n    toHide.forEach((toHideElem) => {\n        if (document.getElementById(toHideElem) && document.getElementById(toHideElem).style.display !== 'none') {\n            apbctShowHideElem(toHideElem);\n        }\n    });\n}\n\n/**\n * @param {mixed} event\n * @param {string} id\n */\nfunction apbctShowRequiredGroups(event, id) { // eslint-disable-line no-unused-vars\n    let required = document.getElementById('apbct_settings__dwpms_settings');\n    if (required && required.style.display === 'none') {\n        let originEvent = event;\n        event.preventDefault();\n        apbctShowHideElem('apbct_settings__dwpms_settings');\n        document.getElementById(id).dispatchEvent(new originEvent.constructor(originEvent.type, originEvent));\n    }\n}\n\n/**\n * Settings dependences. Switch|toggle depended elements state (disabled|enabled)\n * Recieve list of selectors ( without class mark (.) or id mark (#) )\n *\n * @param {string|array} ids\n * @param {int} enable\n */\nfunction apbctSettingsDependencies(ids, enable) { // eslint-disable-line no-unused-vars\n    enable = ! isNaN(enable) ? enable : null;\n\n    // Get elements\n    let elems = apbctGetElemsNative( ids );\n\n    elems.forEach(function(elem, i, arr) {\n        let doDisable = function() {\n            elem.setAttribute('disabled', 'disabled');\n        };\n        let doEnable = function() {\n            elem.removeAttribute('disabled');\n        };\n\n        // Set defined state\n        if (enable === null) {\n            enable = elem.getAttribute('disabled') === null ? 0 : 1;\n        }\n\n        enable === 1 ? doEnable() : doDisable();\n\n        if ( elem.getAttribute('apbct_children') !== null) {\n            let state = apbctSettingsDependenciesGetState( elem ) && enable;\n            if ( state !== null ) {\n                apbctSettingsDependencies( elem.getAttribute('apbct_children'), state );\n            }\n        }\n    });\n}\n\n/**\n * @param {HTMLElement} elem\n * @return {int|null}\n */\nfunction apbctSettingsDependenciesGetState(elem) {\n    let state;\n\n    switch ( elem.getAttribute( 'type' ) ) {\n    case 'checkbox':\n        state = +elem.checked;\n        break;\n    case 'radio':\n        state = +(+elem.getAttribute('value') === 1);\n        break;\n    default:\n        state = null;\n    }\n\n    return state;\n}\n\n/**\n * @param {HTMLElement} label\n * @param {string} settingId\n */\nfunction apbctSettingsShowDescription(label, settingId) {\n    let removeDescFunc = function(e) {\n        const callerIsPopup = jQuery(e.target).parent('.apbct_long_desc').length != 0;\n        const callerIsHideCross = jQuery(e.target).hasClass('apbct_long_desc__cancel');\n        const descIsShown = jQuery('.apbct_long_desc__title').length > 0;\n        if (descIsShown && !callerIsPopup || callerIsHideCross) {\n            jQuery('.apbct_long_desc').remove();\n            jQuery(document).off('click', removeDescFunc);\n        }\n    };\n\n    label.after('<div id=\\'apbct_long_desc__'+settingId+'\\' class=\\'apbct_long_desc\\'></div>');\n    let obj = jQuery('#apbct_long_desc__'+settingId);\n    obj.append('<i class= \\'apbct-icon-spin1 animate-spin\\'></i>')\n        .append('<div class=\\'apbct_long_desc__angle\\'></div>')\n        .css({\n            top: label.position().top - 5,\n            left: label.position().left + 25,\n        });\n\n\n    apbct_admin_sendAJAX(\n        {action: 'apbct_settings__get__long_description', setting_id: settingId},\n        {\n            spinner: obj.children('img'),\n            callback: function(result, data, params, obj) {\n                obj.empty()\n                    .append('<div class=\\'apbct_long_desc__angle\\'></div>')\n                    .append('<i class=\\'apbct_long_desc__cancel apbct-icon-cancel\\'></i>')\n                    .append('<h3 class=\\'apbct_long_desc__title\\'>'+result.title+'</h3>')\n                    .append('<p>'+result.desc+'</p>');\n\n                jQuery(document).on('click', removeDescFunc);\n            },\n        },\n        obj,\n    );\n}\n\n/**\n * save button, navigation menu, navigation button position\n */\nfunction apbctSaveButtonPosition() {\n    if (\n        document.getElementById('apbct_settings__before_advanced_settings') === null ||\n        document.getElementById('apbct_settings__after_advanced_settings') === null ||\n        document.getElementById('apbct_settings__button_section') === null ||\n        document.getElementById('apbct_settings__advanced_settings') === null ||\n        document.getElementById('apbct_hidden_section_nav') === null\n    ) {\n        return;\n    }\n    let docInnerHeight = window.innerHeight;\n    let advSettingsBlock = document.getElementById('apbct_settings__advanced_settings');\n    let advSettingsOffset = advSettingsBlock.getBoundingClientRect().top;\n    let buttonBlock = document.getElementById('apbct_settings__button_section');\n    let buttonHeight = buttonBlock.getBoundingClientRect().height;\n    let navBlock = document.getElementById('apbct_hidden_section_nav');\n    let navBlockOffset = navBlock.getBoundingClientRect().top;\n    let navBlockHeight = navBlock.getBoundingClientRect().height;\n\n    const mainSaveButton = document.getElementById('apbct_settings__main_save_button');\n    const regularSaveButton = document.querySelector('button.cleantalk_link[value=\"save_changes\"]');\n    const scrollPosition = window.scrollY;\n    const documentHeight = document.documentElement.scrollHeight;\n    const windowHeight = window.innerHeight;\n    const scrollThreshold = documentHeight - windowHeight - 600;\n    const bufferZone = 10;\n\n    if (scrollPosition >= scrollThreshold - bufferZone) {\n        if (mainSaveButton) mainSaveButton.style.display = 'block';\n        if (regularSaveButton) regularSaveButton.style.display = 'none';\n    } else if (scrollPosition <= scrollThreshold - bufferZone * 2) {\n        if (getComputedStyle(advSettingsBlock).display === 'none') {\n            if (mainSaveButton) mainSaveButton.style.display = 'block';\n            if (regularSaveButton) regularSaveButton.style.display = 'none';\n        } else {\n            if (mainSaveButton) mainSaveButton.style.display = 'none';\n            if (regularSaveButton) regularSaveButton.style.display = 'block';\n        }\n    }\n\n    if (getComputedStyle(advSettingsBlock).display !== 'none') {\n        if (docInnerHeight < navBlockOffset + navBlockHeight + buttonHeight) {\n            buttonBlock.style.bottom = '';\n            buttonBlock.style.top = navBlockOffset + navBlockHeight + 20 + 'px';\n        } else {\n            buttonBlock.style.bottom = 0;\n            buttonBlock.style.top = '';\n        }\n    }\n\n    if (window.innerWidth <= 768 && advSettingsOffset < 0) {\n        document.querySelector('#apbct_hidden_section_nav').style.display = 'grid';\n        document.querySelector('#apbct_hidden_section_nav').style.top = docInnerHeight + 'px';\n    } else if (window.innerWidth <= 768) {\n        document.querySelector('#apbct_hidden_section_nav').style.display = 'none';\n    }\n\n    if (advSettingsOffset <= 0) {\n        navBlock.style.top = -advSettingsOffset + 30 + 'px';\n    } else {\n        navBlock.style.top = 0;\n    }\n}\n\n/**\n * Hightlights element\n *\n * @param {string} id\n * @param {int} times\n */\nfunction apbctHighlightElement(id, times) {\n    times = times-1 || 0;\n    let keyField = jQuery('#'+id);\n    jQuery('html, body').animate({scrollTop: keyField.offset().top - 100}, 'slow');\n    keyField.addClass('apbct_highlighted');\n    keyField.animate({opacity: 0}, 400, 'linear', function() {\n        keyField.animate({opacity: 1}, 400, 'linear', function() {\n            if (times>0) {\n                apbctHighlightElement(id, times);\n            } else {\n                keyField.removeClass('apbct_highlighted');\n            }\n        });\n    });\n}\n"],"names":["apbctManageEmailEncoderCustomTextField","replacingText","document","querySelector","let","replacingTextWrapperSub","parentElement","querySelectorAll","forEach","elem","checked","value","classList","add","addEventListener","event","target","remove","apbctBannerCheck","bannerChecker","setInterval","apbct_admin_sendAJAX","action","callback","result","data","params","obj","close_renew_banner","jQuery","length","hide","clearInterval","apbctGetElems","elems","i","len","split","tmp","apbctGetElemsNative","out","arr","getElementById","push","key","getElementsByClassName","apbctShowHideElem","each","label","next","prev","is","show","apbctExceptedShowHide","element","toHide","index","indexOf","splice","toHideElem","style","display","apbctShowRequiredGroups","id","required","originEvent","preventDefault","dispatchEvent","constructor","type","apbctSettingsDependencies","ids","enable","isNaN","state","getAttribute","removeAttribute","setAttribute","apbctSettingsDependenciesGetState","apbctSettingsShowDescription","settingId","removeDescFunc","e","callerIsPopup","parent","callerIsHideCross","hasClass","off","after","append","css","top","position","left","setting_id","spinner","children","empty","title","desc","on","apbctSaveButtonPosition","docInnerHeight","advSettingsBlock","advSettingsOffset","buttonBlock","buttonHeight","navBlock","navBlockOffset","navBlockHeight","mainSaveButton","regularSaveButton","scrollPosition","scrollThreshold","window","innerHeight","getBoundingClientRect","height","scrollY","documentElement","scrollHeight","bufferZone","getComputedStyle","bottom","innerWidth","apbctHighlightElement","times","keyField","animate","scrollTop","offset","addClass","opacity","removeClass","ready","currentTarget","parseInt","direction","val","attr","this","fadeOut","timezone","Date","getTimezoneOffset","ct_admin_timezone","timeout","button","setTimeout","reload","location","getTemplates","cleantalkModal","loaded","open","optionSelected","console","log","template_id","template_name","settings","notJson","success","insertAfter","close","templateNameInput","templateName","ctSettingsPage","key_changed","click","self","find","debounceTimer","clearTimeout","$this","accountEmailField","accountEmail","text","toggleClass","code","inputType","undefined","manuallyLink","error","enteredValue","match","key_is_ok","customUploader","wp","media","library","multiple","image","get","first","toJSON","url","confirm","src","adjust"],"mappings":"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"}