{"version":3,"file":"apbct-public-bundle_full-protection.min.js","sources":["apbct-public-bundle_full-protection.js"],"sourcesContent":["/**\n * Handle external forms\n */\nfunction ctProtectExternal() {\n    for (let i = 0; i < document.forms.length; i++) {\n        if (document.forms[i].cleantalk_hidden_action === undefined &&\n            document.forms[i].cleantalk_hidden_method === undefined) {\n            // current form\n            const currentForm = document.forms[i];\n\n            // skip excluded forms\n            if ( formIsExclusion(currentForm)) {\n                continue;\n            }\n\n            // Ajax checking for the integrated forms - will be changed the whole form object to make protection\n            if ( isIntegratedForm(currentForm) ) {\n                apbctProcessExternalForm(currentForm, i, document);\n\n            // Ajax checking for the integrated forms - will be changed only submit button to make protection\n            } else if (\n                // MooForm 3rd party service\n                currentForm.dataset.mailingListId !== undefined ||\n                (typeof(currentForm.action) == 'string' &&\n                (currentForm.action.indexOf('webto.salesforce.com') !== -1)) ||\n                (typeof(currentForm.action) == 'string' &&\n                currentForm.querySelector('[href*=\"activecampaign\"]'))\n            ) {\n                apbctProcessExternalFormByFakeButton(currentForm, i, document);\n            // Common flow - modify form's action\n            } else if (\n                typeof(currentForm.action) == 'string' &&\n                ( currentForm.action.indexOf('http://') !== -1 ||\n                currentForm.action.indexOf('https://') !== -1 )\n            ) {\n                let tmp = currentForm.action.split('//');\n                tmp = tmp[1].split('/');\n                const host = tmp[0].toLowerCase();\n\n                if (host !== location.hostname.toLowerCase()) {\n                    const ctAction = document.createElement('input');\n                    ctAction.name = 'cleantalk_hidden_action';\n                    ctAction.value = currentForm.action;\n                    ctAction.type = 'hidden';\n                    currentForm.appendChild(ctAction);\n\n                    const ctMethod = document.createElement('input');\n                    ctMethod.name = 'cleantalk_hidden_method';\n                    ctMethod.value = currentForm.method;\n                    ctMethod.type = 'hidden';\n\n                    currentForm.method = 'POST';\n\n                    currentForm.appendChild(ctMethod);\n\n                    currentForm.action = document.location;\n                }\n            }\n        }\n    }\n    // Trying to process external form into an iframe\n    apbctProcessIframes();\n    // if form is still not processed by fields listening, do it here\n    ctStartFieldsListening();\n}\n\n/**\n * Exclusion forms\n * @param {HTMLElement} currentForm\n * @return {boolean}\n */\nfunction formIsExclusion(currentForm) {\n    const exclusionsById = [\n        'give-form', // give form exclusion because of direct integration\n        'frmCalc', // nobletitle-calc\n        'ihf-contact-request-form',\n        'wpforms', // integration with wpforms\n    ];\n\n    const exclusionsByRole = [\n        'search', // search forms\n    ];\n\n    const exclusionsByClass = [\n        'search-form', // search forms\n        'hs-form', // integrated hubspot plugin through dynamicRenderedForms logic\n        'ihc-form-create-edit', // integrated Ultimate Membership Pro plugin through dynamicRenderedForms logic\n        'nf-form-content', // integration with Ninja Forms for js events\n        'elementor-form', // integration with elementor-form\n        'wpforms', // integration with wpforms\n        'et_pb_searchform', // integration with elementor-search-form\n    ];\n\n    const exclusionsByAction = [\n        'paypal.com/cgi-bin/webscr', // search forms\n    ];\n\n    let result = false;\n\n    try {\n        // mewto forms exclusion\n        if (currentForm.parentElement &&\n            currentForm.parentElement.classList.length > 0 &&\n            currentForm.parentElement.classList[0].indexOf('mewtwo') !== -1) {\n            result = true;\n        }\n\n        if (currentForm.getAttribute('action') !== null) {\n            exclusionsByAction.forEach(function(exclusionAction) {\n                if (currentForm.getAttribute('action').indexOf(exclusionAction) !== -1) {\n                    result = true;\n                }\n            });\n        }\n\n        exclusionsById.forEach(function(exclusionId) {\n            const formId = currentForm.getAttribute('id');\n            if ( formId !== null && typeof (formId) !== 'undefined' && formId.indexOf(exclusionId) !== -1 ) {\n                result = true;\n            }\n        });\n\n        exclusionsByClass.forEach(function(exclusionClass) {\n            let foundClass = '';\n            if (currentForm.getAttribute('class')) {\n                foundClass = currentForm.getAttribute('class');\n            } else {\n                foundClass = apbctGetFormClass(currentForm, exclusionClass);\n            }\n            const formClass = foundClass;\n            if ( formClass !== null && typeof formClass !== 'undefined' && formClass.indexOf(exclusionClass) !== -1 ) {\n                result = true;\n            }\n        });\n\n        exclusionsByRole.forEach(function(exclusionRole) {\n            const formRole = currentForm.getAttribute('id');\n            if ( formRole !== null && typeof formRole !== 'undefined'&& formRole.indexOf(exclusionRole) !== -1 ) {\n                result = true;\n            }\n        });\n    } catch (e) {\n        console.table('APBCT ERROR: formIsExclusion() - ', e);\n    }\n\n    return result;\n}\n\n/**\n * Gets the form class if it is not in <form>\n * @param {HTMLElement} currentForm\n * @param {string} exclusionClass\n * @return {string}\n */\nfunction apbctGetFormClass(currentForm, exclusionClass) {\n    if (typeof(currentForm) == 'object' && currentForm.querySelector('.' + exclusionClass)) {\n        return exclusionClass;\n    }\n}\n\n/**\n * Handle external forms in iframes\n */\nfunction apbctProcessIframes() {\n    const frames = document.getElementsByTagName('iframe');\n\n    if ( frames.length > 0 ) {\n        for ( let j = 0; j < frames.length; j++ ) {\n            if ( frames[j].contentDocument == null ) {\n                continue;\n            }\n\n            const iframeForms = frames[j].contentDocument.forms;\n            if ( iframeForms.length === 0 ) {\n                continue;\n            }\n\n            for ( let y = 0; y < iframeForms.length; y++ ) {\n                const currentForm = iframeForms[y];\n                if ( formIsExclusion(currentForm)) {\n                    continue;\n                }\n                apbctProcessExternalForm(currentForm, y, frames[j].contentDocument);\n            }\n        }\n    }\n}\n\n/**\n * Process external forms\n * @param {HTMLElement} currentForm\n * @param {int} iterator\n * @param {HTMLElement} documentObject\n */\nfunction apbctProcessExternalForm(currentForm, iterator, documentObject) {\n    const cleantalkPlaceholder = document.createElement('i');\n    cleantalkPlaceholder.className = 'cleantalk_placeholder';\n    cleantalkPlaceholder.style = 'display: none';\n\n    currentForm.parentElement.insertBefore(cleantalkPlaceholder, currentForm);\n\n    // Deleting form to prevent submit event\n    const prev = currentForm.previousSibling;\n    const formHtml = currentForm.outerHTML;\n    const formOriginal = currentForm;\n\n    // Remove the original form\n    currentForm.parentElement.removeChild(currentForm);\n\n    // Insert a clone\n    const placeholder = document.createElement('div');\n    placeholder.innerHTML = formHtml;\n    prev.after(placeholder.firstElementChild);\n\n    const forceAction = document.createElement('input');\n    forceAction.name = 'action';\n    forceAction.value = 'cleantalk_force_ajax_check';\n    forceAction.type = 'hidden';\n\n    const reUseCurrentForm = documentObject.forms[iterator];\n\n    reUseCurrentForm.appendChild(forceAction);\n    reUseCurrentForm.apbctPrev = prev;\n    reUseCurrentForm.apbctFormOriginal = formOriginal;\n\n    // mailerlite integration - disable click on submit button\n    let mailerliteDetectedClass = false;\n    if (reUseCurrentForm.classList !== undefined) {\n        // list there all the mailerlite classes\n        const mailerliteClasses = ['newsletterform', 'ml-block-form'];\n        mailerliteClasses.forEach(function(mailerliteClass) {\n            if (reUseCurrentForm.classList.contains(mailerliteClass)) {\n                mailerliteDetectedClass = mailerliteClass;\n            }\n        });\n    }\n\n    let mailerliteSubmitButton = null;\n    if ( mailerliteDetectedClass ) {\n        mailerliteSubmitButton = reUseCurrentForm.querySelector('button[type=\"submit\"]');\n        if ( mailerliteSubmitButton !== null && mailerliteSubmitButton !== undefined ) {\n            mailerliteSubmitButton.addEventListener('click', function(event) {\n                event.preventDefault();\n                sendAjaxCheckingFormData(reUseCurrentForm);\n            });\n        }\n        return;\n    }\n\n    documentObject.forms[iterator].onsubmit = function(event) {\n        event.preventDefault();\n        sendAjaxCheckingFormData(event.currentTarget);\n    };\n}\n\n/**\n * Process external forms via fake button replacing\n * @param {HTMLElement} currentForm\n * @param {int} iterator\n * @param {HTMLElement} documentObject\n */\nfunction apbctProcessExternalFormByFakeButton(currentForm, iterator, documentObject) {\n    const submitButtonOriginal = currentForm.querySelector('[type=\"submit\"]');\n    const onsubmitOriginal = currentForm.querySelector('[type=\"submit\"]').form.onsubmit;\n\n    if ( ! submitButtonOriginal ) {\n        return;\n    }\n\n    const parent = submitButtonOriginal.parentElement;\n    const submitButtonHtml = submitButtonOriginal.outerHTML;\n\n    // Remove the original submit button\n    submitButtonOriginal.remove();\n\n    // Insert a clone of the submit button\n    const placeholder = document.createElement('div');\n    placeholder.innerHTML = submitButtonHtml;\n    parent.appendChild(placeholder.firstElementChild);\n\n    const forceAction = document.createElement('input');\n    forceAction.name = 'action';\n    forceAction.value = 'cleantalk_force_ajax_check';\n    forceAction.type = 'hidden';\n\n    const reUseCurrentForm = documentObject.forms[iterator];\n\n    reUseCurrentForm.appendChild(forceAction);\n    reUseCurrentForm.apbctParent = parent;\n    reUseCurrentForm.submitButtonOriginal = submitButtonOriginal;\n    reUseCurrentForm.onsubmitOriginal = onsubmitOriginal;\n\n    documentObject.forms[iterator].onsubmit = function(event) {\n        event.preventDefault();\n        sendAjaxCheckingFormData(event.currentTarget);\n    };\n}\n\n/**\n * Process external forms\n * @param {HTMLElement} formSource\n * @param {HTMLElement} formTarget\n */\nfunction apbctReplaceInputsValuesFromOtherForm(formSource, formTarget) {\n    const inputsSource = formSource.querySelectorAll('button, input, textarea, select');\n    const inputsTarget = formTarget.querySelectorAll('button, input, textarea, select');\n\n    if (formSource.outerHTML.indexOf('action=\"https://www.kulahub.net') !== -1 ||\n        isFormHasDiviRedirect(formSource) ||\n        formSource.outerHTML.indexOf('class=\"et_pb_contact_form') !== -1\n    ) {\n        inputsSource.forEach((elemSource) => {\n            inputsTarget.forEach((elemTarget) => {\n                if (elemSource.name === elemTarget.name) {\n                    if (elemTarget.type === 'checkbox' || elemTarget.type === 'radio') {\n                        elemTarget.checked = apbctVal(elemSource);\n                    } else {\n                        elemTarget.value = apbctVal(elemSource);\n                    }\n                }\n            });\n        });\n\n        return;\n    }\n\n    inputsSource.forEach((elemSource) => {\n        inputsTarget.forEach((elemTarget) => {\n            if (elemSource.outerHTML === elemTarget.outerHTML) {\n                if (elemTarget.type === 'checkbox' || elemTarget.type === 'radio') {\n                    elemTarget.checked = apbctVal(elemSource);\n                } else {\n                    elemTarget.value = apbctVal(elemSource);\n                }\n            }\n        });\n    });\n}\n// clear protected iframes list\napbctLocalStorage.set('apbct_iframes_protected', []);\nwindow.onload = function() {\n    if ( ! +ctPublic.settings__forms__check_external ) {\n        return;\n    }\n\n    setTimeout(function() {\n        ctProtectExternal();\n        catchDynamicRenderedForm();\n        catchNextendSocialLoginForm();\n        ctProtectOutsideIframe();\n    }, 2000);\n\n    ctProtectKlaviyoForm();\n};\n\n/**\n * Protect klaviyo forms\n */\nfunction ctProtectKlaviyoForm() {\n    if (!document.querySelector('link[rel=\"dns-prefetch\"][href=\"//static.klaviyo.com\"]')) {\n        return;\n    }\n\n    let i = setInterval(() => {\n        const klaviyoForms = document.querySelectorAll('form.klaviyo-form');\n        if (klaviyoForms.length) {\n            clearInterval(i);\n            klaviyoForms.forEach((form, index) => {\n                apbctProcessExternalFormKlaviyo(form, index, document);\n            });\n        }\n    }, 500);\n}\n\n/**\n * Protect klaviyo forms\n * @param {HTMLElement} form\n * @param {int} iterator\n * @param {HTMLElement} documentObject\n */\nfunction apbctProcessExternalFormKlaviyo(form, iterator, documentObject) {\n    const btn = form.querySelector('button[type=\"button\"].needsclick');\n    if (!btn) {\n        return;\n    }\n    btn.disabled = true;\n\n    const forceAction = document.createElement('input');\n    forceAction.name = 'action';\n    forceAction.value = 'cleantalk_force_ajax_check';\n    forceAction.type = 'hidden';\n    form.appendChild(forceAction);\n\n    let cover = document.createElement('div');\n    cover.id = 'apbct-klaviyo-cover';\n    cover.style.width = '100%';\n    cover.style.height = '100%';\n    cover.style.background = 'black';\n    cover.style.opacity = 0;\n    cover.style.position = 'absolute';\n    cover.style.top = 0;\n    cover.style.cursor = 'pointer';\n    cover.onclick = function(e) {\n        sendAjaxCheckingFormData(form);\n    };\n    btn.parentNode.style.position = 'relative';\n    btn.parentNode.appendChild(cover);\n}\n\n/**\n * Protect forms placed in iframe with outside src\n */\nfunction ctProtectOutsideIframe() {\n    let iframes = document.querySelectorAll('iframe');\n    if (iframes.length > 0) {\n        iframes.forEach(function(iframe) {\n            if (iframe.src.indexOf('form.typeform.com') !== -1 ||\n                iframe.src.indexOf('forms.zohopublic.com') !== -1 ||\n                iframe.src.indexOf('link.surepathconnect.com') !== -1 ||\n                iframe.classList.contains('hs-form-iframe') ||\n                ( iframe.src.indexOf('facebook.com') !== -1 && iframe.src.indexOf('plugins/comments.php') !== -1)\n            ) {\n                // pass if is already protected\n                if (false !== apbctLocalStorage.get('apbct_iframes_protected') &&\n                    apbctLocalStorage.get('apbct_iframes_protected').length > 0 &&\n                    typeof iframe.id !== 'undefined' &&\n                    apbctLocalStorage.get('apbct_iframes_protected').indexOf[iframe.id] !== -1\n                ) {\n                    return;\n                }\n                ctProtectOutsideIframeHandler(iframe);\n            }\n        });\n    }\n}\n\nlet ctProtectOutsideIframeCheck;\n/**\n * Protect forms placed in iframe with outside src handler\n * @param {HTMLElement} iframe\n */\nfunction ctProtectOutsideIframeHandler(iframe) {\n    let cover = document.createElement('div');\n    cover.style.width = '100%';\n    cover.style.height = '100%';\n    cover.style.background = 'black';\n    cover.style.opacity = 0;\n    cover.style.position = 'absolute';\n    cover.style.top = 0;\n    cover.onclick = function(e) {\n        if (ctProtectOutsideIframeCheck === undefined) {\n            let currentDiv = e.currentTarget;\n            currentDiv.style.opacity = 0.5;\n            let preloader = document.createElement('div');\n            preloader.className = 'apbct-iframe-preloader';\n            currentDiv.appendChild(preloader);\n            let botDetectorToken = '';\n            if (document.querySelector('[name*=\"ct_bot_detector_event_token\"]')) {\n                botDetectorToken = document.querySelector('[name*=\"ct_bot_detector_event_token\"]').value;\n            }\n\n            let data = {\n                'action': 'cleantalk_outside_iframe_ajax_check',\n                'ct_no_cookie_hidden_field': getNoCookieData(),\n                'ct_bot_detector_event_token': botDetectorToken,\n            };\n\n            apbct_public_sendAJAX(\n                data,\n                {\n                    async: false,\n                    callback: function(result) {\n                        ctProtectOutsideIframeCheck = true;\n                        if (result.apbct.blocked === false) {\n                            document.querySelectorAll('div.apbct-iframe-preloader').forEach(function(el) {\n                                el.parentNode.remove();\n                            });\n                        } else {\n                            document.querySelectorAll('div.apbct-iframe-preloader').forEach((el) => {\n                                el.parentNode.style.color = 'white';\n                                el.parentNode.innerHTML += result.apbct.comment;\n                            });\n                            document.querySelectorAll('div.apbct-iframe-preloader').forEach((el) => {\n                                el.remove();\n                            });\n                        }\n                    },\n                },\n            );\n        }\n    };\n    iframe.parentNode.style.position = 'relative';\n    iframe.parentNode.appendChild(cover);\n    let iframes = apbctLocalStorage.get('apbct_iframes_protected');\n    if (false === iframes) {\n        iframes = [];\n    }\n    if (typeof iframe.id !== 'undefined') {\n        iframes.push(iframe.id);\n        apbctLocalStorage.set('apbct_iframes_protected', iframes);\n    }\n}\n\n/**\n * Catch NSL form integration\n */\nfunction catchNextendSocialLoginForm() {\n    let blockNSL = document.getElementById('nsl-custom-login-form-main');\n    if (blockNSL) {\n        blockBtnNextendSocialLogin(blockNSL);\n    }\n}\n\n/**\n * Blocking NSL plugin buttons\n * @param {HTMLElement} blockNSL\n */\nfunction blockBtnNextendSocialLogin(blockNSL) {\n    let parentBtnsNSL = blockNSL.querySelectorAll('.nsl-container-buttons a');\n    let childBtnsNSL = blockNSL.querySelectorAll('a[data-plugin=\"nsl\"] .nsl-button');\n    parentBtnsNSL.forEach((el) => {\n        el.setAttribute('data-oauth-login-blocked', 'true');\n        el.addEventListener('click', (event) => {\n            event.preventDefault();\n        });\n    });\n    childBtnsNSL.forEach((el) => {\n        el.addEventListener('click', (event) => {\n            event.preventDefault();\n            event.stopPropagation();\n            ctCheckAjax(el);\n        });\n    });\n}\n\n/**\n * Unlocking the button and clicking on it after an ajax response\n * @param {HTMLElement} childBtn\n */\nfunction allowAjaxNextendSocialLogin(childBtn) {\n    childBtn.parentElement.setAttribute('data-oauth-login-blocked', 'false');\n    childBtn.parentElement.click();\n}\n\n/**\n * Locking the button and entering a message after an ajax response\n * @param {HTMLElement} childBtn\n * @param {string} msg\n */\nfunction forbiddenAjaxNextendSocialLogin(childBtn, msg) {\n    let parentElement = childBtn.parentElement;\n    if (parentElement.getAttribute('data-oauth-login-blocked') == 'false') {\n        parentElement.setAttribute('data-oauth-login-blocked', 'true');\n    }\n    if (!document.querySelector('.ct-forbidden-msg')) {\n        let elemForMsg = document.createElement('div');\n        elemForMsg.className = 'ct-forbidden-msg';\n        elemForMsg.style.background = 'red';\n        elemForMsg.style.color = 'white';\n        elemForMsg.style.padding = '5px';\n        elemForMsg.innerHTML = msg;\n        parentElement.insertAdjacentElement('beforebegin', elemForMsg);\n    }\n}\n\n/**\n * User verification using user data and ajax\n * @param {HTMLElement} elem\n */\nfunction ctCheckAjax(elem) {\n    let data = {\n        'action': 'cleantalk_nsl_ajax_check',\n        'ct_no_cookie_hidden_field': document.getElementsByName('ct_no_cookie_hidden_field')[0].value,\n    };\n\n    apbct_public_sendAJAX(\n        data,\n        {\n            async: false,\n            callback: function(result) {\n                if (result.apbct.blocked === false) {\n                    allowAjaxNextendSocialLogin(elem);\n                } else {\n                    forbiddenAjaxNextendSocialLogin(elem, result.apbct.comment);\n                }\n            },\n        },\n    );\n}\n\n/**\n * Checking the form integration\n * @param {HTMLElement} formObj\n * @return {boolean}\n */\nfunction isIntegratedForm(formObj) {\n    const formAction = typeof(formObj.action) == 'string' ? formObj.action : '';\n    const formId = formObj.getAttribute('id') !== null ? formObj.getAttribute('id') : '';\n\n    if (\n        (\n            formAction.indexOf('app.convertkit.com') !== -1 || // ConvertKit form\n            formAction.indexOf('app.kit.com') !== -1 // ConvertKit new form\n        ) ||\n        ( formObj.firstChild.classList !== undefined &&\n        formObj.firstChild.classList.contains('cb-form-group') ) || // Convertbox form\n        formAction.indexOf('mailerlite.com') !== -1 || // Mailerlite integration\n        formAction.indexOf('colcolmail.co.uk') !== -1 || // colcolmail.co.uk integration\n        formAction.indexOf('paypal.com') !== -1 ||\n        formAction.indexOf('infusionsoft.com') !== -1 ||\n        formAction.indexOf('secure2.convio.net') !== -1 ||\n        formAction.indexOf('hookb.in') !== -1 ||\n        formAction.indexOf('external.url') !== -1 ||\n        formAction.indexOf('tp.media') !== -1 ||\n        formAction.indexOf('flodesk.com') !== -1 ||\n        formAction.indexOf('sendfox.com') !== -1 ||\n        formAction.indexOf('aweber.com') !== -1 ||\n        formAction.indexOf('secure.payu.com') !== -1 ||\n        formAction.indexOf('mautic') !== -1 || formId.indexOf('mauticform_') !== -1 ||\n        formId.indexOf('ihf-contact-request-form') !== -1 ||\n        formAction.indexOf('crm.zoho.com') !== -1 ||\n        formId.indexOf('delivra-external-form') !== -1 ||\n        // todo Return to Hubspot for elementor in the future, disabled of reason https://doboard.com/1/task/9227\n        // ( formObj.classList !== undefined &&\n        //     !formObj.classList.contains('woocommerce-checkout') &&\n        //     formObj.hasAttribute('data-hs-cf-bound')\n        // ) || // Hubspot integration in Elementor form// Hubspot integration in Elementor form\n        formAction.indexOf('eloqua.com') !== -1 || // Eloqua integration\n        formAction.indexOf('kulahub.net') !== -1 || // Kulahub integration\n        isFormHasDiviRedirect(formObj) || // Divi contact form\n        formAction.indexOf('eocampaign1.com') !== -1 || // EmailOctopus Campaign form\n        formAction.indexOf('wufoo.com') !== -1 || // Wufoo form\n        ( formObj.classList !== undefined &&\n            formObj.classList.contains('sp-element-container') ) // Sendpulse form\n    ) {\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * This function detect if the form has DIVI redirect. If so, the form will work as external.\n * @param {HTMLElement} formObj\n * @return {boolean}\n */\nfunction isFormHasDiviRedirect(formObj) {\n    let result = false;\n    const diviRedirectedSignSet = document.querySelector('div[id^=\"et_pb_contact_form\"]');\n    if (\n        typeof formObj === 'object' && formObj !== null &&\n        diviRedirectedSignSet !== null &&\n        diviRedirectedSignSet.hasAttribute('data-redirect_url') &&\n        diviRedirectedSignSet.getAttribute('data-redirect_url') !== '' &&\n        diviRedirectedSignSet.querySelector('form[class^=\"et_pb_contact_form\"]') !== null\n    ) {\n        result = formObj === diviRedirectedSignSet.querySelector('form[class^=\"et_pb_contact_form\"]');\n    }\n    return result;\n}\n\n/**\n * Sending Ajax for checking form data\n * @param {HTMLElement} form\n * @param {HTMLElement} prev\n * @param {HTMLElement} formOriginal\n */\nfunction sendAjaxCheckingFormData(form) {\n    // Get visible fields and set cookie\n    const visibleFields = {};\n    visibleFields[0] = apbct_collect_visible_fields(form);\n    apbct_visible_fields_set_cookie( visibleFields );\n\n    const data = {\n        'ct_bot_detector_event_token': apbctLocalStorage.get('bot_detector_event_token'),\n    };\n    let elems = form.elements;\n    elems = Array.prototype.slice.call(elems);\n\n    elems.forEach( function( elem, y ) {\n        if ( elem.name === '' ) {\n            data['input_' + y] = elem.value;\n        } else {\n            data[elem.name] = elem.value;\n        }\n    });\n\n    apbct_public_sendAJAX(\n        data,\n        {\n            async: false,\n            callback: function( result, data, params, obj ) {\n                if ( result.apbct === undefined || ! +result.apbct.blocked ) {\n                    // Klaviyo integration\n                    if (form.classList !== undefined && form.classList.contains('klaviyo-form')) {\n                        const cover = document.getElementById('apbct-klaviyo-cover');\n                        if (cover) {\n                            cover.remove();\n                        }\n                        const btn = form.querySelector('button[type=\"button\"].needsclick');\n                        if (btn) {\n                            btn.disabled = false;\n                            btn.click();\n                        }\n                        return;\n                    }\n\n                    // MooSend integration\n                    if ( form.dataset.mailingListId !== undefined ) {\n                        let submitButton = form.querySelector('[type=\"submit\"]');\n                        submitButton.remove();\n                        const parent = form.apbctParent;\n                        parent.appendChild(form.submitButtonOriginal);\n                        submitButton = form.querySelector('[type=\"submit\"]');\n                        submitButton.click();\n                        return;\n                    }\n\n                    // Salesforce integration\n                    if (form.hasAttribute('action') &&\n                        (form.getAttribute('action').indexOf('webto.salesforce.com') !== -1)\n                    ) {\n                        let submitButton = form.querySelector('[type=\"submit\"]');\n                        submitButton.remove();\n                        const parent = form.apbctParent;\n                        parent.appendChild(form.submitButtonOriginal);\n                        form.onsubmit = form.onsubmitOriginal;\n                        submitButton = form.querySelector('[type=\"submit\"]');\n                        submitButton.click();\n                        return;\n                    }\n\n                    // Active Campaign integration\n                    if (form.querySelector('[href*=\"activecampaign\"]')) {\n                        let submitButton = form.querySelector('[type=\"submit\"]');\n                        submitButton.remove();\n                        const parent = form.apbctParent;\n                        parent.appendChild(form.submitButtonOriginal);\n                        form.onsubmit = form.onsubmitOriginal;\n                        submitButton = form.querySelector('[type=\"submit\"]');\n                        submitButton.click();\n                        return;\n                    }\n\n                    const formNew = form;\n                    form.parentElement.removeChild(form);\n                    const prev = form.apbctPrev;\n                    const formOriginal = form.apbctFormOriginal;\n                    let mauticIntegration = false;\n\n                    apbctReplaceInputsValuesFromOtherForm(formNew, formOriginal);\n\n                    // mautic forms integration\n                    if (formOriginal.id.indexOf('mautic') !== -1) {\n                        mauticIntegration = true;\n                    }\n\n                    prev.after( formOriginal );\n\n                    // Clear visible_fields input\n                    for (const el of formOriginal.querySelectorAll('input[name=\"apbct_visible_fields\"]')) {\n                        el.remove();\n                    }\n\n                    for (const el of formOriginal.querySelectorAll('input[value=\"cleantalk_force_ajax_check\"]')) {\n                        el.remove();\n                    }\n\n                    // Common click event\n                    let submButton = formOriginal.querySelectorAll('button[type=submit]');\n                    if ( submButton.length !== 0 ) {\n                        submButton[0].click();\n                        if (mauticIntegration) {\n                            setTimeout(function() {\n                                ctProtectExternal();\n                            }, 1500);\n                        }\n                        return;\n                    }\n\n                    submButton = formOriginal.querySelectorAll('input[type=submit]');\n                    if ( submButton.length !== 0 ) {\n                        submButton[0].click();\n                        return;\n                    }\n\n                    // ConvertKit direct integration\n                    submButton = formOriginal.querySelectorAll('button[data-element=\"submit\"]');\n                    if ( submButton.length !== 0 ) {\n                        submButton[0].click();\n                        return;\n                    }\n\n                    // Paypal integration\n                    submButton = formOriginal.querySelectorAll('input[type=\"image\"][name=\"submit\"]');\n                    if ( submButton.length !== 0 ) {\n                        submButton[0].click();\n                    }\n                }\n                if (result.apbct !== undefined && +result.apbct.blocked) {\n                    ctParseBlockMessage(result);\n                }\n            },\n        });\n}\n\n/**\n * Handle dynamic rendered form\n */\nfunction catchDynamicRenderedForm() {\n    const forms = document.getElementsByTagName('form');\n\n    catchDynamicRenderedFormHandler(forms);\n\n    const frames = document.getElementsByTagName('iframe');\n    if ( frames.length > 0 ) {\n        for ( let j = 0; j < frames.length; j++ ) {\n            if ( frames[j].contentDocument == null ) {\n                continue;\n            }\n\n            const iframeForms = frames[j].contentDocument.forms;\n\n            if ( iframeForms.length === 0 ) {\n                return;\n            }\n\n            catchDynamicRenderedFormHandler(iframeForms, frames[j].contentDocument);\n        }\n    }\n}\n\n/**\n * Handles dynamic rendered forms by attaching an onsubmit event handler to them.\n *\n * @param {HTMLCollection} forms - A collection of form elements to be processed.\n * @param {Document} [documentObject=document] - The document object to use for querying elements.\n */\nfunction catchDynamicRenderedFormHandler(forms, documentObject = document) {\n    const neededFormIds = [];\n    for (const form of forms) {\n        const formIdAttr = form.getAttribute('id');\n        if (formIdAttr && formIdAttr.indexOf('hsForm') !== -1) {\n            neededFormIds.push(formIdAttr);\n        }\n        if (formIdAttr && formIdAttr.indexOf('createuser') !== -1 &&\n        (form.classList !== undefined && form.classList.contains('ihc-form-create-edit'))\n        ) {\n            neededFormIds.push(formIdAttr);\n        }\n    }\n\n    for (const formId of neededFormIds) {\n        const form = documentObject.getElementById(formId);\n        form.apbct_external_onsubmit_prev = form.onsubmit;\n        form.onsubmit = sendAjaxCheckingDynamicFormData;\n    }\n}\n\n/**\n * Sending Ajax for checking form data on dynamic rendered form\n * @param {HTMLElement} form\n */\nfunction sendAjaxCheckingDynamicFormData(form) {\n    form.preventDefault();\n    form.stopImmediatePropagation();\n    const formEvent = form;\n    form = form.target;\n\n    const forceAction = document.createElement('input');\n    forceAction.name = 'action';\n    forceAction.value = 'cleantalk_force_ajax_check';\n    forceAction.type = 'hidden';\n    form.appendChild(forceAction);\n\n    // Get visible fields and set cookie\n    const visibleFields = {};\n    visibleFields[0] = apbct_collect_visible_fields(form);\n    apbct_visible_fields_set_cookie(visibleFields);\n    form.append(ctNoCookieConstructHiddenField('hidden'));\n\n    const data = {};\n    let elems = form.elements;\n    elems = Array.prototype.slice.call(elems);\n\n    elems.forEach( function( elem, y ) {\n        if ( elem.name === '' ) {\n            data['input_' + y] = elem.value;\n        } else {\n            data[elem.name] = elem.value;\n        }\n    });\n\n    apbct_public_sendAJAX(\n        data,\n        {\n            async: false,\n            callback: function(result) {\n                if ( result.apbct === undefined || ! +result.apbct.blocked ) {\n                    form.onsubmit = null;\n\n                    // Clear service fields\n                    for (const el of form.querySelectorAll('input[name=\"apbct_visible_fields\"]')) {\n                        el.remove();\n                    }\n                    for (const el of form.querySelectorAll('input[value=\"cleantalk_force_ajax_check\"]')) {\n                        el.remove();\n                    }\n                    for (const el of form.querySelectorAll('input[name=\"ct_no_cookie_hidden_field\"]')) {\n                        el.remove();\n                    }\n\n                    // Call previous submit action\n                    if (form.apbct_external_onsubmit_prev instanceof Function) {\n                        let timerId = setTimeout(function() {\n                            form.apbct_external_onsubmit_prev.call(form, formEvent);\n                        }, 500);\n                        clearTimeout(timerId);\n                    }\n\n                    const submButton = form.querySelector('input[type=\"submit\"]');\n                    if (submButton) {\n                        submButton.click();\n                        return;\n                    }\n                }\n\n                if (result.apbct !== undefined && +result.apbct.blocked) {\n                    ctParseBlockMessage(result);\n                }\n            },\n        });\n}\n\n/**\n * Implement jQuery val() function\n * @param {HTMLElement} el\n * @return {HTMLElements}\n */\nfunction apbctVal(el) {\n    if (el.options && el.multiple) {\n        return el.options\n            .filter((option) => option.selected)\n            .map((option) => option.value);\n    } else if (el.type === 'checkbox' || el.type === 'radio') {\n        return el.checked ? el.checked : null;\n    } else {\n        return el.value;\n    }\n}\n\n/**\n * Check form as internal.\n * @param {int} currForm Current form.\n */\nfunction ctCheckInternal(currForm) {\n    //  Gathering data\n    const ctData = {};\n    const elems = currForm.elements;\n    let key;\n\n    for (key in elems) {\n        if (elems[key].type !== 'submit' &&\n            elems[key].value !== undefined &&\n            elems[key].value !== '') {\n            ctData[elems[key].name] = currForm.elements[key].value;\n        }\n    }\n    ctData.action = 'ct_check_internal';\n\n    //  AJAX Request\n    apbct_public_sendAJAX(\n        ctData,\n        {\n            url: ctPublicFunctions._ajax_url,\n            callback: function(data) {\n                if (data.success === true) {\n                    currForm.origSubmit();\n                } else {\n                    alert(data.data);\n                    return false;\n                }\n            },\n        },\n    );\n}\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    let ctCurrAction = '';\n    let ctCurrForm = '';\n\n    if ( ! +ctPublic.settings__forms__check_internal ) {\n        return;\n    }\n\n    setTimeout(() => {\n        for ( let i = 0; i < document.forms.length; i++ ) {\n            if ( typeof(document.forms[i].action) == 'string' ) {\n                ctCurrForm = document.forms[i];\n                ctCurrAction = ctCurrForm.action;\n                if (\n                    ctCurrAction.indexOf('https?://') !== null && // The protocol is obligatory\n                    ctCurrAction.match(ctPublic.blog_home + '.*?\\.php') !== null && // Main check\n                    ! ctCheckInternalIsExcludedForm(ctCurrAction) // Exclude WordPress native scripts from processing\n                ) {\n                    const formClone = ctCurrForm.cloneNode(true);\n                    ctCurrForm.parentNode.replaceChild(formClone, ctCurrForm);\n\n                    formClone.origSubmit = ctCurrForm.submit;\n                    formClone.submit = null;\n\n                    formClone.addEventListener('submit', function(event) {\n                        event.preventDefault();\n                        event.stopPropagation();\n                        event.stopImmediatePropagation();\n                        ctCheckInternal(event.target);\n                        return false;\n                    });\n                }\n            }\n        }\n    }, 500);\n});\n\n/**\n * Check by action to exclude the form checking\n * @param {string} action\n * @return {boolean}\n */\nfunction ctCheckInternalIsExcludedForm(action) {\n    // An array contains forms action need to be excluded.\n    const ctInternalScriptExclusions = [\n        'wp-login.php', // WordPress login page\n        'wp-comments-post.php', // WordPress Comments Form\n    ];\n\n    return ctInternalScriptExclusions.some((item) => {\n        return action.match(new RegExp(ctPublic.blog_home + '.*' + item)) !== null;\n    });\n}\n"],"names":["ctProtectExternal","let","i","document","forms","length","undefined","cleantalk_hidden_action","cleantalk_hidden_method","ctMethod","currentForm","formIsExclusion","isIntegratedForm","apbctProcessExternalForm","dataset","mailingListId","action","indexOf","querySelector","apbctProcessExternalFormByFakeButton","tmp","split","toLowerCase","location","hostname","ctAction","createElement","name","value","type","appendChild","method","apbctProcessIframes","ctStartFieldsListening","result","parentElement","classList","getAttribute","forEach","exclusionAction","exclusionId","formId","exclusionClass","foundClass","formClass","apbctGetFormClass","exclusionRole","formRole","e","console","table","frames","getElementsByTagName","j","contentDocument","iframeForms","y","iterator","documentObject","cleantalkPlaceholder","prev","className","style","insertBefore","previousSibling","formHtml","outerHTML","formOriginal","placeholder","removeChild","forceAction","innerHTML","after","firstElementChild","reUseCurrentForm","mailerliteDetectedClass","apbctPrev","apbctFormOriginal","mailerliteClass","contains","mailerliteSubmitButton","addEventListener","event","preventDefault","sendAjaxCheckingFormData","onsubmit","currentTarget","parent","submitButtonOriginal","onsubmitOriginal","form","submitButtonHtml","remove","apbctParent","apbctReplaceInputsValuesFromOtherForm","formSource","formTarget","inputsSource","querySelectorAll","inputsTarget","isFormHasDiviRedirect","elemSource","elemTarget","checked","apbctVal","ctProtectKlaviyoForm","setInterval","klaviyoForms","clearInterval","index","apbctProcessExternalFormKlaviyo","cover","btn","disabled","id","width","height","background","opacity","position","top","cursor","onclick","parentNode","ctProtectOutsideIframe","iframes","iframe","src","apbctLocalStorage","get","ctProtectOutsideIframeHandler","set","window","onload","ctPublic","settings__forms__check_external","setTimeout","catchDynamicRenderedForm","catchNextendSocialLoginForm","ctProtectOutsideIframeCheck","currentDiv","preloader","botDetectorToken","data","ct_no_cookie_hidden_field","getNoCookieData","ct_bot_detector_event_token","apbct_public_sendAJAX","async","callback","apbct","blocked","el","color","comment","push","blockNSL","getElementById","blockBtnNextendSocialLogin","parentBtnsNSL","childBtnsNSL","setAttribute","stopPropagation","ctCheckAjax","allowAjaxNextendSocialLogin","childBtn","click","forbiddenAjaxNextendSocialLogin","msg","elemForMsg","padding","insertAdjacentElement","elem","getElementsByName","formObj","formAction","firstChild","diviRedirectedSignSet","hasAttribute","visibleFields","apbct_collect_visible_fields","apbct_visible_fields_set_cookie","elems","elements","Array","prototype","slice","call","params","obj","submitButton","formNew","mauticIntegration","submButton","ctParseBlockMessage","catchDynamicRenderedFormHandler","neededFormIds","formIdAttr","apbct_external_onsubmit_prev","sendAjaxCheckingDynamicFormData","stopImmediatePropagation","formEvent","target","append","ctNoCookieConstructHiddenField","Function","timerId","clearTimeout","options","multiple","filter","option","selected","map","ctCheckInternal","currForm","ctData","key","url","ctPublicFunctions","_ajax_url","success","alert","origSubmit","ctCheckInternalIsExcludedForm","some","match","RegExp","blog_home","item","ctCurrAction","ctCurrForm","settings__forms__check_internal","formClone","cloneNode","replaceChild","submit"],"mappings":"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"}