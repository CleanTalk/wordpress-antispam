class CtBotDetectorWidget{titleOnCheck="botDetector in action!";titleActive="";cleantalkLogo="https://s3.eu-central-1.amazonaws.com/cleantalk-ctask-atts/accounts/1/148997/57d089a85d4d208d/web_hi_res_512.png";logoAltText="CleanTalk";privacyLink="https://cleantalk.org/privacy";termsLink="https://cleantalk.org/terms";svgBad='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="#FF0000"/></svg>';svgGood='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" fill="#4CAF50"/></svg>';container=null;collapsedContent=null;fullContent=null;visitorIsBot=!1;storageNameWidgetRendered="ct_widget_rendered";storageNameVisitorChecked="ct_widget_visitor_checked";constructor(){this.addStyles(),this.addEventListeners()}initWidget(){this.titleActive=this.titleOnCheck,this.renderWidget(),this.showWidget()}addEventListeners(){this.storageGetVisitorChecked()||(this.storageSetWidgetRendered(0),this.storageSetVisitorChecked(0),document.addEventListener("ctBotDetectorStart",()=>{this.storageGetWidgetRendered()||(this.initWidget(),this.storageSetWidgetRendered(1))}),document.addEventListener("ctBotDetectorEnd",()=>{this.storageGetWidgetRendered()&&(this.collapseWidget(),this.storageSetVisitorChecked(1))}),document.addEventListener("ctCheckBotStarted",()=>{this.storageGetWidgetRendered()||(this.initWidget(),this.storageSetWidgetRendered(1))}),document.addEventListener("ctCheckBotFinished",()=>{this.storageGetWidgetRendered()&&(this.collapseWidget(),this.storageSetVisitorChecked(1))}),setTimeout(()=>{this.storageGetWidgetRendered()||(this.initWidget(),this.storageSetWidgetRendered(1),this.collapseWidgetByTimeout())},1e3))}renderWidget(){this.container=document.querySelector(".ct-browser-check-container")||document.createElement("div"),this.container.classList.contains("ct-browser-check-container")||(this.container.classList.add("ct-browser-check-container"),this.container.classList.add("ct-widget-hidden-element"),document.body.appendChild(this.container)),this.container.innerHTML="",this.collapsedContent=this.createCollapsedContent(),this.closeButton=this.createCloseButton(),this.container.appendChild(this.closeButton),this.container.appendChild(this.collapsedContent),this.fullContent=this.createFullContent(),this.container.appendChild(this.fullContent),this.container.addEventListener("click",e=>{this.toggleWidget(e)})}createSpinner(){var e=document.createElement("div");return e.className="ct-browser-check-spinner ct-widget-spinner-loader",e}createCollapsedContent(){var e=document.createElement("div"),t=(e.id="ct_collapsed_widget_wrapper",e.className="ct-widget-hidden-element",document.createElement("div")),i=(t.style.width="30px",t.style.height="30px",document.createElement("img")),i=(i.src=this.cleantalkLogo,t.appendChild(i),document.createElement("div"));return i.textContent=this.logoAltText,e.appendChild(t),e.appendChild(i),e}createFullContent(){var e=document.createElement("div"),t=(e.id="ct_full_widget_wrapper",e.className="ct-widget-full-wrapper",e.appendChild(this.createSpinner()),document.createElement("div"));return t.className="ct-browser-check-title",t.textContent=this.titleActive,e.appendChild(t),e.appendChild(this.createCompanyInfo()),e}createCloseButton(){var e=document.createElement("button");return e.classList.add("ct-widget-close-button"),e.classList.add("ct-widget-hidden-element"),e.innerHTML=`
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1 1L11 11M1 11L11 1" stroke="#777777" stroke-width="2" stroke-linecap="round"/>
        </svg>
    `,e.addEventListener("click",()=>{this.hideWidget()}),e.title="Close",e}createCompanyInfo(){var e=document.createElement("div"),t=(e.className="ct-browser-check-company-info",document.createElement("div")),i=(t.className="ct-browser-check-company-info-wrapper",document.createElement("div")),n=(i.className="ct-browser-check-company-info-logo",i.style.width="20px",i.style.height="20px",document.createElement("img")),n=(n.src=this.cleantalkLogo,n.alt=this.logoAltText,i.appendChild(n),document.createElement("div")),i=(n.className="ct-browser-check-company-info-title",n.textContent=this.logoAltText,t.appendChild(i),t.appendChild(n),document.createElement("div")),n=(i.className="ct-browser-check-company-info-description",document.createElement("a")),s=(n.href=this.privacyLink,n.target="_blank",n.textContent="Privacy",n.className="widget_links",document.createElement("span")),o=(s.textContent="Â·",document.createElement("a"));return o.href=this.termsLink,o.target="_blank",o.textContent="Terms",o.className="widget_links",i.appendChild(n),i.appendChild(s),i.appendChild(o),e.appendChild(t),e.appendChild(i),e}showWidget(){this.container.classList.remove("ct-widget-hidden-element")}hideWidget(){this.container.classList.add("ct-widget-hidden-element")}toggleWidget(e){e.stopPropagation(),this.collapsedContent.classList.contains("ct-widget-hidden-element")?this.collapseWidget():this.openWidget()}collapseWidgetByTimeout(e=3e3){setTimeout(()=>{this.collapseWidget(),this.storageSetVisitorChecked(1)},e)}collapseWidget(){this.fullContent.classList="ct-widget-hidden-element",this.container.style.width="80px",this.collapsedContent.classList="ct-widget-collapsed-wrapper",this.closeButton.classList.remove("ct-widget-hidden-element")}openWidget(){this.fullContent.classList="ct-widget-full-wrapper",this.container.style.width="320px",this.collapsedContent.classList="ct-widget-hidden-element",this.closeButton.classList.add("ct-widget-hidden-element")}addStyles(){var e;"adoptedStyleSheets"in document?((e=new CSSStyleSheet).replaceSync(this.getStylesText()),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]):((e=document.createElement("style")).textContent=this.getStylesText(),document.head.appendChild(e))}getStylesText(){return`
        
        .widget_links{
            font-size: 12px;
            font-weight: normal;
            margin: 0.1em;
        }
        /* Loader styles */
        .ct-browser-check-loader { 
            width: 20px; 
            margin: 5px auto;
            aspect-ratio: 1; 
            border: 3px solid #F3F6F9; 
            border-radius: 50%; 
            position: relative; 
            transform: rotate(45deg); 
        } 
        
        .ct-browser-check-loader::before { 
            content: ""; 
            position: absolute; 
            inset: -3px; 
            border-radius: 50%; 
            border: 3px solid #026E88; 
            animation: l18 2s infinite linear; 
        } 
        
        /* Container styles */
        .ct-browser-check-container {
            font-size: 12px;
            font-weight: bold;
            color: #777777;
            position: fixed;
            top: calc(97% - 80px);
            right: -5px;
            width: 320px;
            height: 80px;
            z-index: 9999;
            background-color: #fff;
            border-radius: 5px 0 0 5px;
            border: 1px solid #bbbbbb;
            box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.1);
            transition: right 0.3s ease-in-out;
            padding: 1% 0px;
        }
        
        /* Company info styles */
        .ct-browser-check-company-info-wrapper {
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: center;
            align-items: flex-end;
        }
        
        /* Widget layout styles */
        .ct-widget-collapsed-wrapper {
            display: flex; 
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%; 
        }
        
        /* Close button styles */
        .ct-widget-close-button {
            position: absolute;
            top: -6px;
            right: calc(100% - 8px);
            width: 15px;
            height: 15px;
            padding: 4px;
            background: white;
            box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.1);
            cursor: pointer;
            border: 1px solid #bbbbbb;
            border-radius: 15px;
            transition: opacity 0.2s ease;
        }
        
        .ct-widget-close-button:hover {
            scale: 1.1;
        }
        
        .ct-widget-close-button svg {
            display: block;
            width: 100%;
            height: 100%;
        }
        
        .ct-widget-full-wrapper {
            display: flex; 
            flex-direction: row;
            justify-content: space-evenly;
            align-items: center; 
        }
        
        .ct-widget-hidden-element {
            display: none;
        }
        
        .ct-widget-spinner-loader { 
                width: 40px; 
                aspect-ratio: 1; 
                border: 10px solid #F3F6F9; 
                border-radius: 50%; 
                position: relative; 
                transform: rotate(45deg); 
            } 
        .ct-widget-spinner-loader::before { 
            content: ""; 
            position: absolute; 
            inset: -10px; 
            border-radius: 50%; 
            border: 10px solid #026E88; 
            animation: l18 3s infinite linear; 
        } 
        
        /* Animation keyframes */
        @keyframes l18 { 
            0% { clip-path: polygon(50% 50%, 0 0, 0 0, 0 0, 0 0, 0 0) } 
            25% { clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 0, 100% 0, 100% 0) } 
            50% { clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%) } 
            75% { clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 100%) } 
            100% { clip-path: polygon(50% 50%, 0 0, 100% 0, 100% 100%, 0 100%, 0 0) } 
        }
    `}storageSetWidgetRendered(e){sessionStorage.setItem(this.storageNameWidgetRendered,e.toString())}storageGetWidgetRendered(){return"1"===sessionStorage.getItem(this.storageNameVisitorChecked)}storageSetVisitorChecked(e){sessionStorage.setItem(this.storageNameVisitorChecked,e.toString())}storageGetVisitorChecked(){return"1"===sessionStorage.getItem(this.storageNameVisitorChecked)}}document.addEventListener("DOMContentLoaded",function(){console.log("DOMContentLoaded");var e=new CtBotDetectorWidget;console.log(e)});
//# sourceMappingURL=apbct-bot-detector-browser-check.min.js.map
